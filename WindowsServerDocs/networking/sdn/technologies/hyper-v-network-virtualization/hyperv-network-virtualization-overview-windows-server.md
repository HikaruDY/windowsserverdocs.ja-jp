---
title: Windows Server 2016 で HYPER-V ネットワーク仮想化の概要
description: このトピックでは、Windows Server 2016 で HYPER-V ネットワーク仮想化の概要を提供します。
manager: brianlic
ms.custom: na
ms.prod: windows-server-threshold
ms.reviewer: na
ms.suite: na
ms.technology:
- networking-sdn
ms.tgt_pltfrm: na
ms.topic: article
ms.assetid: 0115b7ad-d229-4c69-9d7e-a3f5fbaa3b2f
ms.author: pashort
author: shortpatti
ms.openlocfilehash: d73b377a10842d32e224100e59d117fddc395ea2
ms.sourcegitcommit: eaf071249b6eb6b1a758b38579a2d87710abfb54
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/31/2019
ms.locfileid: "66446279"
---
# <a name="hyper-v-network-virtualization-overview-in-windows-server-2016"></a>Windows Server 2016 で HYPER-V ネットワーク仮想化の概要

>適用対象:Windows Server 2016 の Windows Server (半期チャネル)

Windows Server 2016、Virtual Machine Manager では、Microsoft は、エンド ツー エンドのネットワーク仮想化ソリューションを提供します。  Microsoft のネットワーク仮想化ソリューションを構成する 5 つの主要なコンポーネントです。  

-   **Windows Server 用 Windows Azure Pack**テナント ポータルで、仮想ネットワークを作成して、管理ポータルの仮想ネットワークを管理する接続を提供します。  

-   **Virtual Machine Manager** (VMM) ネットワーク ファブリックの一元管理を提供します。  

-   **Microsoft ネットワーク コント ローラー**は、データセンターの仮想および物理インフラストラクチャの管理、構成、監視、およびトラブルシューティングの自動化を行う、一元的でプログラミング可能なポイントを提供します。  

-   **Hyper-V ネットワーク仮想化** は、ネットワーク トラフィックを仮想化するために必要なインフラストラクチャを提供します。  

-   **Hyper-V ネットワーク仮想化ゲートウェイ**は、仮想ネットワークと物理ネットワーク間の接続を可能にします。  

このトピックでは、概念を紹介し、主な利点と、HYPER-V ネットワーク仮想化 (全体的なネットワーク仮想化ソリューションの一部) で Windows Server 2016 の機能について説明します。 エンタープライズ ワークロード統合を考慮したプライベート クラウドおよび Infrastructure as a Service (IaaS) のパブリック クラウド サービス プロバイダーの両方に対するネットワーク仮想化の利点を説明します。  

Windows Server 2016 でネットワーク仮想化の技術的な詳細については、次を参照してください。 [Windows Server 2016 で Hyper-v ネットワーク仮想化の技術的な詳細](../../../sdn/technologies/hyper-v-network-virtualization/hyperv-network-virtualization-technical-details-windows-server.md)します。  

**もしかしてください。**  

-   [HYPER-V ネットワーク仮想化の概要](assetId:///bf1dba9d-1960-4dd2-a5e2-99466a02044b)(Windows Server 2012 R2)  

-   [HYPER-V の概要](assetId:///5aad349f-ef06-464a-b36f-366fbb040143)  

-   [Hyper-V 仮想スイッチの概要](assetId:///e6ec46af-6ef4-49b3-b1f1-5268dc03f05b)  

## <a name="BKMK_OVER"></a>機能の説明  
HYPER-V ネットワーク仮想化は、サーバー仮想化 (ハイパーバイザー) が、オペレーティング システムに「仮想マシン」を提供する方法のような仮想マシンに「仮想ネットワーク」(VM ネットワークと呼ばれます) を提供します。 ネットワーク仮想化は、仮想ネットワークを物理ネットワーク インフラストラクチャから切り離し、仮想マシンのプロビジョニングから VLAN や階層的な IP アドレス割り当ての制約を除去します。 このような柔軟性により、ユーザーは IaaS クラウドを簡単に移動でき、ホスト側やデータセンターの管理者はインフラストラクチャを効率よく管理できるようになる一方で、必要なマルチテナントの分離、セキュリティ要件、およびオーバーラップする仮想マシン IP アドレスのサポートは維持されます。  

ユーザーはデータセンターをクラウドにシームレスに拡張することを希望しています。 現在は、そのようなシームレスなハイブリッド クラウド アーキテクチャには技術的な課題があります。 既存のネットワーク トポロジ (サブネット、IP アドレス、ネットワーク サービス、および。) クラウドで再利用して、オンプレミス リソースとそのクラウド リソース間のブリッジ顧客直面最も大きな難関の 1 つは。  Hyper-V ネットワーク仮想化は、基盤の物理ネットワークから独立した VM ネットワークの概念を提供します。 1 つ以上の仮想サブネットから構成される VM ネットワークのこの概念により、仮想ネットワークに接続された仮想マシンの物理ネットワーク内の正確な場所は、仮想ネットワーク トポロジから分離されます。 その結果、クラウド内の既存の IP アドレスとトポロジを維持しながら仮想サブネットをクラウドに簡単に移動でき、既存のサービスはサブネットの物理的な場所に関係なく動作を続けることができます。 つまり、Hyper-V ネットワーク仮想化はシームレスなハイブリッド クラウドを可能にします。  

ハイブリッド クラウドに加えて、データセンターを統合し、プライベート クラウドを作成することにより、クラウド アーキテクチャの内部的な効率性とスケーラビリティのメリットを得られます。 HYPER-V ネットワーク仮想化は、優れた柔軟性と効率性 (仮想ので)、事業単位の分離することで、プライベート クラウドのネットワーク トポロジの実際の物理ネットワーク トポロジから。 これにより、事業単位は、相互に分離していても、既存のネットワーク トポロジを引き続き維持しながら、内部プライベート クラウドを簡単に共有できます。 データセンター運用チームは、サーバーを停止することなくデータセンター内のどこにでもワークロードを柔軟に展開し、動的に移動できるため、運用効率が向上し、データセンター全体が効率化されます。  

ワークロード所有者では、主な利点に移動できる「トポロジ」ワークロードをクラウドに IP アドレスの変更やアプリケーションを書き直したりなし。 たとえば、典型的な 3 層 LOB アプリケーションは、フロントエンド層、ビジネス ロジック層、およびデータベース層で構成されます。 Hyper-V ネットワーク仮想化では、ポリシーを使用することにより、サービスのルーティング トポロジと IP アドレスを維持しながら (つまり、仮想マシン IP アドレス)、3 つの階層の全部または一部をクラウドに移動できます。アプリケーションを変更する必要はありません。  

インフラストラクチャ所有者の場合は、仮想マシンの配置の柔軟性が増すため、仮想マシンを変更したりネットワークを再構成したりしなくても、データセンター内の任意の場所にワークロードを移動できます。 たとえば、Hyper-V ネットワーク仮想化ではサブネット間のライブ マイグレーションが可能であるため、サービスを停止することなく仮想マシンをデータセンター内のどこにでもライブ マイグレーションできます。 従来のライブ マイグレーションは同じサブネットに限られ、仮想マシンの場所が制限されていました。 サブネット間のライブ マイグレーションにより、管理者は動的なリソース要件やエネルギー効率に基づいてワークロードを統合でき、ユーザーのワークロード稼働時間を中断することなくインフラストラクチャのメンテナンスを実行できます。  

## <a name="BKMK_APP"></a>実際の適用  
仮想化データセンターの飛躍と共に、IT 組織やホスティング プロバイダー (コロケーションを運用したり物理サーバーのレンタルを行うプロバイダー) は、顧客にオンデマンドで簡単にサーバー インスタンスを提供できる柔軟性に優れた仮想化インフラストラクチャを展開するようになってきました。 この新しい形態のサービスは Infrastructure as a Service (IaaS) と呼ばれています。 Windows Server 2016 では、プライベート クラウドとサービスの運用モデルとして、IT への移行を構築する企業のお客様を有効にするすべての必要なプラットフォーム機能を提供します。 Windows Server 2016 2016 ホスト側はパブリック クラウドを構築し、IaaS ソリューションを顧客に提供することもできます。 HYPER-V ネットワーク仮想化ポリシーを管理するには、Virtual Machine Manager と Windows Azure Pack と組み合わせると、Microsoft は、強力なクラウド ソリューションを提供します。  

Windows Server 2016 で HYPER-V ネットワーク仮想化の管理専用の IaaS クラウドを拡張するときの企業でオーバーヘッドを削減するポリシー ベースでソフトウェア制御のネットワーク仮想化を提供して、クラウドのホスト側の向上を提供します柔軟性とスケーラビリティが高いリソース使用率を実現するために仮想マシンを管理するためです。  

異なる組織部門 (専用クラウドの場合) または異なる顧客 (ホステッド クラウドの場合) の仮想マシンを扱う IaaS のシナリオでは、セキュアな分離が必要となります。 今日のソリューションでは、仮想ローカル エリア ネットワーク (Vlan) は、このシナリオでは、重大な欠点もを表示できます。  

**Vlan**  

アドレス空間の再利用およびテナントの分離のための機構としては、現在ほとんどの組織で VLAN が使用されています。 VLAN では、イーサネット フレーム ヘッダーに明示的に挿入されたタグ (VLAN ID) が使用されます。分離はイーサネット スイッチによって行われ、トラフィックは、同じ VLAN ID のネットワーク ノードにしか流れないように制限されます。 VLAN の主な欠点を以下に示します。  

-   運用環境のスイッチの再構成には煩雑な作業が伴うため、動的データセンター内で仮想マシンまたは分離境界を移動する際に、不注意によって機能を停止させてしまうリスクが高くなります。  

-   最大 VLAN 数は 4094 であり、一般的なスイッチでサポートされる VLAN ID 数は 1000 程度であるため、スケーラビリティは制限されています。  

-   単一の IP サブネット内に制限されます。1 つの VLAN 内のノード数には限りがあり、仮想マシンの配置は物理的な場所に基づいて制限されます。 VLAN は複数のサイトに拡張できますが、VLAN 全体が同じサブネット上に存在する必要があります。  

**IP アドレスの割り当て**  

VLAN の欠点に加えて、仮想マシンの IP アドレス割り当てにも次のような問題があります。  

-   データセンター ネットワーク インフラストラクチャ内の物理的な場所によって、仮想マシンの IP アドレスが決まります。 そのため、クラウドに移動するときは通常、サービス ワークロードの IP アドレスの変更が必要になります。  

-   ファイアウォール規則、リソース検出、ディレクトリ サービスなど、ポリシーは IP アドレスに結び付けられます。 IP アドレスを変更するときは、関連するすべてのポリシーの更新が必要です。  

-   仮想マシンの展開とトラフィックの分離は、トポロジに依存します。  

データセンターのネットワーク管理者は、データセンターの物理的なレイアウトを計画するときに、サブネットの物理的な配置とルーティングについて意思決定を行う必要があります。 このような決定の基になる IP およびイーサネット技術により、データセンター内の特定のラックに接続されている特定のサーバーまたはブレードで実行している仮想マシンに割り当てることのできる IP アドレスが左右されます。 データセンターにプロビジョニングされ、配置される仮想マシンは、IP アドレスに関係した選択肢と制限を忠実に守る必要があります。 したがって、よくある結果として、データセンターの管理者は新しい IP アドレスを仮想マシンに割り当てることになります。  

このような要件の問題は、アドレスだけでなく、セマンティック情報も IP アドレスに関連付けられることです。 たとえば、あるサブネットが、特定のサービスを含んでいたり、物理的に区別された場所に存在している場合があります。 ファイアウォール規則、アクセス制御ポリシー、IPsec のセキュリティ アソシエーションは一般に、IP アドレスと関連付けられます。 IP アドレスを変更すると、元の IP アドレスに基づくすべてのポリシーの調整を強いられます。 この再割り当ての負担があまりに大きいために、多くの企業は、新しいサービスのみをクラウドに展開し、既存のアプリケーションについてはクラウドへの移行を見送っています。  

Hyper-V ネットワーク仮想化は、ユーザーの仮想マシンの仮想ネットワークを、物理ネットワーク インフラストラクチャから切り離します。 その結果、ユーザーの仮想マシンは元の IP アドレスを維持でき、一方で、データセンター管理者は物理 IP アドレスまたは VLAN ID を再構成することなくデータセンター内の任意の場所にユーザーの仮想マシンをプロビジョニングできます。 次のセクションでは主な機能をまとめます。  

## <a name="BKMK_NEW"></a>重要な機能  
主な機能、利点、および Windows Server 2016 で HYPER-V ネットワーク仮想化の機能の一覧を次には。  

-   **柔軟なワークロード配置 - ネットワークの分離と IP アドレスの再利用 Vlan なし**  

    HYPER-V ネットワーク仮想化では、データ センター内部ワークロード配置の自由を提供する、ホスト側の物理ネットワーク インフラストラクチャから顧客の仮想ネットワークを分離します。 仮想マシンのワークロード配置は、ソフトウェアで定義されたマルチテナント仮想化ポリシーに基づいて Hyper-V ホスト内で強制されるため、IP アドレス割り当てまたは物理ネットワークの VLAN 分離要件によって制限されなくなります。  

    IP アドレスがオーバーラップする異なるユーザーの仮想マシンを、同じホスト サーバーに展開できます。面倒な VLAN 構成は必要なく、IP アドレス階層に違反することはありません。 これにより、共有 IaaS ホスティング プロバイダーへのワークロードの移行が簡単になり、ユーザーは何も変更しなくてもワークロードを移動でき、仮想マシンの IP アドレスも変更する必要はありません。 ホスティング プロバイダーの場合、既存のネットワーク アドレス空間を共有 IaaS データセンターに拡張することを望む多数のユーザーをサポートしようとすると、オーバーラップする可能性のあるアドレス空間が共存できるようにユーザーごとに分離した VLAN を構成して維持する複雑な作業が必要になります。 Hyper-V ネットワーク仮想化では、オーバーラップするアドレスのサポートが容易になり、ホスティング プロバイダーが行う必要のあるネットワークの再構成は少なくて済みます。  

    さらに、物理インフラストラクチャのメンテナンスやアップグレードを行うときに、ユーザーのワークロードを停止する必要はありません。 Hyper-V ネットワーク仮想化では、特定のホスト、ラック、サブネット、VLAN、またはクラスター全体の仮想マシンを移行するときに、物理 IP アドレスの変更や大がかりな再構成は必要ありません。  

-   **共有 IaaS クラウドを導入するワークロードの簡単な移動にします。**  

    Hyper-V ネットワーク仮想化では、IP アドレスおよび仮想マシンの構成を変更する必要はありません。 これにより、IT 組織は、ワークロードの最小限の再構成またはインフラストラクチャ ツールとポリシーによって、より簡単にワークロードをデータセンターから共有 IaaS ホスティング プロバイダーに移動できます。 2 つのデータセンターが接続されている場合は、これらのツールを再構成なしで使い続けることができます。  

-   **サブネット間のライブ マイグレーション**  

    仮想マシンのワークロードのライブ マイグレーション従来に制限されて、同じ IP サブネットまたは VLAN、IP アドレスを変更する仮想マシンのゲスト オペレーティング システムが必要なサブネットを越えるためです。 このアドレス変更により、既存の通信が切断され、仮想マシンで実行しているサービスが中断します。 HYPER-V ネットワーク仮想化ワークロードできるライブ ワークロードの IP アドレスを変更することがなく、別のサブネットで Windows Server 2016 を実行しているサーバーに 1 つのサブネットで Windows Server 2016 を実行しているサーバーから移行します。 Hyper-V ネットワーク仮想化では、ライブ マイグレーションによる仮想マシンの位置の変更が更新され、移行される仮想マシンと通信中のホスト間で同期されることが保証されます。  

-   **サーバーとネットワークの分離された管理の簡単な管理にします。**  

    ワークロードの移行と配置が、基になる物理ネットワークの構成とは独立しているため、サーバー ワークロードの配置が単純化されます。 サーバー管理者はサービスとサーバーの管理に、ネットワーク管理者は全体的なネットワーク インフラストラクチャとトラフィック管理に専念することができます。 これにより、データセンター サーバー管理者は仮想マシンの IP アドレスの変更を行うことなく仮想マシンを展開および移行できます。 Hyper-V ネットワーク仮想化では仮想マシンをネットワーク トポロジとは関係なく配置できるためオーバーヘッドが減り、分離境界が変わる可能性がある配置が減ります。  

-   **ネットワークを簡素化し、サーバー/ネットワーク リソースの使用率の向上**  

    物理ネットワーク インフラストラクチャの縛りによって仮想マシンが自由に配置できなかったり、VLAN に由来した制限があることなどから、過剰なプロビジョニングや、リソースを十分に活かしきれない事態が生じています。 こうした縛りをなくすことによって、仮想マシンのワークロードはもっと自由に配置できるようになり、ネットワークの管理が省力化され、サーバーとネットワークのリソース使用効率は向上します。 Hyper-V ネットワーク仮想化は物理データセンターのコンテキストで VLAN をサポートします。 たとえば、データセンターですべての Hyper-V ネットワーク仮想化トラフィックを特定の VLAN で実行できます。  

-   **既存のインフラストラクチャおよび新技術との互換性**  

    HYPER-V ネットワーク仮想化は、今日のデータ センターにデプロイできるまだ「フラット ネットワーク」テクノロジのデータ センターと互換性があります。  

    たとえば、Windows Server 2016 での HNV サポート VXLAN のカプセル化形式と Open vSwitch Database Management Protocol (OVSDB) として、SouthBound Interface (SBI).  

-   **相互運用性およびエコシステム準備しています**  

    Hyper-V ネットワーク仮想化は、クロス プレミス接続、記憶域ネットワーク (SAN)、非仮想化リソース アクセスなど、既存リソースとの通信用の複数の構成をサポートします。 マイクロソフトは、エコシステム パートナーと協力して、Hyper-V ネットワーク仮想化のパフォーマンス、スケーラビリティ、管理性をサポートし、拡張します。  

-   **ポリシー ベースの構成**  

    Windows Server 2016 でネットワーク仮想化ポリシーは、Microsoft ネットワーク コント ローラーで構成されます。 ネットワーク コント ローラーには、Restful Northbound API と、ポリシーを構成する Windows PowerShell インターフェイスがあります。 Microsoft ネットワーク コント ローラーの詳細については、次を参照してください。[ネットワーク コント ローラー](../../../sdn/technologies/network-controller/../../../sdn/technologies/network-controller/Network-Controller.md)します。  

## <a name="BKMK_SOFT"></a>ソフトウェアの要件  
Microsoft ネットワーク コント ローラーを使用して、HYPER-V ネットワーク仮想化では、Windows Server 2016 と HYPER-V ロールが必要です。  

## <a name="BKMK_LINKS"></a>参照してください。  
についての詳細については、Windows Server 2016 で HYPER-V ネットワーク仮想化は、次のリンクを参照してください。  


|       コンテンツの種類       |                                                                                                                                参考資料                                                                                                                                |
|--------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **コミュニティ リソース**  |     -   [プライベート クラウド アーキテクチャのブログ](https://blogs.technet.com/b/privatecloud/archive/2012/03/19/cloud-datacenter-network-architecture-in-the-windows-server-8-era.aspx)<br />-質問があります。 [cloudnetfb@microsoft.com](mailto:%20cloudnetfb@microsoft.com)     |
|         **RFC**          |                                                                                                     -   VXLAN - [RFC 7348](https://www.rfc-editor.org/info/rfc7348)                                                                                                      |
| **関連テクノロジ** | -   [ネットワーク コント ローラー](../../../sdn/technologies/network-controller/../../../sdn/technologies/network-controller/Network-Controller.md)<br />-   [HYPER-V ネットワーク仮想化の概要](assetId:///bf1dba9d-1960-4dd2-a5e2-99466a02044b)(Windows Server 2012 R2) |

