---
title: 高パフォーマンスのネットワーク
description: このトピックでは、オフロードと Windows Server 2016 での最適化テクノロジの概要を示し、詳細なガイダンスについては、これらのテクノロジへのリンクが含まれています。
ms.prod: windows-server-threshold
ms.technology: networking
ms.topic: article
ms.assetid: 0cafb1cc-5798-42f5-89b6-3ffe7ac024ba
manager: dougkim
ms.author: pashort
author: shortpatti
ms.date: 09/12/2018
ms.openlocfilehash: 09e18a41452baa0add8e055ceb22d2f5c2ad886e
ms.sourcegitcommit: 0d0b32c8986ba7db9536e0b8648d4ddf9b03e452
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/17/2019
ms.locfileid: "59815833"
---
## <a name="hardware-only-ho-features-and-technologies"></a>ハードウェアのみ (HO) の機能とテクノロジ

これらのハードウェア アクセラレーションは、ソフトウェアと組み合わせて、ネットワーク パフォーマンスを向上させるが、密接ソフトウェア機能の一部ではありません。 これらの例には、割り込み節度、フロー制御、および受信側 IPv4 チェックサム オフロードが含まれます。

>[!TIP]
>SH とホストの機能はインストールされている NIC がサポートされている場合に使用です。 次の機能の説明では、NIC がこの機能をサポートしているかを確認する方法を説明します。

### <a name="address-checksum-offload"></a>アドレス チェックサム オフロード

アドレス チェックサム オフロードは、送信および受信の NIC のハードウェアにアドレス チェックサム (IP、TCP、UDP) の計算の負荷を軽減する NIC 機能です。

受信パスでは、チェックサム オフロードは、(必要に応じて)、IP、TCP と UDP ヘッダーでチェックサムを計算し、チェックサムに渡されたし、失敗、または、オンになっていないかどうか、OS を示します。 場合は、NIC は、チェックサムが有効で、OS がチャレンジの対象外のパケットを受け入れることをアサートします。 NIC アサート チェックサムが無効であるかチェックしていない場合、IP/TCP または UDP スタック内部的にチェックサムを計算、もう一度です。 計算されたチェックサムが失敗した場合、パケットは破棄を取得します。

送信パス上は、チェックサム オフロードは、計算し、適切な IP、TCP または UDP ヘッダーにチェックサムを挿入します。

チェックサムの計算と Large Send Offload (LSO) 機能を使用して、ミニポート ドライバーに送信されるパケットの挿入は、送信パス上のチェックサム オフロードを無効化は無効になりません。  チェックサム オフロードのすべての計算を無効にするには、は、LSO もユーザーにも無効にする必要があります。

_**管理アドレス チェックサム オフロード**_

詳細プロパティでは、いくつかの異なるプロパティがあります。

-   IPv4 チェックサム オフロード

-   TCP チェックサム オフロード (IPv4)

-   TCP チェックサム オフロード (IPv6)

-   UDP チェックサム オフロード (IPv4)

-   UDP チェックサム オフロード (IPv6)

既定では、これらをすべて常に有効にします。 常にすべてのこれらのオフロードを有効にすることをお勧めします。

チェックサム オフロードを管理できます - NetAdapterChecksumOffload 有効にして無効化 NetAdapterChecksumOffload コマンドレットを使用します。 たとえば、次のコマンドレットは、(IPv4) の TCP および UDP (IPv4) チェックサムの計算を有効にします。

```PowerShell
Enable-NetAdapterChecksumOffload –Name * -TcpIPv4 -UdpIPv4
```

_**アドレス チェックサム オフロードの使用に関するヒント**_

アドレス チェックサム オフロードは、どのようなワークロードや状況に関係なく常に有効する必要があります。 すべてのほとんどの basic がこれをオフロード テクノロジは常に、ネットワークのパフォーマンスを向上します。 その他のステートレス オフロードなどの作業に必要なチェックサム オフロードも受信側 scaling (RSS)、セグメント coalescing (RSC)、受信および大量送信オフロード (LSO)。

### <a name="interrupt-moderation-im"></a>割り込み節度 (IM)

IM は、オペレーティング システムを中断する前に、複数の受信パケット数をバッファーします。 NIC は、パケットを受信するときに、タイマーを開始します。 バッファーがいっぱいの場合、または、早いタイマーが切れたときに、NIC は、オペレーティング システムを中断します。 

複数の Nic は、Interrupt Moderation の以上だけオン/オフをサポートします。 ほとんどの Nic は、IM の低、中、高率の概念をサポートします。 異なるレートでは、(低割り込み節度) 待機時間を短縮または割り込み (高割り込み節度) を削減するより短い、または長いタイマーと適切なバッファー サイズの調整を表します。

割り込みを削減し、過度にパケット配信を遅延折り合いに残高があります。 一般に、パケットの処理が有効になっている Interrupt Moderation で効率的です。 高パフォーマンスや低待機時間のアプリケーションは、無効にするか、割り込み節度を減らすことの影響を評価する必要があります。

### <a name="jumbo-frames"></a>Jumbo Frame

ジャンボ フレームは、NIC ドライバーとネットワークの機能で、1,500 バイトは、既定値よりもかなり大きくフレームを送信するアプリケーションです。 通常ジャンボ フレームの制限は約 9000 バイトですより小さい場合があります。

Windows Server 2012 R2 でのジャンボ フレームのサポートへの変更はありませんでした。

Windows Server 2016 では、新しいオフロードがあります。MTU_for_HNV します。 この新しいオフロードは、カプセル化されたトラフィックは、ホストと隣接するスイッチ間でのセグメント化を必要としないことを確認するとしてのジャンボ フレームの設定で機能します。 SDN スタックのこの新機能では、どのような MTU をアドバタイズして、ネットワーク上で使用するには、どのような MTU を自動的に計算 NIC があります。 MTU をこれらの値は、HNV のオフロードが使用されている場合は別です。 (機能の互換性テーブル、表 1 MTU_for_HNV 必要があります同じ相互作用のオフロードが直接、HNVv2 に関連していますので HNVv2 オフロードと。)

### <a name="large-send-offload-lso"></a>Large Send Offload (LSO)

LSO により、データの大きなブロック、NIC と NIC の区切りに、データを渡すパケット内で、最大転送単位 (MTU) のネットワークに適合するアプリケーションです。

### <a name="receive-segment-coalescing-rsc"></a>Receive Segment Coalescing (RSC)

受信セグメントの結合とも呼ばれる大規模な受信オフロードは、ネットワークの割り込みの間に到着して、オペレーティング システムに配布する前の 1 つのパケットに結合されている、同じストリームの一部であるパケットを受け取る NIC 機能です。 RSC は、HYPER-V 仮想スイッチにバインドされている Nic でご利用いただけません。 詳細については、次を参照してください。 [Receive セグメント Coalescing (RSC)](https://docs.microsoft.com/windows-server/networking/technologies/hpn/rsc-in-the-vswitch)します。