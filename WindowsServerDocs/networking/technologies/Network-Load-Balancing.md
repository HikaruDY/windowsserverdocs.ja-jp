---
title: ネットワーク負荷分散
description: このトピックでは、Windows Server 2016 でネットワーク負荷分散 (NLB) 機能の概要を説明し、作成、構成、および NLB クラスタの管理についての追加情報へのリンクが含まれています。
manager: brianlic
ms.prod: windows-server-threshold
ms.technology: networking-nlb
ms.topic: article
ms.assetid: 244a4b48-06e5-4796-8750-a50e4f88ac72
ms.author: pashort
author: shortpatti
ms.openlocfilehash: b9fd39381316a8bcd06328e7aa75492ed99bc7f1
ms.sourcegitcommit: 19d9da87d87c9eefbca7a3443d2b1df486b0b010
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/28/2018
---
# <a name="network-load-balancing"></a>ネットワーク負荷分散

>適用対象: Windows Server (半期チャネル)、Windows Server 2016

このトピックでは、Windows Server 2016 でネットワーク負荷分散 \(NLB\) 機能の概要を説明し、作成、構成、および NLB クラスタの管理についての追加情報へのリンクが含まれています。

NLB を使用すると、単一の仮想クラスターとして 2 つまたは複数のサーバーを管理します。 NLB は、可用性となど、FTP Web サイトで使われるインターネット サーバー アプリケーションのスケーラビリティを強化、ファイアウォール、プロキシ、仮想プライベート ネットワーク \(VPN\)、およびその他の mission\ クリティカルなサーバーです。   

>[!NOTE]
>Windows Server 2016 には、ソフトウェア定義ネットワーク \(SDN\) インフラストラクチャのコンポーネントとして新しい Azure 性に優れたソフトウェア ロード バランサー \(SLB\) が含まれます。 使用する NLB ではなく SLB SDN を使用している場合を使用している Windows 以外のワークロード発信ネットワーク アドレス変換を必要は \(NAT\)、またはレイヤー 3 \(L3\) または非 TCP ベースの負荷分散が必要です。 SDN 以外の場合の Windows Server 2016 で NLB を使用する続行することができます。 SLB の詳細については、次を参照してください。[ソフトウェア負荷分散 (SLB) SDN の](../sdn/technologies/network-function-virtualization/Software-Load-Balancing--SLB--for-SDN.md)します。

ネットワーク負荷分散 \(NLB\) 機能は、TCP/IP ネットワーク プロトコルを使用して複数のサーバーにトラフィックを分散します。 単一の仮想クラスターにアプリケーションを実行している 2 つ以上のコンピューターを組み合わせることでは、NLB は、信頼性とパフォーマンスの Web サーバーおよび他 mission\ クリティカルなサーバーを提供します。  
  
NLB クラスター内のサーバーと呼びます*ホスト*、し、各ホストは、サーバー アプリケーションの個別のコピーを実行します。 NLB は、クラスター内のホストにわたる、着信クライアント要求を分散します。 各ホストで処理される負荷を構成することができます。 処理負荷が増加するクラスターに動的にホストを追加することもできます。 NLB できますと呼ばれる指定された 1 つホストするすべてのトラフィックを送信しても、*既定のホスト*します。  
  
NLB で IP アドレスの同じセットで対応するクラスター内のすべてのコンピューターは、し、ホストごとに固有の専用 IP アドレスのセットを維持します。 Load\ 分散対応アプリケーションでは、ホストが失敗するか、またはオフラインになったときに、負荷が自動的に再配布稼働しているコンピューター間でします。 準備が整った時点、オフラインのコンピューター透過的にクラスターに再度参加でき、これにより、以下のトラフィックを処理するようにクラスター内の他のコンピューターのワークロードを分担できます。  
  
## <a name="BKMK_APP"></a>実際の適用  
NLB は、インターネット インフォメーション サービス \(IIS\) を実行する Web サーバーなどのステートレスなアプリケーションは、最小限のダウンタイムで利用できることを確認するのに役立ちますおよびスケーラブルな \ (負荷 increases\ として新しいサーバーの追加) をします。 次のセクションでは、NLB が高可用性、スケーラビリティ、およびこれらのアプリケーションを実行しているクラスター化されたサーバーの管理容易性をサポートする方法について説明します。  
  
### <a name="high-availability"></a>高可用性  
高可用性システムは、最小限のダウンタイムでサービスの許容レベルを確実に提供します。 高可用性を提供するには、NLB には、自動的に実行できる組み込みの機能が含まれています。  
  
-   失敗したかオフラインにするクラスター ホストを検出し、[回復します。  
  
-   ホストの追加または削除されたときに、ネットワークの負荷を分散します。  
  
-   回復し、10 秒以内ワークロードの再配分します。  
  
### <a name="scalability"></a>スケーラビリティ  
スケーラビリティとは、コンピューター、サービス、またはアプリケーションをパフォーマンスに対する要求を満たすために拡大できるどの程度の尺度です。 NLB クラスターの場合は、スケーラビリティは、全体的な負荷がクラスターの能力を超えたときに、既存のクラスターに 1 つまたは複数のシステムを追加する機能です。 スケーラビリティをサポートするには、NLB で次を行うことができます。  
  
-   個々 の TCP/IP サービスの NLB クラスター全体で負荷要求を分散します。  
  
-   1 つのクラスターで最大 32 台のコンピューターをサポートします。  
  
-   複数のサーバー負荷要求のバランスをとる \ (、同じクライアントまたは clients\ いくつかを使用して)、クラスター内の複数のホストにわたるします。  
  
-   クラスターを停止する必要はありません、負荷が増加するにつれて、NLB クラスターにホストを追加します。  
  
-   負荷の減少に応じて、ホストをクラスターから削除します。  
  
-   高パフォーマンスと低いオーバーヘッドを完全なパイプライン化を有効にします。 パイプライン化により、以前の要求に対する応答を待たず、NLB クラスタに送信される要求です。  
  
### <a name="manageability"></a>管理容易性  
管理容易性をサポートするには、NLB で次を行うことができます。  
  
-   管理および NLB マネージャーを使用して複数の NLB クラスターと 1 台のコンピューターからクラスター ホストを構成または[Windows PowerShell のネットワーク負荷分散 (NLB) コマンドレット](https://technet.microsoft.com/library/hh801274.aspx)します。
  
-   負荷分散のポート管理規則を使用して、1 つの IP ポートまたはポートのグループの動作を指定します。  
  
-   Web サイトごとに異なるポートの規則を定義します。 同じ load\ 分散サーバーのセットを使用して複数のアプリケーションや Web サイトの場合、ポートの規則に基づいて、移行先の仮想 IP アドレス \(using virtual clusters\) します。  

-   すべてのクライアントの要求を 1 つのホストを使用してオプション、シングル ホストのルールを指示します。 NLB は、特定のアプリケーションを実行している特定のホストに、クライアントの要求をルーティングします。  

-   特定の IP ポートに対する不正ネットワーク アクセスをブロックします。  

-   スイッチ ポートの混雑を制御するクラスター ホストでのインターネット グループ管理プロトコル \(IGMP\) のサポートを有効にする \ (入力方向のネットワーク パケットが、switch\ 上のすべてのポートに送信されるは) マルチキャスト モードで動作している場合。  

-   開始、停止、および Windows PowerShell コマンドまたはスクリプトを使用してリモートで NLB 操作を制御します。  

-   NLB イベントをチェックする Windows イベント ログを表示します。 NLB では、操作とクラスターの変更はすべてがイベント ログに記録されます。  

## <a name="important-functionality"></a>重要な機能  
 
NLB は、標準の Windows Server ネットワーク ドライバー コンポーネントとしてインストールされます。 動作は、TCP/IP ネットワーク スタックに対して透過的に実行します。 次の図は、一般的な構成で、NLB と他のソフトウェア コンポーネント間の関係を示します。  
  
![ネットワーク負荷分散と他のソフトウェア コンポーネント](../media/NLB/nlb.jpg)  
  
NLB の主な機能を次に示します。  
  
- 実行するハードウェアの変更は必要ありません。  
  
- ネットワーク負荷分散ツールを構成し、1 台のリモートまたはローカル コンピューターから複数のクラスターとのすべてのホスト管理を提供します。  
  
- クライアントが 1 つの論理インターネット名とクラスター IP アドレスとも呼ばれる仮想 IP アドレスを使用して、クラスターにアクセスできるように \ (各 computer\ の個別の名前を保持)。 NLB では、複数の仮想 IP アドレスをマルチホーム サーバー。  
  
> [!NOTE]  
> 仮想クラスターとして Vm を展開するときに、NLB はサーバーを複数の仮想 IP アドレスをマルチホーム化する必要はありません。  
  
- これにより、各ホストで複数の独立クラスターを構成する複数のネットワーク アダプターにバインドする NLB を使用できます。 複数のネットワーク アダプターのサポートは、単一のネットワーク アダプターで複数のクラスターを構成することは仮想クラスターで仮想クラスターとは異なります。  
  
- 必要ありませんサーバー アプリケーションを変更できるように、NLB クラスターで実行することができます。  
  
- ホスト クラスター ホストが失敗し、その後は、クラスターをオンラインに復帰を自動的に追加するように構成します。 追加されたホストは、クライアントから新しいサーバー要求の処理を開始できます。  
  
-   その他のホスト上のクラスター操作に影響を与えずにコンピューターをオフラインにして予防メンテナンスを実行できます。  
  
## <a name="BKMK_HARD"></a>ハードウェア要件  
NLB クラスターを実行するためのハードウェア要件を次に示します。  
  
-   クラスター内のすべてのホストは、同じサブネット上に存在する必要があります。  
  
-   各ホスト上のネットワーク アダプターの数に制限はありませんし、別のホストが異なる数のアダプターを持つことができます。  
  
-   各クラスター内ですべてのネットワーク アダプターはマルチキャストまたはユニキャストのどちらかである必要があります。 NLB は、マルチキャストとユニキャストが単一のクラスター内の混在する環境をサポートしていません。  
  
-   ユニキャスト モードを使用する場合へクラスターのクライアント トラフィックを処理するために使用するネットワーク アダプターがメディア アクセス制御 \(MAC\) アドレスの変更をサポートする必要があります。  
  
## <a name="BKMK_SOFT"></a>ソフトウェアの要件  
NLB クラスターを実行するソフトウェアの要件を次に示します。  
  
-   NLB を各ホストで有効にするアダプターの TCP/IP のみを使用できます。 その他のプロトコルを追加しないでください \ (たとえば、IPX\) このアダプターにします。  
  
-   クラスター内のサーバーの IP アドレスは静的である必要があります。  
  
> [!NOTE]  
> NLB は、動的ホスト構成プロトコル \(DHCP\) をサポートしていません。 NLB は、構成すると、各インターフェイス上の DHCP を無効にします。  
  
## <a name="BKMK_INSTALL"></a>インストール情報  
NLB 用のサーバー マネージャーまたは Windows PowerShell コマンドを使用して、NLB をインストールできます。

必要に応じて、ローカルまたはリモート NLB クラスターを管理するネットワーク負荷分散ツールをインストールすることができます。 ツールには、ネットワーク負荷分散マネージャーと NLB Windows PowerShell コマンドが含まれます。

### <a name="installation-with-server-manager"></a>Server Manager でのインストール

サーバー マネージャーで、使う追加の役割と機能のウィザードに追加する、**ネットワーク負荷分散**機能します。 ウィザードを完了して NLB をインストールすると、コンピューターを再起動する必要はありません。


### <a name="installation-with-windows-powershell"></a>Windows PowerShell を使用したインストール  

Windows PowerShell を使用して、NLB をインストールするに次のコマンド実行管理者特権の Windows PowerShell プロンプトで、コンピューターで NLB をインストールします。

    
    Install-WindowsFeature NLB -IncludeManagementTools
    
インストールが完了したら、コンピューターの再起動は必要ありません。

詳細については、次を参照してください。[Install-windowsfeature](https://technet.microsoft.com/library/jj205467.aspx)します。

### <a name="network-load-balancing-manager"></a>ネットワーク負荷分散マネージャー
サーバー マネージャーでネットワーク負荷分散マネージャーを開くにはクリックして**ツール**、] をクリックし、**ネットワーク負荷分散マネージャー**します。
  
## <a name="BKMK_LINKS"></a>その他のリソース  
次の表は、NLB 機能に関する追加情報へのリンクを示します。  
  
|コンテンツの種類|参照|  
|----------------|--------------|  
|展開|[ネットワーク負荷分散展開ガイド](https://technet.microsoft.com/library/cc754833(WS.10).aspx)& #124 です。[ネットワーク負荷分散ターミナル サービス構成](https://technet.microsoft.com/library/cc771300(v=WS.10).aspx)|  
|操作|[ネットワーク負荷分散クラスタを管理する](https://technet.microsoft.com/library/cc753954(WS.10).aspx)& #124 です。[ネットワーク負荷分散パラメーターを設定](https://technet.microsoft.com/library/cc731619(WS.10).aspx)& #124 です。[ネットワーク負荷分散クラスター上のホストを制御します。](https://technet.microsoft.com/library/cc770870(WS.10).aspx)|  
|トラブルシューティング|[ネットワーク負荷分散クラスターのトラブルシューティング](https://technet.microsoft.com/library/cc732592(WS.10).aspx)& #124 です。[NLB クラスターのイベントとエラー](https://technet.microsoft.com/library/cc731678(WS.10).aspx)|
|ツールと設定|[ネットワーク負荷分散の Windows PowerShell コマンドレット](https://go.microsoft.com/fwlink/p/?LinkId=238123)|
|コミュニティ リソース|[高可用性 \(Clustering\) フォーラム](https://go.microsoft.com/fwlink/p/?LinkId=230641)