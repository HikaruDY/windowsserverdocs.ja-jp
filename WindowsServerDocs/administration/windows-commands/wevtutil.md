---
title: wevtutil
description: 'Windows コマンド」のトピック * * *- '
ms.custom: na
ms.prod: windows-server-threshold
ms.reviewer: na
ms.suite: na
ms.technology: manage-windows-commands
ms.tgt_pltfrm: na
ms.topic: article
ms.assetid: d4c791e0-7e59-45c5-aa55-0223b77a4822 vhorne
author: coreyp-at-msft
ms.author: coreyp
manager: dongill
ms.date: 10/16/2017
ms.openlocfilehash: e6d57f95379fce80bec9cb5e8445b28f887123c8
ms.sourcegitcommit: 0d0b32c8986ba7db9536e0b8648d4ddf9b03e452
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/17/2019
ms.locfileid: "59826733"
---
# <a name="wevtutil"></a>wevtutil



イベント ログおよびパブリッシャーに関する情報を取得できます。 また、このコマンドを使用して、イベント マニフェストのインストールとアンインストールも実行できます。その他、クエリの実行や、ログのエクスポート、アーカイブ、消去も実行できます。 このコマンドを使用する方法の例については、[例](#BKMK_examples)を参照してください。

## <a name="syntax"></a>構文

```
wevtutil [{el | enum-logs}] [{gl | get-log} <Logname> [/f:<Format>]]
[{sl | set-log} <Logname> [/e:<Enabled>] [/i:<Isolation>] [/lfn:<Logpath>] [/rt:<Retention>] [/ab:<Auto>] [/ms:<MaxSize>] [/l:<Level>] [/k:<Keywords>] [/ca:<Channel>] [/c:<Config>]] 
[{ep | enum-publishers}] 
[{gp | get-publisher} <Publishername> [/ge:<Metadata>] [/gm:<Message>] [/f:<Format>]] [{im | install-manifest} <Manifest>] 
[{um | uninstall-manifest} <Manifest>] [{qe | query-events} <Path> [/lf:<Logfile>] [/sq:<Structquery>] [/q:<Query>] [/bm:<Bookmark>] [/sbm:<Savebm>] [/rd:<Direction>] [/f:<Format>] [/l:<Locale>] [/c:<Count>] [/e:<Element>]] 
[{gli | get-loginfo} <Logname> [/lf:<Logfile>]] 
[{epl | export-log} <Path> <Exportfile> [/lf:<Logfile>] [/sq:<Structquery>] [/q:<Query>] [/ow:<Overwrite>]] 
[{al | archive-log} <Logpath> [/l:<Locale>]] 
[{cl | clear-log} <Logname> [/bu:<Backup>]] [/r:<Remote>] [/u:<Username>] [/p:<Password>] [/a:<Auth>] [/uni:<Unicode>]
```

## <a name="parameters"></a>パラメーター

|パラメーター|説明|
|---------|-----------|
|{el \| enum ログ}|すべてのログの名前が表示されます。|
|{gl \| get ログ} \<Logname > [/f:\<形式 >]|ログが格納されているファイル、ログが有効か無効かどうかを含む、指定したログ、ログ、およびパスの現在の最大サイズ制限の構成情報が表示されます。|
|{sl\|セットのログ} \<Logname > [/e:\<有効 >] [/操作\<分離 >] [/lfn:\<Logpath >] [/rt:\<保有期間 >] [/ab:\<自動 >] []、[ms:\<MaxSize >] [/l:\<レベル >] [/k:\<キーワード >] [/ca:\<チャネル >] [/c:\<Config >]|指定したログの構成を変更します。|
|{ep \| enum パブリッシャー}|ローカル コンピューターのイベント発行元を表示します。|
|{gp \| get パブリッシャー} \<Publishername > [/ge:\<メタデータ >] [/gm:\<メッセージ >] [/f:\<形式 >]|指定したイベント発行元の構成情報が表示されます。|
|{im \| install-manifest} \<Manifest>|マニフェストからイベント発行元およびログをインストールします。 イベント マニフェストと、このパラメーターを使用する方法の詳細については、Microsoft Developers Network (MSDN) の Web サイトで Windows イベント ログの SDK を参照してください ( https://msdn.microsoft.com)します。|
|{um \| uninstall-manifest} \<Manifest>|マニフェストからのすべての発行元およびログをアンインストールします。 イベント マニフェストと、このパラメーターを使用する方法の詳細については、Microsoft Developers Network (MSDN) の Web サイトで Windows イベント ログの SDK を参照してください ( https://msdn.microsoft.com)します。|
|{qe\|クエリ イベント}\<パス > [/lf:\<ログ ファイル >] [/%sq:\<Structquery >] [/q:\<クエリ >] [/bm:\<ブックマーク >] [/sbm:\<Savebm >] [/rd:\<方向 >] [/f:\<形式 >] [/l:\<ロケール >] [/c:\<数 >] [/e:\<要素 >]|ログ ファイル、または構造化されたクエリを使用してから、イベント ログからイベントを読み取ります。 既定では、ログの名前を指定する\<パス >。 ただし、使用する場合、 **/lf**オプションし\<パス > ログ ファイルへのパスにする必要があります。 使用する場合、 **/sq**パラメーター、\<パス > を構造化されたクエリを含むファイルへのパスにする必要があります。|
|{gli \| get loginfo} \<Logname > [/lf:\<ログ ファイル >]|イベント ログまたはログ ファイルに関するステータス情報を表示します。 場合、 **/lf**オプションを使用すると、 \<Logname > は、ログ ファイルのパスです。 実行することができます**wevtutil el**ログ名の一覧を取得します。|
|{epl\|エクスポート ログ}\<パス >\<エクスポート ファイル > [/lf:\<ログ ファイル >] [/%sq:\<Structquery >] [/q:\<クエリ >] [と:\<上書き >]|ログ ファイル、または指定したファイルに構造化されたクエリを使用してから、イベント ログからイベントをエクスポートします。 既定では、ログの名前を指定する\<パス >。 ただし、使用する場合、 **/lf**オプションし\<パス > ログ ファイルへのパスにする必要があります。 使用する場合、 **/sq**オプション、\<パス > を構造化されたクエリを含むファイルへのパスにする必要があります。 \<エクスポート ファイル > エクスポートされたイベントが格納されるファイルへのパスします。|
|{al\|アーカイブ ログ} \<Logpath > [/l:\<ロケール >]|自己完結型の形式で指定されたログ ファイルをアーカイブします。 ロケールの名前を持つサブディレクトリが作成され、すべてのロケール固有情報のサブディレクトリに保存されます。 実行して、ディレクトリとログ ファイルが作成された後**wevtutil al**、かどうか、パブリッシャーがインストールされているかどうか、ファイル内のイベントを読み取ることができます。|
|{cl \| clear-log} \<Logname> [/bu:\<Backup>]|指定したイベント ログからイベントを消去します。 **/Bu**消去したイベントをバックアップするオプションを使用できます。|

## <a name="options"></a>オプション

|オプション|説明|
|------|-----------|
|/f:\<形式 >|出力は XML またはテキストのいずれかの形式である必要がありますを指定します。 場合\<形式 > XML では、XML 形式で出力が表示されます。 場合\<形式 > テキスト、XML タグのない出力が表示されます。 既定値は Text です。|
|/e:\<有効 >|有効または、ログを無効にします。 \<有効になっている > true または false にすることができます。|
|/i:\<分離 >|ログの分離モードを設定します。 \<分離 > システム、アプリケーションまたはカスタムことができます。 ログの分離モードでは、ログが同じ分離クラスでは、他のログとセッションを共有するかどうかを決定します。 システムの分離を指定する場合、ターゲットのログは共有には少なくとも、システム ログでのアクセス許可を記述します。 アプリケーションの分離を指定する場合、ターゲットのログは共有には少なくとも、アプリケーション ログでのアクセス許可を記述します。 使用してセキュリティ記述子を提供する必要がありますもカスタムの分離を指定する場合、 **/ca**オプション。|
|/lfn:\<Logpath >|ログ ファイルの名前を定義します。 \<Logpath > は、イベント ログ サービスがこのログのイベントを格納するファイルへの完全パス。|
|/rt:\<保有 >|保有期間のログ モードを設定します。 \<保有期間 > true または false にすることができます。 ログの保存モードは、ログが最大サイズに達したときに、イベント ログ サービスの動作を決定します。 イベント ログが最大サイズに達した場合、ログの保存モードが true、既存のイベントは保持され、受信イベントは破棄されます。 ログの保存モードが false の場合、受信イベントは、ログ内の最も古いイベントを上書きします。|
|/ab:\<自動 >|ログの自動バックアップ ポリシーを指定します。 \<自動 > true または false にすることができます。 この値が true の場合、ログがバックアップに自動的に最大サイズに達したとき。 この値が true の場合、保有期間 (指定されている、 **/rt**オプション) も設定する必要がありますを true にします。|
|/ms:\<MaxSize >|ログの最大サイズをバイト単位で設定します。 最小ログ サイズは 1048576 バイト (1024 KB) で、ログ ファイルは 64 KB の倍数では常に、値を入力するように切り捨てられますそれに応じて。|
|/l:\<レベル >|ログのレベルのフィルターを定義します。 \<レベル > 有効なレベル値を指定できます。 このオプションでは、専用のセッションを使用してログ適用のみです。 設定して、レベルのフィルターを削除する<Level>を 0 にします。|
|/k:\<キーワード >|ログのキーワード フィルターを指定します。 \<キーワード > 有効な 64 ビット キーワード マスクを指定できます。 このオプションでは、専用のセッションを使用してログ適用のみです。|
|/ca:\<チャネル >|イベント ログのアクセス許可を設定します。 \<チャネル > セキュリティ記述子定義言語 (SDDL) を使用するセキュリティ記述子。 SDDL 形式の詳細については、Microsoft Developers Network (MSDN) の Web サイトを参照してください ( https://msdn.microsoft.com)します。|
|/c:\<Config >|構成ファイルへのパスを指定します。 このオプションは、ログのプロパティで定義されている構成ファイルから読み取る\<Config >。 このオプションを使用するかどうか、指定しないで、<Logname>パラメーター。 ログ名については、構成ファイルから読み取ります。|
|/ge:\<メタデータ >|この発行元によって発生されるイベントのメタデータ情報を取得します。 \<メタデータ > true または false にすることができます。|
|/gm:\<メッセージ >|数値のメッセージ ID ではなく実際のメッセージが表示されます。 \<メッセージ > true または false にすることができます。|
|/lf:\<ログ ファイル >|イベントは、ログまたはログ ファイルから読み取る必要がありますを指定します。 \<ログ ファイル > true または false にすることができます。 True の場合は、ログ ファイルへのパスはパラメーターをコマンドです。|
|%sq/:\<Structquery >|イベントは、構造化されたクエリを使用して取得する必要がありますを指定します。 \<Structquery > true または false にすることができます。 True の場合、<Path>構造化されたクエリを含むファイルへのパスです。|
|/q:\<クエリ >|読み取られた、またはエクスポートするイベントをフィルター処理する XPath クエリを定義します。 このオプションが指定されていないすべてのイベントが返されるか、エクスポートします。 ときにこのオプションは使用できません **/sq**は true。|
|/bm:\<ブックマーク >|前のクエリからのブックマークを含むファイルへのパスを指定します。|
|/sbm:\<Savebm >|このクエリのブックマークの保存に使用されるファイルへのパスを指定します。 ファイル名拡張子 .xml があります。|
|/rd:\<方向 >|イベントが読み取られる方向を指定します。 \<方向 > true または false にすることができます。 True の場合、最新のイベントが最初に返されます。|
|/l:\<ロケール >|特定のロケールでのイベントのテキストを印刷に使用されるロケールの文字列を定義します。 テキスト形式を使用してイベントを印刷する場合にのみ使用可能な **/f**オプション。|
|/c:\<数 >|読み取るイベントの最大数を設定します。|
|/e:\<要素 >|XML でのイベントを表示するときに、ルート要素が含まれます。 \<要素 > ルート要素内の文字列です。 たとえば、 **/e:root**ルート要素のペアを格納する XML になる\<ルート ></root>します。|
|:\<上書き >|エクスポート ファイルが上書きされることを指定します。 \<上書き > true または false にすることができます。 True の場合、およびエクスポート ファイルで指定する場合<Exportfile>が既に存在する確認を求めずは上書きされます。|
|/bu:\<Backup>|消去したイベントが格納されるファイルへのパスを指定します。 バックアップ ファイルの名前、.evtx 拡張機能が含まれます。|
|/r:\<リモート >|リモート コンピューターでは、コマンドを実行します。 \<リモート > リモート コンピューターの名前を指定します。 **Im**と**um**パラメーターでは、リモート操作はサポートされません。|
|/u:\<ユーザー名 >|リモート コンピューターにログオンする別のユーザーを指定します。 \<ユーザー名 > は、フォーム ドメイン \ ユーザーまたはユーザーのユーザー名です。 ときにこのオプションは適用のみ、 **/r**オプションを指定します。|
|/p:\<パスワード >|ユーザーのパスワードを指定します。 場合、 **/u**オプションを使用して、このオプションが指定されていないまたは\<パスワード > は"*"をユーザーはパスワードの入力を求められます。 ときにこのオプションは適用のみ、 **/u**オプションを指定します。|
|/a:\<Auth >|リモート コンピューターに接続するためには、認証の種類を定義します。 \<Auth > 既定、Negotiate、Kerberos または NTLM を指定できます。 既定値は、ネゴシエートします。|
|/uni:\<Unicode>|Unicode で出力が表示されます。 \<Unicode > true または false にすることができます。 場合<Unicode>が true の場合、出力は Unicode。|

## <a name="remarks"></a>注釈

-   Sl パラメーターで構成ファイルの使用

    構成ファイルは、wevtutil gl の出力と同じ形式で XML ファイル\<Logname >/f:xml します。 次の例では、により、保有期間の自動バックアップを有効にし、アプリケーション ログでログの最大サイズを設定する構成ファイルの形式を示します。  
    ```
    <?xml version="1.0" encoding="UTF-8"?>
    <channel name="Application" isolation="Application"
    xmlns="https://schemas.microsoft.com/win/2004/08/events">
    <logging>
    <retention>true</retention>
    <autoBackup>true</autoBackup>
    <maxSize>9000000</maxSize>
    </logging>
    <publishing>
    </publishing>
    </channel>
    ```

## <a name="BKMK_examples"></a>例

すべてのログの名前を一覧表示します。
```
wevtutil el
```
XML 形式で、ローカル コンピューター上のシステム ログの構成情報を表示します。
```
wevtutil gl System /f:xml
```
イベント ログの属性を設定する (構成ファイルの例については、「解説」を参照してください) には構成ファイルを使用します。
```
wevtutil sl /c:config.xml
```
発行者が起こせるイベントに関するメタデータを含む Microsoft の Windows のイベント ログ、イベント発行元に関する情報を表示するには。
```
wevtutil gp Microsoft-Windows-Eventlog /ge:true
```
MyManifest.xml マニフェスト ファイルからの発行元およびログをインストールします。
```
wevtutil im myManifest.xml
```
MyManifest.xml マニフェスト ファイルからの発行元およびログをアンインストールします。
```
wevtutil um myManifest.xml
```
テキスト形式では、アプリケーション ログから次の 3 つの最新のイベントを表示します。
```
wevtutil qe Application /c:3 /rd:true /f:text
```
アプリケーションのログの状態が表示されます。
```
wevtutil gli Application 
```
システム ログからイベントを C:\backup\system0506.evtx にエクスポートします。
```
wevtutil epl System C:\backup\system0506.evtx
```
C:\admin\backups\a10306.evtx に保存した後のアプリケーション ログからイベントをすべてオフにします。
```
wevtutil cl Application /bu:C:\admin\backups\a10306.evtx
```

#### <a name="additional-references"></a>その他の参照情報

[コマンドライン構文キー](command-line-syntax-key.md)
