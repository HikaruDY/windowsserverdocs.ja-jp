---
title: chkdsk
description: 'Windows コマンド」のトピック * * *- '
ms.custom: na
ms.prod: windows-server-threshold
ms.reviewer: na
ms.suite: na
ms.technology: manage-windows-commands
ms.tgt_pltfrm: na
ms.topic: article
ms.assetid: 62912a3c-d2cc-4ef6-9679-43709a286035
author: coreyp-at-msft
ms.author: coreyp
manager: lizapo
ms.date: 10/16/2017
ms.openlocfilehash: 26aad48db4a5f0a593dfcb29160031a0c9f3dc75
ms.sourcegitcommit: 0d0b32c8986ba7db9536e0b8648d4ddf9b03e452
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/17/2019
ms.locfileid: "59886863"
---
# <a name="chkdsk"></a>chkdsk



ファイル システムと論理および物理エラーのためのボリュームのファイル システム メタデータを確認します。 パラメーターを指定せずに使用されている場合**chkdsk**ボリュームの状態のみを表示し、エラーが解決しません。 使用されている場合、 **/f**、 **/r**、 **/x**、または **/b**パラメーター、ボリューム上にエラーを修正、します。

> [!IMPORTANT]
> ローカル メンバーシップ**管理者**は実行に必要な最小のグループ、またはそれと同等**chkdsk**します。 管理者としてコマンド プロンプト ウィンドウを開くを右クリックして**コマンド プロンプト**で、[スタート] メニューをクリック**管理者として実行**します。

> [!IMPORTANT]
> 中断**chkdsk**はお勧めしません。 ただし、キャンセルまたは中断**chkdsk**離れないように、ボリュームが以前よりも破損しているかどうかを**chkdsk**を実行します。 再実行**chkdsk**を検査して、ボリュームの残りの破損を修復します。

> [!IMPORTANT]
> **注:** Chkdsk は、ローカル ディスクに対してのみ使用できます。 コマンドは、ネットワーク経由でリダイレクトされているローカル ドライブ文字では使用できません。

このコマンドを使用する方法の例については、[例](#BKMK_examples)を参照してください。

##<a name="syntax"></a>構文

```
chkdsk [<Volume>[[<Path>]<FileName>]] [/f] [/v] [/r] [/x] [/i] [/c] [/l[:<Size>]] [/b]  

```

##<a name="parameters"></a>パラメーター

|パラメーター|説明|
|---------|-----------|
|\<ボリューム >|ドライブ文字 (コロンに続く) を指定します。 マウント ポイント、またはボリュームの名前。|
|[\<パス >]<FileName>|ファイル アロケーション テーブル (FAT) で使用および FAT32 のみです。 必要なファイルの場所とファイルの名前を指定します**chkdsk**断片化を確認します。 使用することができます、**でしょうか。** **&#42;** ワイルドカードを使用すると、複数のファイルを指定します。|
|/f|ディスク上のエラーを修正します。 ディスクをロックする必要があります。 場合**chkdsk**ロック ドライブ、メッセージが表示されるたびにする次のドライブをチェックするかどうかを確認することはできません、コンピューターを再起動します。|
|/v|各ファイルの名前が、ディスクのチェックがすべてのディレクトリが表示されます。|
|/r|不良セクターを検索し、読み取り可能な情報を回復します。 ディスクをロックする必要があります。 **/r**の機能が含まれています **/f**、物理ディスクのエラーの分析が追加されます。|
|/x|必要な場合は、最初に、マウントを解除するボリュームを強制します。 ドライブにすべての開いているハンドルが無効になります。 **/x**の機能もあります **/f**します。|
|/i|NTFS でのみ使用します。 実行に必要な時間の量が減少するインデックスのエントリの簡易チェックを実行します**chkdsk**します。|
|/c|NTFS でのみ使用します。 実行に必要な時間を短縮フォルダー構造内のサイクルをチェックしません**chkdsk**します。|
|/l [:\<サイズ >]|NTFS でのみ使用します。 指定したサイズにログ ファイルのサイズを変更します。 サイズのパラメーターを省略した場合 **/l**現在のサイズが表示されます。|
|/b|NTFS 専用です。ボリューム上の不良クラスターの一覧をクリアし、エラーのすべての割り当てや解放クラスターを再スキャンします。 **/b**の機能が含まれています **/r**します。 新しいハード ディスク ドライブにボリュームをイメージングの後に、このパラメーターを使用します。|
|/?|コマンド プロンプトにヘルプを表示します。|

##<a name="remarks"></a>注釈

-   ボリュームのチェックをスキップしています

    **/I**または **/c**スイッチを実行するために必要な時間の量が減少**chkdsk**の特定のボリュームをスキップすることを確認します。
-   再起動時にロックされているドライブのチェック

    場合**chkdsk**ディスク エラーを修正するには、ドライブ上の開いているファイルを含めることはできません。 ファイルが開いている場合は、次のエラー メッセージが表示されます。  
    ```
    Chkdsk cannot run because the volume is in use by another process. Would you like to schedule this volume to be checked the next time the system restarts? (Y/N)  
    
    ```  
    次に、コンピューターを再起動するときに、ドライブをチェックする選択した場合**chkdsk**ドライブをチェックし、コンピューターを再起動するときに自動的にエラーを修正します。 ドライブのパーティションがブート パーティション場合、 **chkdsk**はドライブを検査した後に、コンピューターを自動的に再起動されます。

    使用することも、 **chkntfs/c**ボリュームのチェック、次回のスケジュールを設定するコマンドをコンピューターを再起動します。 使用して、 **fsutil ダーティ セット**ボリュームを設定するコマンドその Windows が実行されるように (かを示す破損)、ビット ダーティ**chkdsk**コンピューターが再起動されたとき。
-   ディスク エラーの報告

    使用する必要があります**chkdsk**ディスク エラーをチェックする FAT と NTFS のファイル システムの場合があります。 **Chkdsk**ディスク領域とディスクの使用を調査し、各ファイル システムに固有の状態レポートを示します。 状態レポートは、ファイル システムで見つかったエラーを示しています。 実行する場合**chkdsk**せず、 **/f**パラメーター、ドライブをロックできないため、アクティブなパーティションで疑似エラーを報告する場合があります。
-   論理ディスクのエラーを修正

    **Chkdsk**を指定する場合にのみ、論理ディスクのエラーを修正、 **/f**パラメーター。 **Chkdsk**エラーを修正するドライブをロックできる必要があります。

    FAT ファイル システムの修復通常ディスクのファイル アロケーション テーブルを変更し、データの損失が発生する場合がありますので**chkdsk**次のような確認メッセージを表示することがあります。  
    ```
    10 lost allocation units found in 3 chains.  
    Convert lost chains to files?  
    
    ```  
    キーを押す場合**Y**、Windows は、失われた各チェーンをルート ディレクトリにファイルの形式で名前を持つファイルとして保存\<nnnn > .chk します。 ときに**chkdsk**が終了したら、必要なデータが格納されているこれらのファイルをチェックすることができます。 キーを押す場合**N**Windows の修正、ディスクが失われるアロケーション ユニットの内容は保存されません。

    使用しない場合、 **/f**パラメーター、 **chkdsk**ファイルを修正する必要がありますが、すべてのエラーの修正は行いませんのメッセージが表示されます。

    使用する場合**chkdsk/f**非常に大きなディスクやディスク ファイル (たとえば、数百万のファイル) の数が非常に多い**chkdsk/f**完了までに時間がかかる場合があります。
-   物理ディスクのエラーの検出

    使用して、 **/r**ディスク セクターの影響を受けるパラメーターは、ファイル システムに物理ディスクのエラーを検索し、いずれかからデータを回復しようとしています。
-   使用して**chkdsk**ファイルを開いています。

    指定した場合、 **/f**パラメーター、 **chkdsk**ディスク上の開いているファイルがある場合、エラー メッセージが表示されます。 指定しない場合、 **/f**パラメーターと開いているファイルが存在する**chkdsk**ディスクに失われるアロケーション ユニットをレポートすることがあります。 これは、開いている場合に発生する可能性がありますが、まだファイル アロケーション テーブルに記録されていないファイルです。 場合**chkdsk**破損がレポートのアロケーション ユニットの数が多い、ディスクの修復を検討してください。
-   使用して**chkdsk**共有フォルダーのシャドウ コピーと

    ソース ボリュームの共有フォルダーのシャドウ コピーは、共有フォルダーが有効になっている、シャドウ コピー中にロックできません、ため、次のように実行されている**chkdsk**ソースに対してボリューム可能性がありますの間違ったエラーを報告されたり**chkdsk**が突然終了します。 実行して、シャドウ コピーのエラーを確認することができます、ただし、 **chkdsk** (パラメーターなし) の読み取り専用モードで共有フォルダーの記憶域ボリュームのシャドウ コピーを確認します。
-   終了コードについて

    次の表の終了コードを**chkdsk**が完了した後にレポートします。  
    |終了コード|説明|
    |---------|-----------|
    |0|エラーは見つかりませんでした。|
    |1|エラーが見つかり、修復します。|
    |2|ディスク クリーンアップ (ガベージ コレクション) などを実行またはクリーンアップが実行されなかったため、 **/f**が指定されていません。|
    |3|ディスクを確認できませんでした。 エラーは修正できない、またはため、エラーは修復されません **/f**が指定されていません。|
-   **Chkdsk**コマンドで他のパラメーターは、回復コンソールから利用できます。
-   再起動が頻度の低いサーバーを使用する可能性があります、 **chkntfs**または**fsutil ダーティ クエリ**ビットが既にボリュームのダーティかどうかを判別するためのコマンドは、chkdsk を実行する前に設定します。

## <a name="BKMK_examples"></a>例

D ドライブでディスクをチェックして、Windows のエラーを修正する場合は、次のように入力します。
```
chkdsk d: /f  

```
エラーが発生した場合**chkdsk**を一時停止し、メッセージが表示されます。 **Chkdsk**ディスクの状態を一覧表示するレポートを表示して終了します。 までの指定したドライブ上のファイルを開くことができません**chkdsk**が完了するとします。

現在のディレクトリに FAT ディスク上のすべてのファイルの非連続ブロックを確認するには、次のように入力します。
```
chkdsk *.*  

```
**Chkdsk**を状態レポートを表示し、非連続ブロックを持つファイルの仕様に一致するファイルを表示します。
#### <a name="additional-references"></a>その他の参照情報

[コマンドライン構文キー](command-line-syntax-key.md)
