---
title: forfiles
description: 'Windows コマンド」のトピック * * *- '
ms.custom: na
ms.prod: windows-server-threshold
ms.reviewer: na
ms.suite: na
ms.technology: manage-windows-commands
ms.tgt_pltfrm: na
ms.topic: article
ms.assetid: 43f6b004-446d-4fdd-91c5-5653613524a4
author: coreyp-at-msft
ms.author: coreyp
manager: dongill
ms.date: 08/21/2018
ms.openlocfilehash: d5ac95b795d1c5a59f8917bf851ab08fb4d7c1e7
ms.sourcegitcommit: eaf071249b6eb6b1a758b38579a2d87710abfb54
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/31/2019
ms.locfileid: "66439186"
---
# <a name="forfiles"></a>forfiles



選択し、ファイルまたはファイルのセットでコマンドを実行します。 このコマンドは、バッチ処理に適しています。

このコマンドを使用する方法の例については、[例](#BKMK_examples)を参照してください。

## <a name="syntax"></a>構文

```
forfiles [/p <Path>] [/m <SearchMask>] [/s] [/c "<Command>"] [/d [{+|-}][{<Date>|<Days>}]]
```


## <a name="parameters"></a>パラメーター

|                     パラメーター                      |                                                                                                                                                                                                                                                                                                    説明                                                                                                                                                                                                                                                                                                     |
|----------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|                     /p\<パス >                     |                                                                                                                                                                                                                                                 検索を開始する対象のパスを指定します。 既定では、検索は、現在の作業ディレクトリで開始します。                                                                                                                                                                                                                                                  |
|                  /m\<マスク >                  |                                                                                                                                                                                                                                                           指定した検索マスクに従ってファイルを検索します。 既定の検索のマスクが **\*.\\** \*.                                                                                                                                                                                                                                                           |
|                         /s                         |                                                                                                                                                                                                                                                                   指示、**ファイルを探す**再帰的にサブディレクトリを検索するコマンド。                                                                                                                                                                                                                                                                    |
|                  /c"\<コマンド >"                   |                                                                                                                                                                                                                                  各ファイルでは、指定されたコマンドを実行します。 コマンド文字列を引用符で囲む必要があります。 既定のコマンドは **"cmd/c echo @file"** します。                                                                                                                                                                                                                                   |
| /d&nbsp;[{+\|-}]&#8288;[{\<Date>\|&#8288;\<Days>}] | 最終更新日を指定した期間内のファイルを選択します。</br>-最終更新日を以降のファイルを選択します ( **+** ) より前またはと等しく ( **-** ) 指定した日付、*日付*年/月/日の形式です。</br>-最終更新日を以降のファイルを選択します ( **+** )、現在の日付の日数を指定すると、またはより前かと等しい ( **-** )、現在の日付日数を引いた次のように指定します。</br>-有効な値*日*768 範囲 0 ~ 32 の任意の数が含まれます。 記号が指定されていない場合 **+** 既定で使用されます。 |
|                         /?                         |                                                                                                                                                                                                                                                                                        コマンド プロンプトにヘルプを表示します。                                                                                                                                                                                                                                                                                        |

## <a name="remarks"></a>注釈

-   **ファイルを探す**はバッチ ファイルで最もよく使用します。
-   **ファイルを探す/s**のような**dir/s します。**
-   指定されたコマンド文字列で、次の変数を使用することができます、 **/c**コマンド ライン オプション。  

|変数|説明|
|--------|-----------|
|@FILE|ファイル名。|
|@FNAME|拡張子を除いたファイル名。|
|@EXT|ファイル名拡張子。|
|@PATH|ファイルの完全パス。|
|@RELPATH|ファイルの相対パス。|
|@ISDIR|ファイルの種類がディレクトリの場合に、TRUE に評価されます。 それ以外の場合、この変数は、FALSE に評価されます。|
|@FSIZE|ファイルのサイズ (バイト単位)。|
|@FDATE|ファイルの最終変更された日付スタンプ。|
|@FTIME|ファイルの最終更新時刻スタンプ。|

-   **ファイルを探す**のコマンドを実行または、複数のファイルに引数を渡すことができます。 たとえば、実行する、**型**.txt ファイル名拡張子を持つツリー内のすべてのファイルをコマンド。 または、すべてのバッチ ファイルを実行する可能性があります (* .bat) ドライブ C 上のファイルに名前"Myinput.txt"最初の引数として。
-   **ファイルを探す**次のいずれかを行うことができます。  
    -   使用して検証する絶対的日付または相対的な日付でファイルを選択、 **/d**パラメーター。
    -   などの変数を使用して、ファイルのアーカイブ ツリーを構築@FSIZEと@FDATEします。
    -   使用してディレクトリからファイルを区別する、@ISDIR変数。
    -   コマンド ラインで、文字、0 x の 16 進コードを使用して特殊文字を含める*HH*形式 (たとえば、タブの 0x09)。
-   **ファイルを探す**動作を実装することによって、**サブディレクトリを再帰**フラグを 1 つのファイルのみを処理するように設計されたツールです。

## <a name="BKMK_examples"></a>例

すべてのドライブ C 上のバッチ ファイルを一覧表示するには、次のように入力します。
```
forfiles /p c:\ /s /m *.bat /c "cmd /c echo @file is a batch file"
```
すべてのドライブ C 上のディレクトリを一覧表示するには、次のように入力します。
```
forfiles /p c:\ /s /m *.* /c "cmd /c if @isdir==TRUE echo @file is a directory"
```
1 年以上前である、現在のディレクトリ内のファイルの全一覧を表示には、次のように入力します。
```
forfiles /s /m *.* /d -365 /c "cmd /c echo @file is at least one year old."
```
テキストを表示する"*ファイル*は期限切れ"の各 2007 年 1 月 1 日以上経過した現在のディレクトリにファイルの入力します。
```
forfiles /s /m *.* /d -01/01/2007 /c "cmd /c echo @file is outdated." 
```
拡張子の前に タブを追加、列の形式で現在のディレクトリ内のすべてのファイルのファイル名拡張子の一覧を表示して、次のように入力します。
```
forfiles /s /m *.* /c "cmd /c echo The extension of @file is 0x09@ext" 
```

#### <a name="additional-references"></a>その他の参照情報

[コマンド ライン構文の記号](command-line-syntax-key.md)
