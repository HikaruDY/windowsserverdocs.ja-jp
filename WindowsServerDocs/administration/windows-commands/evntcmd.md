---
title: Evntcmd
description: 'Windows コマンド」のトピック * * *- '
ms.custom: na
ms.prod: windows-server-threshold
ms.reviewer: na
ms.suite: na
ms.technology: manage-windows-commands
ms.tgt_pltfrm: na
ms.topic: article
ms.assetid: c1aabb74-76e7-4304-95a6-50ad87e92fd9
author: coreyp-at-msft
ms.author: coreyp
manager: dongill
ms.date: 10/16/2017
ms.openlocfilehash: a149e78170f2849512dcfc0a0a82f9eed979abe2
ms.sourcegitcommit: 0d0b32c8986ba7db9536e0b8648d4ddf9b03e452
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/17/2019
ms.locfileid: "59885983"
---
# <a name="evntcmd"></a>Evntcmd

>適用先:Windows Server (半期チャネル)、Windows Server 2016、Windows Server 2012 R2、Windows Server 2012

イベントをトラップ、トラップ送信先、または構成ファイル内の情報に基づく両方の変換を構成します。   
## <a name="syntax"></a>構文  
```  
evntcmd [/s <computerName>] [/v <verbosityLevel>] [/n] <FileName>  
```  
### <a name="parameters"></a>パラメーター  
|パラメーター|説明|  
|-------|--------|  
|/s <computerName>|イベントをトラップ、トラップ送信先、またはその両方の変換を構成するコンピューターを名前で指定します。 コンピューターを指定しない場合は、ローカル コンピューターの構成が発生します。|  
|/v <verbosityLevel>|構成するステータス メッセージは、トラップとして表示され、トラップ送信先の種類を指定します。 このパラメーターは、0 から 10 までの整数である必要があります。 10 を指定する場合は、メッセージとトラップの構成が成功したかどうかに関する警告のトレースを含むすべての種類のメッセージが表示されます。 0 を指定する場合は、メッセージは表示されません。|  
|/n|このコンピューターは、トラップ構成の変更を受信した場合は、SNMP サービスを再起動しない必要がありますを指定します。|  
|<FileName>|名前、構成するイベントおよびトラップ送信先の変換に関する情報を含む構成ファイルで指定します。|  
|/?|コマンド プロンプトにヘルプを表示します。|  
## <a name="remarks"></a>注釈  
-   トラップの構成が、変換先をトラップする場合は、イベント トラップ トランスレーターで有効な構成ファイルを作成できます。 」と入力してイベント トラップ トランスレーターを開始するには、SNMP サービスがインストールされている場合は、 **「evntwin」と**コマンド プロンプトでします。 トラップの目的を定義した後で使用するための適切なファイルを作成するエクスポート をクリックして**evntcmd**します。 イベント トラップ トランスレーターを使用して、簡単に構成ファイルを作成し、構成ファイルを使用する**evntcmd**迅速にトラップを構成する複数のコンピューターでコマンド プロンプトでします。  
-   トラップを構成するための構文は次のとおりです。  
    **#pragma add***<EventLogFile> <EventSource> <EventID> [<Count> [<Period>]]*  
    -   テキスト **#pragma**ファイル内のすべてのエントリの先頭に表示する必要があります。  
    -   パラメーター**追加**イベント トラップ構成を追加することを指定します。  
    -   パラメーター *EventLogFile*、 *EventSource*、および*EventID*が必要です。 パラメーター *EventLogFile*イベントを記録するファイルを指定します。 パラメーター *EventSource*イベントを生成するアプリケーションを指定します。 *EventID*パラメーターを各イベントを識別する一意の番号を指定します。 特定のイベントに対応してどのような値については、入力してイベント トラップ トランスレーターを起動します。 **「evntwin」と**コマンド プロンプトでします。 クリックして**カスタム**、 をクリックし、**編集**します。 [**イベント ソース**、構成] をクリックし、をクリックしイベントが見つかるまで、フォルダーの参照**追加**します。 イベント ソース、イベント ログ ファイル、およびイベント ID については、下に表示されます**ソース、ログ**、および**特定の ID をトラップ**、それぞれします。  
    -   *カウント*パラメーターは省略可能、およびトラップ メッセージを送信する前に、イベントが発生する回数を指定します。 使用しない場合、*カウント*パラメーター、トラップ メッセージは、イベントが 1 回発生した後に送信されます。  
    -   *期間*パラメーターは省略可能なが使用する必要がある、*カウント*パラメーター。 *期間*パラメーターがの中にイベントがトラップ メッセージを送信する前に、Count パラメーターで指定された回数を実行する必要があります (秒単位で時間の長さを指定します。 使用しない場合、*期間*パラメーター、イベントで指定された回数の発生後に、トラップ メッセージを送信は、*カウント*を実行する間隔の経過時間に関係なく、パラメーター。  
-   トラップを削除するための構文は次のとおりです。  
    **#pragma delete***<EventLogFile> <EventSource> <EventID>*  
    -   テキスト **#pragma**ファイル内のすべてのエントリの先頭に表示する必要があります。  
    -   パラメーター*削除*イベント トラップ構成を削除することを指定します。  
    -   パラメーター *EventLogFile*、 *EventSource*、および*EventID*が必要です。 パラメーター *EventLogFile*ログを指定のイベントが記録されます。 パラメーター *EventSource*イベントを生成するアプリケーションを指定します。 *EventID*パラメーターを各イベントを識別する一意の番号を指定します。  
-   トラップの送信先を構成するための構文は次のとおりです。  
    **#pragma add_TRAP_DEST***<CommunityName> <HostID>*  
    -   テキスト **#pragma**ファイル内のすべてのエントリの先頭に表示する必要があります。  
    -   パラメーター **add_TRAP_DEST**コミュニティ内で指定したホストに送信されるメッセージをトラップすることを指定します。  
    -   パラメーター *CommunityName*メッセージを送信するトラップのコミュニティを名前を指定します。  
    -   パラメーター *HostID*トラップ メッセージを送信するホストを名前または IP アドレスを指定します。  
-   トラップの送信先を削除するための構文は次のとおりです。  
    **#pragma delete_TRAP_DEST***<CommunityName> <HostID>*  
    -   テキスト **#pragma**ファイル内のすべてのエントリの先頭に表示する必要があります。  
    -   パラメーター *delete_TRAP_DEST*コミュニティ内で指定したホストに送信されるメッセージをトラップしないことを指定します。  
    -   パラメーター *CommunityName*メッセージを送信するトラップのコミュニティを名前を指定します。  
    -   パラメーター *HostID*をたくないトラップ メッセージを送信するホストを名前または IP アドレスで指定します。  
## <a name="BKMK_Examples"></a>例  
次の例では、構成ファイル内のエントリ、 **evntcmd**コマンド。 コマンド プロンプトで入力する、設計されていません。  
入力イベント ログ サービスを再起動すると場合、トラップ メッセージを送信します。  
```  
#pragma add System "Eventlog" 2147489653  
```  
入力 3 分間に 2 回のイベント ログ サービスを再起動した場合、トラップ メッセージを送信します。  
```  
#pragma add System "Eventlog" 2147489653 2 180  
```  
イベント ログ サービスが再起動されるたびに、トラップ メッセージを送信を停止するには、次のように入力します。  
```  
#pragma delete System "Eventlog" 2147489653  
```  
192.168.100.100 IP アドレスを持つホストをという名前のパブリック コミュニティ内のトラップ メッセージを送信するには、次のように入力します。  
```  
#pragma add_TRAP_DEST public 192.168.100.100  
```  
Host1 という名前のホストをという名前のプライベート、コミュニティ内のトラップ メッセージを送信するには、次のように入力します。  
```  
#pragma add_TRAP_DEST private Host1  
```  
トラップ送信先の構成を同じコンピューターをという名前のプライベート、コミュニティ内のトラップ メッセージの送信を停止するには、次のように入力します。  
```  
#pragma delete_TRAP_DEST private localhost  
```  
## <a name="additional-references"></a>その他の参照  
-   [コマンドライン構文キー](command-line-syntax-key.md)  
