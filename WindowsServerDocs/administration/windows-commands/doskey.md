---
title: doskey
description: 'Windows コマンド」のトピック * * *- '
ms.custom: na
ms.prod: windows-server-threshold
ms.reviewer: na
ms.suite: na
ms.technology: manage-windows-commands
ms.tgt_pltfrm: na
ms.topic: article
ms.assetid: 4874fd43-d5ea-45f3-ae24-388ae925ed76
author: coreyp-at-msft
ms.author: coreyp
manager: dongill
ms.date: 10/16/2017
ms.openlocfilehash: 61629a6122ec83cae35a8797966ef3d712ee5808
ms.sourcegitcommit: 0d0b32c8986ba7db9536e0b8648d4ddf9b03e452
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/17/2019
ms.locfileid: "59825863"
---
# <a name="doskey"></a>doskey



Doskey.exe (どのリコールは以前として、コマンド ライン コマンドを入力) を呼び出し、コマンドラインを編集し、マクロを作成します。

このコマンドを使用する方法の例については、[例](#BKMK_examples)を参照してください。

## <a name="syntax"></a>構文

```
doskey [/reinstall] [/listsize=<Size>] [/macros:[all | <ExeName>] [/history] [/insert | /overstrike] [/exename=<ExeName>] [/macrofile=<FileName>] [<MacroName>=[<Text>]]
```

## <a name="parameters"></a>パラメーター

|パラメーター|説明|
|---------|-----------|
|再インストール/|Doskey.exe の新しいコピーをインストールし、コマンド履歴バッファーをクリアします。|
|/listsize=\<Size>|履歴バッファーでは、コマンドの最大数を指定します。|
|/macros|すべての一覧を表示します**doskey**マクロ。 リダイレクト文字を使用することができます (**>**) で **/macros**一覧をファイルにリダイレクトします。 省略することができます **/macros**に **/m**します。|
|/macros:all|表示**doskey**マクロのすべての実行可能ファイルです。|
|/macros:\<ExeName >|表示**doskey**マクロで指定された実行可能ファイルの*ExeName*します。|
|/history|メモリに格納されているすべてのコマンドが表示されます。 リダイレクト文字を使用することができます (**>**) で **/history**一覧をファイルにリダイレクトします。 省略することができます **/history**として **/h**します。|
|[/insert | /overstrike]|挿入または入力すると、テキストを上書きするかどうかを指定します。 使用する場合 **/挿入**、新しいテキスト行に入力したが、既存のテキストの最中に挿入されます。 使用する場合**overstrike/**、既存のテキスト、新しいテキスト置換します。 既定の設定は**overstrike/** します。|
|/exename=\<ExeName>|プログラムを指定します (つまり、実行可能ファイル) を**doskey**マクロを実行します。|
|/macrofile=\<FileName>|インストールするマクロを含むファイルを指定します。|
|\<マクロ名 > = [<Text>]|指定されたコマンドを実行するマクロを作成します。*テキスト*します。 *MacroName*マクロに割り当てる名前を指定します。 *テキスト*を記録するコマンドを指定します。 場合*テキスト*は、空白のまま*MacroName*の割り当てられたコマンドが削除されます。|
|/?|コマンド プロンプトにヘルプを表示します。|

## <a name="remarks"></a>注釈

-   Doskey.exe を使用します。

    Doskey.exe は常にすべての文字ベースの対話型プログラム (プログラム デバッガーやファイル転送プログラム) の利用とコマンドの履歴バッファーおよび開始する各プログラムのマクロを保持します。 使用することはできません**doskey**プログラムからのコマンド ライン オプション。 実行する必要があります**doskey**プログラムを開始する前に、コマンド ライン オプション。 プログラムのキーの割り当てを上書き**doskey**キーの割り当て。
-   コマンドを呼び出す

    コマンドを再呼び出しに使用できます、次のキーのいずれかの Doskey.exe を開始した後。 Doskey.exe をプログラム内で使用する場合は、そのプログラムのキーの割り当てが優先されます。  
    |Key|説明|
    |---|-----------|
    |上矢印|表示される前に使用したコマンドを呼び出します。|
    |下方向キー|表示される 1 つ後に使用するコマンドを呼び出します。|
    |PageUp|現在のセッションで使用した最初のコマンドを呼び出します。|
    |PageDown|現在のセッションで使用した最新のコマンドを呼び出します。|
-   コマンドラインを編集

    Doskey.exe、現在のコマンドラインを編集できます。 Doskey.exe をプログラム内で使用する場合は、そのプログラムのキーの割り当てが優先され、いくつかの Doskey.exe 編集キーが機能しない可能性があります。

    次の表**doskey**キーとその機能を編集します。  
    |キーまたはキーの組み合わせ|説明|
    |----------------------|-----------|
    |左方向キー|カーソルを 1 文字に移動します。|
    |右矢印|カーソルを 1 文字前方に移動します。|
    |CTRL キーを押しながら左方向キー|カーソルを 1 単語に移動します。|
    |CTRL + 右方向キー|カーソルを 1 単語前方に移動します。|
    |Home|行の先頭にカーソルを移動します。|
    |END|行の末尾にカーソルを移動します。|
    |Esc|表示からコマンドをクリアします。|
    |F1|コマンド プロンプト ウィンドウで同じ列に、テンプレート内の列から 1 つの文字をコピーします。 (テンプレートとは、入力した最後のコマンドを保持するメモリ バッファーのことです)。|
    |F2|前方に検索した後に入力した次のキー用のテンプレートで F2 キーを押します。 Doskey.exe テンプレートからテキストを挿入します-までが含まれていない場合は、文字の指定します。|
    |F3|コマンド ラインには、テンプレートの残りの部分をコピーします。 Doskey.exe では、コマンドラインでカーソル位置で指定された位置に対応するテンプレート内の位置から文字のコピーを開始します。|
    |F4|次に出現した後に入力した文字位置までが含まれていないをポイントする現在のカーソルからすべての文字を削除には、F4 キーを押します。|
    |F5|現在の行には、テンプレートをコピーします。|
    |F6|現在の挿入ポイントの位置にあるファイルの終端文字 (CTRL + Z) を配置します。|
    |F7|このプログラムのメモリに格納されているすべてのコマンド (ダイアログ ボックス) が表示されます。 ↑ キーと下方向キーを使用して、目的のコマンドを選択し、コマンドを実行するには ENTER キーを押します。 コマンドの前にシーケンシャル番号をメモし、F9 キーと組み合わせてこの番号を使用できます。|
    |ALT + F7|現在の履歴バッファーのメモリに格納されているすべてのコマンドを削除します。|
    |F8|現在のコマンド内の文字で始まる履歴バッファー内のすべてのコマンドを表示します。|
    |F9|履歴バッファー コマンド数の入力を要求し、指定した数に関連付けられたコマンドが表示されます。 コマンドを実行するには ENTER キーを押します。 すべての数値とそれに関連付けられているコマンドを表示するには、f7 キーを押します。|
    |ALT キーを押しながら F10|すべてのマクロ定義を削除します。|
-   使用して**doskey**プログラム内で

    特定のプログラム デバッガーなどの文字ベース、対話型のプログラムまたはファイル転送プログラム (FTP) Doskey.exe を自動的に使用します。 Doskey.exe を使用するには、プログラムがコンソール プロセスをして、バッファー内の入力を使用する必要があります。 プログラムのキーの割り当てを上書き**doskey**キーの割り当て。 たとえば、プログラムでは、関数の場合、F7 キーを使用している場合ことはできませんが表示、 **doskey**コマンドのポップアップ ウィンドウに履歴。

    Doskey.exe の各プログラムを開始するか、繰り返しのコマンド履歴を保持できます。 プログラムのプロンプトで、前のコマンドを編集し、開始できる**doskey**マクロは、プログラムの作成します。 終了してから、同じコマンド プロンプト ウィンドウからプログラムを再起動する場合は、プログラムの前のセッションからコマンドの履歴を使用。

    プログラムを開始する前に、Doskey.exe を実行する必要があります。 使用することはできません**doskey**プログラムのシェル コマンドである場合でも、プログラムのコマンドからコマンド ライン オプションを確認します。

    プログラムで Doskey.exe の動作をカスタマイズおよび作成する場合**doskey**そのプログラムのマクロ、Doskey.exe が変更され、プログラムを起動するバッチ ファイルを作成できます。
-   既定の挿入モードを指定します。

    テキストを入力するには、INSERT キーを押す場合、 **doskey**コマンド ライン テキストを置き換えることがなく既存のテキストの途中です。 ただし、ENTER キーを押すと、Doskey.exe は置換モードをキーボードを返します。 挿入モードに戻るにもう一度挿入を押す必要があります。

    使用 **/挿入**挿入モードに、キーボードを切り替えるたびに ENTER キーを押します。 使用するまで、このキーボードは、効果的に挿入モードに保持されます**overstrike/** します。 一時的に、INSERT キーを押して置換モードに戻ることができますが、Doskey.exe が挿入モードに、キーボードを返します、ENTER キーを押す。

    挿入ポイントの変更形状 INS キーを使用して、他の 1 つのモードから変更します。
-   マクロの作成

    Doskey.exe を使用すると、1 つまたは複数のコマンドを実行するマクロを作成します。 次の表では、マクロを定義するときにコマンド操作を制御するために使用できる特殊文字を示します。  
    |文字|説明|
    |---------|-----------|
    |$G または $g|出力をリダイレクトします。 これらの特殊文字のいずれかを使用して出力を送信するデバイスまたはファイルの代わりに、画面にします。 この文字は出力のリダイレクト文字と同じです (**>**)。|
    |$G$ G または $g$ g|出力をファイルの末尾に追加します。 出力ファイル内のデータを置き換える代わりに既存のファイルを追加するのにには、これら 2 つの文字のいずれかを使用します。 これら 2 つの文字は出力の追加のリダイレクト文字と同等です (**>>**)。|
    |$L または $l|入力をリダイレクトします。 読み取りを使用してこれらの特殊文字のいずれかから、デバイスまたはファイルの代わりに、キーボードから入力します。 この文字は入力用のリダイレクト文字と同じです (**<**)。|
    |$B または $b|コマンドには、マクロの出力を送信します。 これらの特殊文字は、パイプを使用すると (* *|*)、コマンド ラインでします。|
    |$T または $t|コマンドを区切ります。 これらの特殊文字のいずれかを使用して、マクロを作成するかでコマンドを入力するときに、コマンドを区別する、 **doskey**コマンドライン。 これらの特殊文字は、アンパサンドを使用すると (**&**)、コマンド ラインでします。|
    |$$|ドル記号を指定します (**$**)。|
    |$ 1 9 ドル ~|マクロを実行するときに指定するコマンドライン情報を表します。 特殊文字 **$1**を通じて **$9**はマクロを実行するたびに、コマンドラインで別のデータを使用するためのバッチのパラメーターです。 **$1**文字内で、 **doskey**コマンドと似ています、 **%1**バッチ プログラムで文字。|
    |$*|マクロ名を入力するときに指定するすべてのコマンドライン情報を表します。 特殊文字**$ \*** バッチ パラメーターに類似した置き換え可能パラメーターは、 **$1**を通じて **$9**、1 つの重要な相違点: の代わりにマクロ名は使用後に、コマンドラインで入力するすべてのもの、 **$ \*** マクロ内。|
-   実行している、 **doskey**マクロ

    マクロを実行するには、最初の位置から始まり、コマンド プロンプトで、マクロ名を入力します。 マクロを定義した場合**$ \*** バッチ パラメーターのいずれかまたは **$1**を通じて**9 ドル**パラメーターを区切るためのスペースを使用します。 実行することはできません、 **doskey**バッチ プログラムからマクロ。
-   Windows Server 2003 ファミリのコマンドと同じ名前のマクロの作成

    特定のコマンド ライン オプションで常に特定のコマンドを使用する場合は、コマンドと同じ名前を持つマクロを作成することができます。 マクロと、コマンドを実行するかどうかを指定するには、次のガイドラインに従います。  
    -   マクロを実行するには、コマンド プロンプトで、マクロ名を入力します。 マクロ名の前にスペースを入れないでください。
    -   コマンドを実行するには、コマンド プロンプトでは、1 つ以上のスペースを挿入し、コマンド名を入力します。
-   マクロを削除します。

    マクロを削除するには、次のように入力します。  
    ```
    doskey <MacroName> =
    ```

## <a name="BKMK_examples"></a>例

**/Macros**と **/history**コマンド ライン オプションはマクロとコマンドを保存するバッチ プログラムを作成するために役立ちます。 たとえば、現在のすべてを格納する**doskey**マクロ、種類。
```
doskey /macros > macinit 
```
Macinit に格納されているマクロを使用するには、次のように入力します。
```
doskey /macrofile=macinit 
```
バッチを作成するには、プログラムを含む最近 tmp.bat コマンド、型を使用します。
```
doskey /history> tmp.bat 
```
複数のコマンドでマクロを定義するには、使用 **$t**コマンドを次のように分離します。
```
doskey tx=cd temp$tdir/w $*
```
上の例では、TX マクロは、Temp、現在のディレクトリに変更され、ディレクトリ全体の表示形式で一覧が表示されます。 使用することができます**$ \*** するその他のコマンド ライン オプションを追加するマクロの最後に**dir** TX を実行するとします。

次のマクロは、新しいディレクトリ名のバッチのパラメーターを使用します。
```
doskey mc=md $1$tcd $1
```
マクロは、新しいディレクトリを作成し、現在のディレクトリから、新しいディレクトリに変更します。

上記のマクロを作成し、ブックの「という名前のディレクトリ変更を使用するには、次ように入力します。
```
mc books
```
作成する、 **doskey**プログラム用のマクロが Ftp.exe を呼び出すと、含める **/exename**次のようにします。
```
doskey /exename=ftp.exe go=open 172.27.1.100$tmget *.TXT c:\reports$tbye 
```
上記のマクロを使用するには、FTP を開始します。 FTP のプロンプトで次のように入力します。
```
go
```
FTP の実行、**開く**、 **mget**、および**bye**コマンド。

迅速かつ無条件にディスクをフォーマットするマクロを作成するには、次のように入力します。
```
doskey qf=format $1 /q /u
```
迅速かつ無条件では、ドライブ A でディスクをフォーマットして、次のように入力します。
```
qf a:
```
Vlist と呼ばれるマクロを削除するには、次のように入力します。
```
doskey vlist =
```

#### <a name="additional-references"></a>その他の参照情報

[コマンドライン構文キー](command-line-syntax-key.md)