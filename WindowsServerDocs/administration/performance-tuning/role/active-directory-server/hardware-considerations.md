---
title: AD パフォーマンス チューニングでハードウェアの考慮事項
description: AD パフォーマンス チューニングでハードウェアの考慮事項
ms.prod: windows-server-threshold
ms.technology: performance-tuning-guide
ms.topic: article
ms.author: TimWi; ChrisRob; HerbertM; KenBrumf;  MLeary; ShawnRab
author: phstee
ms.date: 10/16/2017
ms.openlocfilehash: 0f1aa1e3c07c5cb9238a332156abfec248e74176
ms.sourcegitcommit: 0d0b32c8986ba7db9536e0b8648d4ddf9b03e452
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/17/2019
ms.locfileid: "59866093"
---
# <a name="hardware-considerations-in-adds-performance-tuning"></a>ADDS のパフォーマンス チューニングでハードウェアの考慮事項 

>[!Important]
> サーバー ハードウェアでさらに詳しくは、「Active Directory ワークロードを最適化するためには、主な推奨事項と考慮事項概要次に、 [Active Directory Domain Services のキャパシティ プランニング](https://go.microsoft.com/fwlink/?LinkId=324566)記事。 リーダーは、確認を強くお勧め[Active Directory Domain Services のキャパシティ プランニング](https://go.microsoft.com/fwlink/?LinkId=324566)技術に関する理解を深めると、これらの推奨事項の影響。

## <a name="avoid-going-to-disk"></a>ディスクに入らないをように

Active Directory は、メモリが許す限り、データベースのキャッシュします。 桁違いはメディアがスピンドルまたは SSD ベースかどうか、物理メディアにアクセスするよりも高速化がメモリからページをフェッチしています。 ディスク I/O を最小限に抑えるに多くのメモリを追加します。

-   Active Directory のベスト プラクティスお勧めします DIT 全体をメモリに読み込むし、オペレーティング システムとウイルス対策、バックアップ ソフトウェアなど、インストールされているその他のアプリケーションに対応するための十分な RAM を配置することの監視など。

    -   従来のプラットフォームの制限については、次を参照してください。 [Windows Server 2003 または Windows 2000 Server を実行しているドメイン コント ローラーで Lsass.exe プロセスによるメモリ使用量](https://support.microsoft.com/kb/308356)します。

    -   メモリを使用して、\\長期的な平均スタンバイ キャッシュの有効期間 (秒) &gt; 30 分のパフォーマンス カウンター。

-   オペレーティング システム、ログ、およびデータベースを別々 のボリューム上に配置します。 すべての場合またはキャッシュのウォームと安定した状態では、下の 関連性の低いなり、記憶域のレイアウトに少しも高い柔軟性これ、DIT の大半をキャッシュできます。 DIT 全体をキャッシュできないシナリオでは、オペレーティング システム、ログ、および個別のボリューム上のデータベース分割の重要性はより重要になります。

-   通常、DIT に I/O 率は、約 90% の読み取りと書き込みの 10% です。 書き込み I/O ボリュームが大幅に 10 ~ 20% を超える場所のシナリオでは、書き込み負荷の高いと見なされます。 書き込み負荷の高いシナリオが、Active Directory キャッシュから大幅にメリットはありません。 ディレクトリに書き込まれたデータのトランザクションの持続性を保証するために Active Directory ディスク書き込みキャッシュは行いません。 代わりに、コミット、ディスクへのすべての書き込み操作、操作が正常に完了ステータスを返す前にこの操作を行わないが明示的に要求がない限り、します。 したがって、高速なディスク I/O は、Active Directory への書き込み操作のパフォーマンスに重要です。 次に、ハードウェアの推奨事項のこれらのシナリオでパフォーマンスを向上させる可能性があります。

    -   ハードウェア RAID コント ローラー

    -   DIT とログ ファイルをホストする低待機時間/高 RPM のディスクの数を増やす

    -   コント ローラーの書き込みキャッシュ

-   ボリュームごとに個別にディスク サブシステムのパフォーマンスを確認します。 Active Directory のほとんどのシナリオでは、主に読み取りベース、DIT をホストしているボリュームの統計は検査中で最も重要なためです。 ただしはないオペレーティング システムを含む、ドライブの残りの部分を監視対象外し、ログ ファイル ドライブ。 記憶域のパフォーマンスのボトルネックを回避するために、ドメイン コント ローラーが正しく構成されてかどうかを判断するには、記憶域サブシステム上の標準ストレージの推奨事項のセクションを参照します。 多くの環境間では、哲学は、急増または負荷の急増に対応するために十分な余裕があることを確認します。 これらのしきい値に警告しきい値サージまたは負荷の急増に対応するためにルーム ヘッドの場所の制約付きになり、クライアントの応答性が低下します。 簡単に言えば、これらのしきい値を超えるは短期的な (5 ~ 15 分 1 日に何回か) で問題ありません、酷使ただし実行の統計情報のような持続的なシステムのデータベースが完全にキャッシュされず、なる可能性があり、調査する必要があります。

    -   Database = =&gt; Instances(lsass/NTDSA)\\I/O データベース読み取りの平均待機時間&lt;使う

    -   Database ==&gt; Instances(lsass/NTDSA)\\I/O Database Reads/sec &lt; 10

    -   Database ==&gt; Instances(lsass/NTDSA)\\I/O Log Writes Averaged Latency &lt; 10ms

    -   Database = =&gt; Instances(lsass/NTDSA)\\I/O のログ書き込み/秒 – 情報のみです。

        データの一貫性を維持するためにすべての変更をログに書き込まする必要があります。 のみがサポートしている記憶域の量の測定値である、良くも悪くも数をここではありません。

-   バックアップおよびウイルス対策スキャン、ピーク負荷期間などの非コア ディスク I/O 負荷を計画します。 また、Active Directory のニーズに応じて、I/O の競合を軽減する Windows Server 2008 で導入された、優先順位の低い I/O 機能をサポートするバックアップおよびウイルス対策ソリューションを使用します。

## <a name="dont-over-tax-the-processors"></a>プロセッサ税金の面ではありません。

十分な空きサイクルがないプロセッサには、実行するため、プロセッサにスレッドに待機時間が長い可能性があります。 多くの環境間で哲学を急激に対応するために十分な余裕があることを確認またはこれらのシナリオでクライアントの応答性に影響を最小限に負荷が急増します。 つまり、超えている、しきい値を下回っては問題ありません (5 ~ 15 分 1 日に何回か) の短期的な統計情報のような継続的に実行するシステム任意ヘッドが異常な負荷に対応する余地し、over に簡単に配置することができますを提供しないただし受ければ sシナリオ。 システムの支出しきい値を超えて長時間続く場合は、プロセッサの負荷を削減する方法を調べる必要があります。

-   プロセッサを選択する方法の詳細については、次を参照してください。[サーバー ハードウェアのパフォーマンス チューニング](../../hardware/index.md)します。

-   ハードウェアの追加、負荷の最適化、他の場所でクライアントを直接または CPU の負荷を軽減するための環境から負荷を削除します。

-   プロセッサ情報を使用して (\_合計)\\% のプロセッサ使用率&lt;60% パフォーマンス カウンター。

## <a name="avoid-overloading-the-network-adapter"></a>ネットワーク アダプターをオーバー ロードを回避します。

プロセッサと同じように、過剰なネットワーク アダプターの使用率にも、ネットワークに入るへの送信トラフィックの長い待機時間が発生します。 小規模の要求を受信する傾向がある active Directory と比較的クライアント システムに返されるデータ量が大幅に拡大します。 送信データには、受信したデータがはるかに超えています。 多くの環境間では、哲学は、急増または負荷の急増に対応するために十分な余裕があることを確認します。 このしきい値はサージまたは負荷の急増に対応するはぐらいの余裕を警告しきい値が制約し、クライアントの応答性が低下します。 つまり、これらのしきい値を超えるは短期的 (5 ~ 15 分 1 日に何回か) に無効な経由での実行の統計情報のような持続的なシステムが酷使および調査する必要があります。

-   ネットワーク サブシステムを調整する方法の詳細については、次を参照してください。[ネットワーク サブシステムのパフォーマンス チューニング](../../../../networking/technologies/network-subsystem/net-sub-performance-top.md)します。

-   Networkinterface からの比較を使用して (\*)\\NetworkInterface の Bytes Sent/sec (\*)\\パフォーマンス カウンターの現在の帯域幅。 比率は、使用率が 60% 未満になります。

## <a name="see-also"></a>関連項目
- [Active Directory サーバーのチューニング パフォーマンス](index.md)
- [LDAP の考慮事項](ldap-considerations.md)
- [適切に配置のドメイン コント ローラーとサイトに関する考慮事項](site-definition-considerations.md)
- [ADDS のパフォーマンスのトラブルシューティング](troubleshoot.md) 
- [Active Directory Domain Services のキャパシティ プランニング](https://go.microsoft.com/fwlink/?LinkId=324566)