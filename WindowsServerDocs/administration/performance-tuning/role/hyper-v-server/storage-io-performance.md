---
title: Hyper V ストレージ I/O パフォーマンス
description: HYPER-V のパフォーマンス チューニングでストレージの i/o パフォーマンスの考慮事項
ms.prod: windows-server-threshold
ms.technology: performance-tuning-guide
ms.topic: article
ms.author: Asmahi; SandySp; JoPoulso
author: phstee
ms.date: 10/16/2017
ms.openlocfilehash: fedc23083914bcf97a8cde12b78c0b174143de25
ms.sourcegitcommit: 0d0b32c8986ba7db9536e0b8648d4ddf9b03e452
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/17/2019
ms.locfileid: "59831313"
---
# <a name="hyper-v-storage-io-performance"></a>Hyper V ストレージ I/O パフォーマンス

このセクションでは、さまざまなオプションとストレージの仮想マシンでの I/O パフォーマンスのチューニングに関する考慮事項について説明します。 ストレージの I/O パスは、ホストの記憶域スタックし、物理ディスクからゲスト記憶域スタックのホストの仮想化層を拡張します。 次に、最適化はこれらの各段階で可能な方法について説明します。

## <a name="virtual-controllers"></a>仮想コント ローラー

HYPER-V には、仮想コント ローラーの次の 3 つの種類が用意されています。IDE、SCSI、および仮想ホスト バス アダプター (Hba)。

## <a name="ide"></a>IDE

IDE コント ローラーは、仮想マシンに IDE ディスクを公開します。 IDE コント ローラーがエミュレートされ、古いバージョンの Windows 仮想マシンの統合サービスを実行しているゲスト Vm に使用される専用のコント ローラーです。 ディスクの仮想マシンの Integration Services で提供されている IDE フィルター ドライバーの使用によって実行される I/O がディスク I/O パフォーマンス、エミュレートされた IDE コント ローラーで提供されるよりも大幅に向上します。 すべてのユーザーをこれらのデバイスに発行できる最大 I/O サイズが多いため、パフォーマンスの制限があるため、オペレーティング システム ディスクのみに使用される IDE ディスクをお勧めします。

## <a name="scsi-sas-controller"></a>SCSI (SAS コント ローラー)

SCSI コント ローラーは、仮想マシンに SCSI ディスクを公開し、各仮想 SCSI コント ローラーは、最大 64 個のデバイスをサポートできます。 最適なパフォーマンスを 1 つの仮想 SCSI コント ローラーに複数のディスクをアタッチし、仮想マシンに接続されているディスクの数をスケーリングに必要な場合にのみ追加のコント ローラーを作成するお勧めします。 SCSI パスがエミュレートされていないオペレーティング システム ディスク以外の任意のディスクの優先コント ローラーになります。 実際、世代 2 の Vm で、可能なコント ローラーの唯一の種類です。 Windows Server 2012 R2 で導入された、このコント ローラーとして報告されます SAS 共有 VHDX をサポートします。

## <a name="virtual-fibre-channel-hbas"></a>仮想ファイバー チャネル Hba

仮想ファイバー チャネル Hba は、Lun の Ethernet (FCoE) 経由で仮想マシンをファイバー チャネルおよびファイバー チャネルの直接のアクセス許可を構成できます。 仮想ファイバー チャネル ディスクでは、記憶域 I/O の CPU 使用率を削減するルート パーティションで NTFS ファイル システムをバイパスします。

大量のデータ ドライブと複数の仮想マシン (ゲスト クラスタ リングのシナリオ) 用の間で共有されているドライブは、仮想ファイバー チャネル ディスクの主な候補です。

仮想ファイバー チャネル ディスクでは、1 つまたは複数ファイバー チャネル ホスト バス アダプター (Hba)、ホストにインストールする必要があります。 各ホスト HBA は、NPIV/Windows Server 2016 の仮想ファイバー チャネル機能をサポートする HBA ドライバーを使用する必要があります。 SAN ファブリックは、NPIV をサポートする必要があり、仮想ファイバー チャネルに使用される HBA ポートは NPIV をサポートするファイバー チャネル トポロジでセットアップする必要があります。

1 つ以上の HBA にインストールされているホストでスループットを最大化するをお勧め、HYPER-V 仮想マシン内の複数の仮想 Hba を構成すること (仮想マシンごとに最大で 4 つの Hba を構成することができます)。 HYPER-V は、同一の仮想 SAN にアクセスするホスト Hba を仮想 Hba のバランスを取るベスト エフォート自動的になります。

## <a name="virtual-disks"></a>仮想ディスク

ディスクは、仮想のコント ローラーを介して仮想マシンに公開することができます。 これらのディスクには、ディスクまたはホスト上のパススルー ディスクのファイルの抽象化である仮想ハード ディスク可能性があります。

## <a name="virtual-hard-disks"></a>バーチャル ハード ディスク

2 つの仮想ハード ディスク フォーマット、VHD および VHDX があります。 これらの形式のそれぞれには、3 種類の仮想ハード ディスク ファイルがサポートしています。

## <a name="vhd-format"></a>VHD 形式

過去のリリースでは、HYPER-V でサポートされている唯一の仮想ハード_ディスクの形式を VHD 形式にしました。 Windows Server 2012 で導入された、VHD 形式より優れた配置は、新しい大容量セクター ディスクでパフォーマンスが大幅に向上させる変更されています。

Windows Server 2012 以降に作成される新しい VHD には、4 KB の最適なアラインメントがあります。 この配置済みの形式は、以前の Windows Server オペレーティング システムを完全に互換性は。 ただし、配置プロパティを 4 kb しない (Windows Server の以前のバージョンからの VHD パーサー) または Microsoft 以外のパーサーなどの配置に対応したパーサーから新しい割り当てを解除できます。

以前のリリースから移動した VHD は自動的に取得変換されませんをこの新しい強化された VHD 形式にします。

新しい VHD 形式に変換するには、次の Windows PowerShell コマンドを実行します。

``` syntax
Convert-VHD –Path E:\vms\testvhd\test.vhd –DestinationPath E:\vms\testvhd\test-converted.vhd
```

配置プロパティを確認するには、システム上のすべての Vhd の場合とが 4 KB の最適なアラインメントに変換されます。 元の VHD からのデータを使用して、新しい VHD を作成する、**ソースからの作成**オプション。

Windows Powershell を使用して配置を確認するに次に示すよう、配置の行を確認します。

``` syntax
Get-VHD –Path E:\vms\testvhd\test.vhd

Path                    : E:\vms\testvhd\test.vhd
VhdFormat               : VHD
VhdType                 : Dynamic
FileSize                : 69245440
Size                    : 10737418240
MinimumSize             : 10735321088
LogicalSectorSize       : 512
PhysicalSectorSize      : 512
BlockSize               : 2097152
ParentPath              :
FragmentationPercentage : 10
Alignment               : 0
Attached                : False
DiskNumber              :
IsDeleted               : False
Number                  :
```

Windows PowerShell を使用して配置を確認するに次に示すよう、配置の行を確認します。

``` syntax
Get-VHD –Path E:\vms\testvhd\test-converted.vhd

Path                    : E:\vms\testvhd\test-converted.vhd
VhdFormat               : VHD
VhdType                 : Dynamic
FileSize                : 69369856
Size                    : 10737418240
MinimumSize             : 10735321088
LogicalSectorSize       : 512
PhysicalSectorSize      : 512
BlockSize               : 2097152
ParentPath              :
FragmentationPercentage : 0
Alignment               : 1
Attached                : False
DiskNumber              :
IsDeleted               : False
Number                  :
```

## <a name="vhdx-format"></a>VHDX 形式

VHDX は、Windows Server 2012 64 テラバイトまでの回復力のある高性能の仮想ディスクを作成することができますで導入された新しい仮想ハード ディスク フォーマットです。 この形式の利点は次のとおりです。

-   最大 64 テラバイトの仮想ハード_ディスクの記憶域容量をサポートします。

-   VHDX メタデータ構造体に更新情報を記録することで、電源障害が発生した場合にデータを破損から保護します。

-   ユーザーは、オペレーティング システムのバージョンまたは修正プログラムの適用などを記録するファイルに関するカスタム メタデータを格納する機能。

VHDX 形式には、次のパフォーマンス上の利点も提供します。

-   仮想ハード ディスク フォーマットの配置の改善により、大容量セクター ディスクで適切に動作します。

-   により、これらのディスクのワークロードのニーズに対応する動的と差分ディスクのブロック サイズを大きくします。

-   4 KB 論理セクター仮想ディスクには、4 KB セクターするように設計されたアプリケーションやワークロードで使用するときのパフォーマンスが向上します。

-   ファイル サイズを小さくなり、基になる物理記憶装置の未使用領域を再利用を許可するには、データの表現の効率化します。 (Trim は、パススルーまたは SCSI ディスクおよび trim と互換性のあるハードウェアが必要)。

Windows Server 2016 にアップグレードする場合は、すべての VHD ファイルは、これらの特典により VHDX 形式を変換することをお勧めします。 VHD 形式でファイルを保存するという意味になりますが、唯一のシナリオでは、仮想マシンに VHDX 形式をサポートしていない HYPER-V の以前のリリースに移動する可能性がある場合です。

## <a name="types-of-virtual-hard-disk-files"></a>仮想ハード ディスク ファイルの種類

3 種類の VHD ファイルがあります。 次のセクションでは、パフォーマンス特性と、型の間のトレードオフです。

次の推奨事項は、VHD ファイルの種類の選択に関する考慮事項に考慮する必要があります。

-   VHD 形式を使用する場合は、優れた回復性とその他の VHD ファイルの種類と比較のパフォーマンス特性があるため、固定の型を使用することをお勧めします。

-   VHDX 形式を使用する場合は、これを行う必要がある場合にのみ、ディスク領域の割り当てに関連付けられている領域の節約だけでなく回復性の保証を提供するために、動的な型を使用することをお勧めします。

-   固定の型もお勧めの形式に関係なくホスト ボリューム上の記憶域が十分なディスク領域が実行時に、VHD ファイルを展開するときに存在することを確認する積極的に監視されていない場合。

-   仮想マシンのスナップショットを作成、差分 VHD を格納するディスクに書き込みます。 いくつかのスナップショットが著しくない可能性がありますが、記憶域、I/o の CPU 使用率を昇格できるだけのパフォーマンスに影響を除く高は入出力集中サーバー ワークロードに対応します。 ただし、スナップショットの大規模なチェーンを持つことがパフォーマンスに目立った影響ため、VHD からの読み取りが多くの差分 Vhd に、要求されたブロックのチェックを要求することができます。 短いスナップショット チェーンを維持することは、適切なディスク I/O パフォーマンスを維持するため重要です。

## <a name="fixed-virtual-hard-disk-type"></a>仮想ハード_ディスクの種類を修正しました

VHD の容量は最初に、VHD ファイルが作成されるときに割り当てられました。 この種類の VHD ファイルは、1 つの I/O が複数の I/o に分割される I/O のスループットを減らすこと、フラグメント化する可能性を低減します。 読み取りと書き込みブロックのマッピングを検索する必要はないため、次の 3 つの VHD ファイルの種類の最も低い CPU オーバーヘッドがあります。

## <a name="dynamic-virtual-hard-disk-type"></a>動的仮想ハード_ディスクの種類

VHD の領域は、オンデマンドで割り当てられます。 ディスク内のブロックは、未割り当てのブロックとして起動し、ファイル内の実際の領域ではバックアップされません。 ブロックを最初に書き込まれ、仮想化スタックする必要があります、ブロックの VHD ファイル内の領域を割り当てる、メタデータを更新します。 これにより、書き込みのために必要なディスク I/o の数が増加され、CPU 使用率が増加します。 読み取りとメタデータに、要素のマッピングの検索時にディスクへのアクセスと CPU のオーバーヘッドを既存のブロックへの書き込みが発生します。

## <a name="differencing-virtual-hard-disk-type"></a>差分仮想ハード ディスクの種類

VHD は、親 VHD ファイルを指します。 可変の VHD と同様に、VHD ファイルに割り当てられている領域の結果には書き込まれませんブロックへの書き込み。 ブロックが書き込まれた場合、VHD ファイルからの読み取りが処理されます。 それ以外の場合、親 VHD ファイルから、処理されます。 どちらの場合も、ブロックのマッピングを判断するメタデータが読み取られます。 読み取りと、この VHD への書き込みはより多くの CPU を消費し、固定の VHD ファイルよりも多くの I/o が発生します。

## <a name="block-size-considerations"></a>ブロックのサイズに関する考慮事項

ブロック サイズは、パフォーマンスに大きく影響します。 ブロック サイズ、ディスクを使用している負荷の割り当てのパターンに一致するのに最適になります。 たとえば、16 MB のチャンク単位では、アプリケーションの割り当て場合、16 MB のブロック サイズは仮想ハード_ディスクに最適ながなります。 ブロック サイズを&gt;2 MB、VHDX 形式の仮想ハード_ディスクでのみ可能です。 ランダム I/O ワークロードの割り当てパターンよりも大きいブロック サイズと、ホストで使用される領域が大幅に向上します。

## <a name="sector-size-implications"></a>セクター サイズの影響

ソフトウェア業界のほとんどは、512 バイトのディスク セクターに依拠していますが、標準は 4 KB ディスク セクターへ移動します。 セクター サイズの変更から発生する可能性がある互換性の問題を減らすためには、ハード ドライブ ベンダーに 512 エミュレーション ドライブ (512 e) と呼ばれる移行のサイズが導入されました。

これらのエミュレーション ドライブは、4 KB ディスク セクター ネイティブ ドライブ フォーマット効率の向上などおよびスキーム エラー修正コード (ECC) の強化が提供する利点の一部を提供します。 ディスク インターフェイスで 4 KB セクター サイズを公開することで発生する互換性に関する問題の少ないが付属しています。

## <a name="support-for-512e-disks"></a>512e ディスクのサポート

512e ディスクは、物理セクターの観点からのみ、書き込みを実行できる: つまり、書き込むことができない直接に発行された 512 バイト セクター。 これらの書き込みを可能にするディスクの内部プロセスでは、次の手順に従います。

-   ディスクは、内部キャッシュに 512 バイトの論理セクターの書き込みで参照を含む 4 KB の物理セクターを読み取ります。

-   4 KB のバッファーのデータは、更新された 512 バイト セクターを含むように変更されます。

-   ディスクは、ディスク上の物理セクターに更新された 4 KB のバッファーの書き込みを実行します。

このプロセスは、読み取り/変更/書き込み (RMW) と呼ばれます。 RMW プロセスの全体的なパフォーマンスに与える影響はワークロードによって異なります。 RMW プロセスの次の理由から仮想ハード_ディスクのパフォーマンス低下を原因します。

-   動的と差分仮想ハード_ディスクは、データ ペイロードの前に 512 バイトのセクター ビットマップがあります。 さらに、フッター、ヘッダー、および親ロケーターは、512 バイト セクターに合わせて配置します。 バーチャル ハード ディスク ドライバー 512 バイトの書き込みコマンドを発行する前に説明した RMW プロセスでその結果、これらの構造を更新するために一般的です。

-   アプリケーション一般的問題読み取りと書き込み 4 KB のサイズ (NTFS の既定クラスター サイズ) の倍数で。 差分仮想ハード_ディスク、4 KB のブロックは整列していません物理 4 KB 境界にダイナミック データ ペイロード ブロックの前に 512 バイトのセクター ビットマップがあるため。 次の図は、VHD の 4 KB ブロック (強調表示されている) は物理 4 KB 境界と一致していません。

![vhd の 4 kb のブロック](../../media/perftune-guide-vhd-4kb-block.png)

ペイロード データを更新する現在のパーサーによって発行された各 4 KB 書き込みコマンドは、2 つの読み取り、更新され、その後、2 つのディスク ブロックに書き戻されますディスク上の 2 つのブロックの結果します。 Windows Server 2016 では、HYPER-V では、VHD 形式で 4 KB 境界に配置の前に説明した構造を準備して、VHD スタックに対する 512e ディスクのパフォーマンスに与える影響の一部を軽減します。 これにより、バーチャル ハード ディスク ファイル内のデータにアクセスするとき、および仮想ハード_ディスクのメタデータ構造体を更新するときに、RMW の影響を回避できます。

前述のように、Windows Server の以前のバージョンからコピーした Vhd は自動的に適さない 4 KB にします。 使用して最適に配置することを手動で変換できます、**のソースからコピー**ディスク VHD のインターフェイスで利用できるオプションです。

既定では、512 バイトの物理セクター サイズの Vhd が公開されます。 これは、アプリケーションと Vhd が Windows Server の以前のバージョンから移動したときの物理セクター サイズに依存するアプリケーションが影響しないことを確認します。

既定では、VHDX 形式を使用したディスクは 4 KB の物理セクター サイズのパフォーマンス プロファイルの通常のディスクと大容量セクター ディスクを最適化するために作成されます。 4 KB セクターを最大限に活用するには、VHDX 形式を使用することが推奨されます。

## <a name="support-for-native-4kb-disks"></a>ネイティブ 4 KB ディスクのサポート

Hyper-v ホストの Windows Server 2012 R2 以降 4 KB ネイティブのディスクをサポートしています。 4 KB ネイティブ ディスク上の VHD ディスクを格納することも可能です。 これは、ソフトウェア RMW の実装で対応する 4 KB に 512 バイトのアクセスと更新の要求を変換する仮想記憶域スタック レイヤーでアルゴリズムにアクセスおよび更新します。

として 512 バイトの論理セクター サイズがディスク自体の VHD ファイルに公開のみできますが、ためには、512 バイトの I/O 要求を発行するアプリケーションがある可能性があります。 このような場合は、RMW レイヤーはこれらの要求を満たすし、パフォーマンスが低下します。 またこれは、論理セクター サイズは 512 バイトの VHDX でフォーマットされたディスクに当てはまります。

として、4 KB 論理セクター サイズのディスクでは、公開する VHDX ファイルを構成することは、ディスクが 4 KB ネイティブの物理デバイスでホストされている場合、パフォーマンスの最適な構成をなります。 4 KB 論理セクター サイズによって、ゲストと仮想ディスクを使用しているアプリケーションがバックアップされていることを確認することに注意してください。 4 KB 論理セクター サイズのデバイスで VHDX を書式設定が正しく動作します。

## <a name="pass-through-disks"></a>パススルー ディスク

代わりには、VHD ファイルを仮想マシンの VHD を物理ディスクまたは論理ユニット番号 (LUN) に直接マップできます。 利点は、この構成を記憶域 I/O の CPU 使用率を低減できます。 ルート パーティションで NTFS ファイル システムをバイパスすることです。 リスクは、物理ディスクまたは Lun を困難に VHD ファイルよりもコンピューター間で移動できることです。

パススルー ディスクは、仮想マシンの移行シナリオで導入された制限があるため避ける必要があります。

## <a name="advanced-storage-features"></a>高度な記憶域機能

### <a name="storage-quality-of-service-qos"></a>記憶域のサービスの品質 (QoS)

Windows Server 2012 R2 以降、HYPER-V には、仮想マシンの記憶域の特定のサービス品質 (QoS) パラメーターを設定する機能が含まれています。 ストレージ QoS では、マルチテナント環境でのストレージ パフォーマンスの分離と、仮想マシンのワークロードを効率的に実行するために定義されているしきい値をストレージの I/O パフォーマンスが満たしていないときにユーザーに通知するメカニズムが提供されます。

ストレージ QoS では、仮想ハード ディスクの 1 秒あたりの最大入力/出力操作数 (IOPS) の値を指定できます。 管理者は、ストレージの I/O を調整して、テナントが別のテナントに影響を与えるほど過剰にストレージ リソースを消費するのを防ぐことができます。

最小 IOPS 値を設定することもできます。 管理者は、指定した仮想ハード ディスクの IOPS が最適なパフォーマンスに必要なしきい値より低下すると通知を受け取ります。

仮想マシンのメトリック インフラストラクチャも更新されており、管理者は、ストレージ関連のパラメーターを使用することによって、パフォーマンスおよびチャージバックに関するパラメーターを監視できます。

最大値と最小値は、すべての 8 KB のデータが、I/O としてカウントされます、正規化された IOPS について指定されます。

ような制限事項。

-   仮想ディスクに対してのみ

-   差分ディスクは、別のボリュームに仮想ディスクの親を含めることはできません。

-   レプリカのプライマリ サイトから個別に構成されているレプリカ サイトの QoS

-   共有 VHDX がサポートされていません

記憶域サービスの品質の詳細については、次を参照してください。 [、Hyper-v 用のサービス品質の記憶域](https://technet.microsoft.com/library/dn282281.aspx)します。

### <a name="numa-io"></a>NUMA I/O

Windows Server 2012 とサポートの大規模な仮想マシンと、大規模な仮想マシンの構成 (たとえば、64 の仮想プロセッサを実行している Microsoft SQL Server の構成) 以外では、I/O スループットの観点で拡張性を必要があります。

Windows Server 2012 の記憶域スタックと HYPER-V で初めて導入された次キーの機能強化では、大規模な仮想マシンの I/O スケーラビリティのニーズを提供します。

-   ゲスト デバイスとホストの記憶域スタックの間に作成される通信チャネルの数の増加。

-   効率的な I/O 完了メカニズム高価なさせるプロセス間の中断を回避する仮想プロセッサ間割り込み配布に関連します。

HKLM にある、いくつかのレジストリ エントリがある Windows Server 2012 で導入された、\\システム\\CurrentControlSet\\Enum\\VMBUS\\{デバイス id}\\{インスタンス id}\\StorChannel、調整するチャネルの数を許可します。 また、I/O プロセッサを使用するアプリケーションによって割り当てられている仮想 cpu、I/O 完了を処理するための仮想プロセッサを揃えます。 レジストリ設定は、デバイスのハードウェア キーでアダプターごとに構成されます。

-   **ChannelCount (DWORD)** 最大 16 で、使用するチャネルの合計数。 これは仮想プロセッサ/16 の数値の切り上げを既定になります。

-   **ChannelMask (QWORD)** チャネルのプロセッサの関係。 で設定されていないまたは 0 に設定されている場合の既定値は通常のストレージまたはネットワーク チャネルを使用する既存のチャネル分散アルゴリズムです。 これにより、記憶域、チャネルは、ネットワーク チャネルを競合しません。

### <a name="offloaded-data-transfer-integration"></a>オフロード データ転送の統合

Vhd、merge などの重要なメンテナンス タスクを移動する、圧縮コピー大量のデータに依存します。 現在主流のデータ コピーの方法ではデータを読み取ってから別の場所に書き込む必要があるため、処理に時間がかかります。 サービスの仮想マシンに使用されていることと、ホスト上の CPU およびメモリ リソースも使用します。

記憶域ネットワーク (SAN) のベンダーは、大量のデータのコピー処理がほとんど即時に行われるように取り組んでいます。 1 つの場所から特定のデータ セット間の移動を指定するディスク上のシステムで許可するのには、このストレージは設計されています。 このハードウェア機能は、オフロード データ転送と呼ばれます。

以降では、Windows Server 2012 HYPER-V では、オフロード データ転送 (ODX) の操作をサポートするため、これらの操作は、ホスト ハードウェアにゲスト オペレーティング システムから渡すことができます。 これにより、ワークロードも、非仮想化環境で実行する場合と同じようには、ODX が有効なストレージを使用できます。 ODX 操作は、Vhd のメンテナンス操作中にディスクおよび記憶域の移行メタ操作大量のデータの移動先のマージなど、HYPER-V の記憶域スタックによっても発行します。

### <a name="unmap-integration"></a>統合を解除します。

仮想ハード ディスク ファイルが、記憶域ボリューム上のファイルとして存在し、その他のファイルで使用可能な領域を共有します。 これらのファイルのサイズが大きくなる傾向があります、ため、使用する領域が迅速に拡張できます。 複数の物理記憶域の需要は、IT ハードウェアの予算に影響します。 可能な限り物理ストレージの使用を最適化するために重要です。

Windows Server 2012 では、前にアプリケーション コンテンツの記憶域スペースを効果的に破棄するには、仮想ハード ディスク内のコンテンツを削除するときに、ゲスト オペレーティング システムと HYPER-V ホストで Windows 記憶域スタックがこれがある制限事項仮想ハード ディスクと物理記憶域デバイスに伝達されてからの情報。 仮想ディスクの VHD に基づくファイルによって使用される領域を最適化することから、HYPER-V の記憶域スタックができません。 削除されたデータによって既に占有されていた領域を再利用の基になる記憶域デバイスもできません。

Windows Server 2012 以降、通知で、その中には、そのデータを表すでより効率的な VHDX ファイルを許可するをマップ解除、HYPER-V がサポートされます。 これは、結果、ファイル サイズの小さいでき、基になる物理記憶装置の未使用領域を再利用できます。

のみのハイパー V 固有の SCSI コント ローラーに到達するゲストからのマッピング解除コマンドを許可する IDE、および仮想ファイバー チャネルの対応ホストの仮想記憶域スタック。 仮想ハード_ディスクの VHDX のサポートとして書式設定された仮想ディスクのみマップ解除するゲストからコマンド。

これらの理由から、仮想ファイバー チャネル ディスクを使用しない場合は、SCSI コント ローラーに接続されている VHDX ファイルを使用することをお勧めします。

## <a name="see-also"></a>関連項目

-   [HYPER-V 用語](terminology.md)

-   [HYPER-V のアーキテクチャ](architecture.md)

-   [HYPER-V サーバーの構成](configuration.md)

-   [HYPER-V のプロセッサのパフォーマンス](processor-performance.md)

-   [HYPER-V でメモリのパフォーマンス](memory-performance.md)

-   [HYPER-V ネットワークの I/O パフォーマンス](network-io-performance.md)

-   [仮想化環境のボトルネックの検出](detecting-virtualized-environment-bottlenecks.md)

-   [Linux 仮想マシン](linux-virtual-machine-considerations.md)
