---
title: Windows Server で一般法 3 プロトコルを使用してファイルの共有の概要
description: 一般法 3 プロトコルを使用して、ファイル共有と Windows Server でファイルのサービスの概要です。
ms.prod: windows-server-threshold
ms.topic: article
author: JasonGerend
ms.author: jgerend
ms.technology: storage
ms.date: 07/09/2018
ms.localizationpriority: medium
ms.openlocfilehash: fc4c8b341ee78db80f862ee412400f0a930fe810
ms.sourcegitcommit: 375e94dc70c76e7aa5679c32f0f4dbc26cf7dd83
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 07/10/2018
ms.locfileid: "2233488"
---
# <a name="overview-of-file-sharing-using-the-smb-3-protocol-in-windows-server"></a>Windows Server で一般法 3 プロトコルを使用してファイルの共有の概要

>対象: Windows Server 2012 R2、Windows Server 2012、Windows Server 2016

Windows Server® 2012、Windows Server 2012 R2、および Windows Server 2016 一般法 3.0 機能について説明、実用的なが新しい機能は、最も重要な使用のポイントまたは以前のバージョンとハードウェアと比較して、このバージョンの機能の更新要件です。

## <a name="feature-description"></a>機能の説明

サーバー メッセージ ブロック (SMB) プロトコルはネットワーク ファイル共有プロトコルの一種で、コンピューターのアプリケーションがコンピューター ネットワーク上のサーバー プログラムに対してファイルの読み込みや書き込みを実行したり、サービスを要求したりする際に使用されます。 SMB プロトコルは、TCP/IP プロトコルをはじめとするネットワーク プロトコルの上位で使用できます。 SMB プロトコルを使えば、アプリケーション (またはアプリケーションのユーザー) がリモート サーバーにあるファイルなどのリソースにアクセスできます。 これにより、リモート サーバー上でアプリケーションがファイルを読み込み、作成、および更新できるようになります。 また、SMB クライアント リクエストを受け取ることができるように設定された任意のサーバー プログラムと通信できます。 Windows Server 2012 では、一般法プロトコルのバージョンの新しい 3.0 について説明します。

## <a name="practical-applications"></a>実際の適用例

このセクションでは、実用的な新しい一般法 3.0 プロトコルを使用する方法について説明します。

* **仮想化 (Hyper-V™ 一般法上) にファイルを保存**します。 HYPER-V 一般法 3.0 プロトコルでファイルの共有、構成、仮想ハード_ディスク (VHD) ファイル、およびスナップショットなどの仮想マシンのファイルを保存できます。 スタンドアロンのファイルのサーバーとクラスター ファイル サーバー クラスターの共有ファイル ストレージと HYPER-V を使用するために使用できます。
* **Microsoft SQL Server**を一般法上にします。 SQL Server 一般法ファイル共有のユーザーのデータベース ファイルを保存できます。 現在、スタンドアロンの SQL server の SQL Server 2008 R2 でサポートされてこのします。 今後のバージョンの SQL Server 集合の SQL server とシステム データベースのサポートが追加されます。
* **エンドユーザーのデータの従来の記憶域**です。 一般法 3.0 プロトコル ワークロード インフォメーション ワーカー (またはクライアント) の拡張機能を提供します。 これらの機能強化には、ワイド エリア ネットワーク (WAN) 経由でデータにアクセスして、傍受からデータを保護する攻撃支店のユーザーによって発生アプリケーションの遅延を減らすことが含まれます。

## <a name="new-and-changed-functionality"></a>新機能と変更された機能

Windows Server 2012 R2 の追加、変更の機能の詳細は、「[一般法 in Windows Server の新機能](<https://docs.microsoft.com/previous-versions/windows/it-pro/windows-server-2012-r2-and-2012/hh831474(v%3dws.11)>)」を参照してください。

Windows Server 2012 および Windows Server 2016 で一般法には、次の表に、新しい一般法 3.0 プロトコルと説明する多くの新しい機能強化が含まれています。

<table>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr class="header">
<th><p>機能</p></th>
<th><p>新規/更新</p></th>
<th><p>要約</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>一般法透明なフェールオーバー</p></td>
<td><p>新規</p></td>
<td><p>管理者は、これらのファイル共有にデータを格納するサーバー アプリケーションを中断することがなく集合ファイル サーバーでのノードのハードウェアまたはソフトウェアのメンテナンスを実行できます。 また、クラスター ハードウェアまたはソフトウェアに問題が発生した場合一般法クライアント透過的に接続し直す別のクラスター ノード データを保存するには、これらのファイル共有サーバー アプリケーションを中断することがなくします。</p></td>
</tr>
<tr class="even">
<td><p>一般法スケール アウト</p></td>
<td><p>新規</p></td>
<td><p>管理者は、クラスター共有ボリューム (CSV) バージョン 2 を使用して、ファイル サーバー クラスターのすべてのノードを直接入出力をデータ ファイルへのアクセスを同時に提供するファイルの共有を作成できます。 これは、ネットワーク帯域幅の使用率の向上、ファイル サーバーのクライアントの負荷分散を提供し、サーバー アプリケーションのパフォーマンスを最適化します。</p></td>
</tr>
<tr class="odd">
<td><p>一般法マルチ チャンネル</p></td>
<td><p>新規</p></td>
<td><p>複数のパスが一般法 3.0 クライアントと一般法 3.0 サーバー間で利用できる場合は、ネットワークの帯域幅、およびネットワーク フォールト トレランスの集計を有効にします。 これにより、サーバー アプリケーションのすべての利用可能なネットワーク帯域幅を最大限に活用して、ネットワークに失敗することができます。</p></td>
</tr>
<tr class="even">
<td><p>一般法ダイレクト</p></td>
<td><p>新規</p></td>
<td><p>ネットワーク アダプターを RDMA 機能があり、ほとんどの CPU 使用中に、待機時間の値がきわめて低い速度の完全な機能の使用をサポートしています。 HYPER-V または Microsoft SQL Server などのワークロードのこれにより、リモート ファイル サーバーにローカルの記憶域のようになります。</p></td>
</tr>
<tr class="odd">
<td><p>サーバー アプリケーションのパフォーマンス カウンター</p></td>
<td><p>新規</p></td>
<td><p>カウンターを提供する新しい一般法パフォーマンスについては、あたりの共有についてスループット、待機時間、および I/O/秒 (IOPS)、管理者は、データが保存されている場所一般法 3.0 ファイル共有のパフォーマンスを分析することです。 これらのカウンターは HYPER-V と SQL Server、リモート ファイル共有のファイルの保存など、サーバー アプリケーション専用です。</p></td>
</tr>
<tr class="even">
<td><p>パフォーマンスの最適化</p></td>
<td><p>更新済み</p></td>
<td><p>一般法 3.0 クライアントと一般法 3.0 サーバーの両方に最適化された小さなランダムな読み取り/書き込み I/O、サーバー アプリケーションで SQL Server OLTP などの一般的な対象とします。 さらに、大きな最大転送単位 (MTU) は、既定でオン、非常に大きな連続転送で SQL Server データ ウェアハウス、データベースのバックアップ、復元などの展開] または [コピーの仮想ハード ディスクのパフォーマンスを改善します。</p></td>
</tr>
<tr class="odd">
<td><p>一般法固有の Windows PowerShell コマンドレット</p></td>
<td><p>新規</p></td>
<td><p>一般法の Windows PowerShell コマンドレット、管理者は、コマンドラインから端、ファイル サーバー上のファイル共有を管理できます。</p></td>
</tr>
<tr class="even">
<td><p>一般法暗号化</p></td>
<td><p>新規</p></td>
<td><p>一般法データの - エンドツー エンド暗号化を提供し、[信頼されているネットワーク傍受個からデータを保護します。 ない新しい導入コストおよびインターネット プロトコル セキュリティ、特殊なハードウェア、または WAN アクセラレータの必要はありませんが必要です。 共有ごとに、またはファイル サーバー全体を構成することが、さまざまなデータが信頼されているネットワークを通過するシナリオを有効にすることがあります。</p></td>
</tr>
<tr class="odd">
<td><p>一般法ディレクトリ リース</p></td>
<td><p>新規</p></td>
<td><p>支店のアプリケーションの応答時間が向上します。 長い生活からメタデータを取得するためのディレクトリ リースを使用するとクライアントからサーバーへの往復が減少ディレクトリ キャッシュします。 クライアントがサーバー上のディレクトリ情報の変更されたときに通知があるために、キャッシュの一貫性が維持されます。 <em>HomeFolder</em> (共有不可の読み取り/書き込み) と<em>文書</em>(共有では、読み取り専用) のシナリオで機能します。</p></td>
</tr>
</tbody>
</table>

## <a name="hardware-requirements"></a>ハードウェア要件

一般法透明なフェールオーバーには、次の要件があります。

* 2 つ以上のノードの構成と Windows Server 2012 または Windows Server 2016 を実行しているフェールオーバーします。 クラスターでは、入力規則ウィザードに含まれるクラスターの入力規則のテストを渡す必要があります。
* 継続的な空き時間情報 (CA) は、既定では、ファイルの共有を作成する必要があります。
* 一般法スケール アウトを達成するボリューム パスを CSV ファイルの共有を作成する必要があります。
* クライアント コンピューターでは、Windows 8 または Windows Server 2012、最新のビジネス継続性をサポートしている一般法クライアントを含めるものの両方が実行されている必要があります。

>[!NOTE]
>下位レベルのクライアントは、CA プロパティのファイル共有に接続できますが、これらのクライアントの透明なフェールオーバーはサポートされません。

一般法マルチ チャンネルには、次の要件があります。

* Windows Server 2012 を実行している 2 つ以上のコンピューターが必要です。 特別な機能をインストールする必要がない: テクノロジは既定でオンです。
* 推奨されるネットワークの構成については、このトピックの最後にある「参照」セクションを参照してください。

一般法直接では、次の要件があります。

* Windows Server 2012 を実行している 2 つ以上のコンピューターが必要です。 特別な機能をインストールする必要がない: テクノロジは既定でオンです。
* RDMA 機能があるのネットワーク アダプターが必要です。 現在、これらのアダプターは、次の 3 種類で利用できる: iWARP、Infiniband または RoCE (集約イーサネット RDMA)。

## <a name="more-information"></a>詳細

次の一覧は、一般法と Windows Server 2012 R2、Windows Server 2012、および Windows Server 2016 に関連するテクノロジについて web 上の他のリソースを提供します。

* [Windows Server の記憶域](../storage.md)
* [アプリケーションのデータのスケール アウト ファイル サーバー](../../failover-clustering/sofs-overview.md)
* [直接一般法がファイル サーバーのパフォーマンスが向上します。](smb-direct.md)
* [Hyper-V over SMB の展開](<https://docs.microsoft.com/previous-versions/windows/it-pro/windows-server-2012-r2-and-2012/jj134187(v%3dws.11)>)
* [一般法マルチ チャンネルを展開します。](<https://docs.microsoft.com/previous-versions/windows/it-pro/windows-server-2012-r2-and-2012/dn610980(v%3dws.11)>)
* [サーバー アプリケーションの迅速かつ効率的なファイル サーバーを展開します。](<https://docs.microsoft.com/previous-versions/windows/it-pro/windows-server-2012-r2-and-2012/hh831723(v%3dws.11)>)
* [一般法: のトラブルシューティング ガイド](<https://docs.microsoft.com/previous-versions/windows/it-pro/windows-server-2012-r2-and-2012/dn659439(v%3dws.11)>)