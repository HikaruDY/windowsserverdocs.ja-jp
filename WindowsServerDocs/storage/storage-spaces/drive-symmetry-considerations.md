---
title: ドライブの記憶域スペース ダイレクトの対称性に関する考慮事項
ms.author: cosdar
ms.manager: eldenc
ms.technology: storage-spaces
ms.topic: article
author: cosmosdarwin
ms.date: 10/08/2018
Keywords: Storage Spaces Direct
ms.localizationpriority: medium
ms.openlocfilehash: 629e49a0c1919286d8e4f418b3e99d69e720f4fd
ms.sourcegitcommit: f2ef58003da6de049c7c4b578f789a97e0a0f512
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 10/26/2018
ms.locfileid: "5591848"
---
# ドライブの記憶域スペース ダイレクトの対称性に関する考慮事項 

> 適用対象: Windows Server 2019、Windows Server 2016

[記憶域スペース ダイレクト](storage-spaces-direct-overview.md)は最適のすべてのサーバーがまったく同じドライブです。

実際には、認識していますこれは常に実用的な: 年を実行しスケール、組織のニーズの拡大と記憶域スペース ダイレクトが設計されています。 現在では、可能性がありますの購入を行う 3 TB の広いハード ドライブです。[次へ] 年に、その小さなものを検索する不可能しまいます。 したがって、ある程度のミキシングと一致がサポートされています。

このトピックでは、制約について説明し、サポートされているとサポートされていない構成の例を示します。

## 制約

### 種類

すべてのサーバーと同じ[種類](choosing-drives.md#drive-types)が必要です。

たとえば、1 台のサーバーに NVMe がある場合は、それらは*すべて*NVMe があります。

### Number

すべてのサーバー、同じ数の各種類のドライブが必要です。

たとえば、1 台のサーバーに 6 つの SSD がある場合する必要があります*すべて*6 つの SSD があります。

   > [!NOTE]
   > 異なるエラーまたは追加またはドライブを削除中に一時的にドライブの数のことができます。

### モデル

同じモデルと可能であれば、ファームウェアのバージョンのドライブを使用することをお勧めします。 できない場合は、慎重にできるだけ近いいるドライブを選択します。 します防止急激にさまざまなパフォーマンスまたは耐久性の特性を持つ同じ種類のドライブのミキシング対応付け (1 つは、キャッシュ、他の容量) しない限り、記憶域スペース ダイレクトの IO を均等に分散され、モデルに基づいて区別しないため.

   > [!NOTE]
   > ミックスと一致するような SATA、SAS ドライブすることができます。

### Size

可能であれば、同一のサイズのドライブを使用することをお勧めします。 さまざまなサイズの容量ドライブを使っての一部使用不可の容量とさまざまなサイズのキャッシュ ドライブを使用するといないキャッシュのパフォーマンスが向上します。 詳細については、次のセクションを参照してください。

   > [!WARNING]
   > サーバー間で異なる容量ドライブのサイズは、孤立した容量になる可能性があります。

## 容量のバランスを理解します。

記憶域スペース ダイレクトは堅牢容量のバランスをドライブ全体で、複数のサーバーです。 場合でも、バランス重大なすべて引き続き動作します。 ただし、いくつかの要因によってではないすべてのサーバーで利用可能な容量使用できません。

これは発生理由を確認するには、簡略化された次の図を検討してください。 各色付きのボックスは、ミラー化されたデータの 1 つのコピーを表します。 たとえば、ボックスにマーク A、A' と ' は同じデータの 3 つのコピーします。 サーバーのフォールト トレランスを優先する複数のサーバーに格納これらコピー*必要があります*。

### 孤立した容量

描画すると、サーバー 1 (10 TB) とサーバー 2 (10 TB) は完全なします。 サーバー 3 に大きいドライブ、そのため、その合計容量は大きい (15 TB)。 ただし、サーバー 3 に 3 方向ミラーリングより多くのデータを格納するためが必要になりますサーバー 1 と 2 のサーバー上のコピー、完全なは既にします。 サーバー 3 の残りの 5 TB 容量は使用できませんに対する容量の *「孤立した」* です。

![3 方向ミラーリングでは、次の 3 つのサーバーの容量を孤立しました。](media/drive-symmetry-considerations/Size-Asymmetry-3N-Stranded.png)

### 最適な配置

10 TB、10 TB、10 TB、15 TB の容量と 3 方向ミラーリングの回復性の 4 つのサーバーと逆に、それ** 代理店コピーとして描画されたすべての利用可能な容量を使用するように配置することもできます。 たびに、記憶域スペース ダイレクト アロケーターは検索し、孤立した容量のままにない、最適な配置を使用します。

![3 方向ミラーリング、4 台のサーバー、ない孤立した容量](media/drive-symmetry-considerations/Size-Asymmetry-4N-No-Stranded.png)

サーバー、回復性、容量のバランス、およびその他の要因の重要度の数は、孤立した容量があるかどうかに影響します。 **賢明最も一般的な規則を使用できるすべてのサーバーで利用可能なだけの容量が保証されると想定することです。**

## キャッシュのバランスを理解します。

記憶域スペース ダイレクトは堅牢キャッシュのバランスをドライブ全体で、複数のサーバーです。 場合でも、バランス重大なすべて引き続き動作します。 さらに、記憶域スペース ダイレクト常に使用して、機能を最大限に利用可能なすべてのキャッシュします。

ただし、さまざまなサイズのキャッシュ ドライブを使用していないパフォーマンスが向上キャッシュ均等または予測: のみより大きなのキャッシュ ドライブの[ドライブ バインディング](understand-the-cache.md#server-side-architecture)IO 可能性がありますパフォーマンスの向上を参照してください。 記憶域スペース ダイレクトでは、バインディングの間で IO を均等に分散し、データ格納用のキャッシュ比に基づいて判別しません。

![キャッシュのバランス](media/drive-symmetry-considerations/Cache-Asymmetry.png)

   > [!TIP]
   > キャッシュのバインディングの詳細について[のキャッシュについて](understand-the-cache.md)を参照してください。

## 構成の例

一部のサポートされており、サポートされていない構成を以下に示します。

### ![サポートされています](media/drive-symmetry-considerations/supported.png) サーバー間で異なるモデルをサポートされています。

最初の 2 つのサーバーは、NVMe モデル"X"を使用しますが、3 番目のサーバーとよく似ていますが NVMe モデル"Z"を使用します。

| サーバー 1                    | サーバー 2                    | サーバー 3                    |
|-----------------------------|-----------------------------|-----------------------------|
| 2 倍の NVMe モデル X (キャッシュ)    | 2 倍の NVMe モデル X (キャッシュ)    | 2 倍の NVMe モデル Z (キャッシュ)    |
| 10 倍の SSD モデル Y (容量) | 10 倍の SSD モデル Y (容量) | 10 倍の SSD モデル Y (容量) |

サポートされています。

### ![サポートされています](media/drive-symmetry-considerations/supported.png) サーバー内で異なるモデルをサポートされています。

すべてのサーバーでは、"Y"と"Z"とよく似ていますが、HDD モデルがいくつかのさまざまな組み合わせを使用します。 すべてのサーバーでは、10 個の合計 HDD があります。

| サーバー 1                   | サーバー 2                   | サーバー 3                   |
|----------------------------|----------------------------|----------------------------|
| 2 倍の SSD モデル X (キャッシュ)    | 2 倍の SSD モデル X (キャッシュ)    | 2 倍の SSD モデル X (キャッシュ)    |
| HDD モデル Y x 7 (容量) | HDD モデル Y x 5 (容量) | HDD モデル Y x 1 (容量) |
| 3 倍の HDD モデル Z (容量) | HDD モデル Z x 5 (容量) | HDD モデル Z x 9 (容量) |

サポートされています。

### ![サポートされています](media/drive-symmetry-considerations/supported.png) サーバー間でのさまざまなサイズのサポートされています。

最初の 2 つのサーバーが 4 TB の HDD を使用しますが、3 番目のサーバーとよく似ています 6 TB の HDD を使用します。

| サーバー 1                | サーバー 2                | サーバー 3                |
|-------------------------|-------------------------|-------------------------|
| 2 倍の 800 GB NVMe (キャッシュ) | 2 倍の 800 GB NVMe (キャッシュ) | 2 倍の 800 GB NVMe (キャッシュ) |
| 4 x 4 TB の HDD (容量) | 4 x 4 TB の HDD (容量) | 4 x 6 TB の HDD (容量) |

これは、サポートが、孤立した容量になります。

### ![サポートされています](media/drive-symmetry-considerations/supported.png) サーバー内でのさまざまなサイズのサポートされています。

すべてのサーバーでは、いくつか 1.2 TB およびとよく似ています 1.6 TB SSD の組み合わせを使用します。 すべてのサーバーでは、合計 4 つの SSD があります。

| サーバー 1                 | サーバー 2                 | サーバー 3                 |
|--------------------------|--------------------------|--------------------------|
| 3 x 1.2 TB SSD (キャッシュ)   | 2 x 1.2 TB SSD (キャッシュ)   | 4 x 1.2 TB SSD (キャッシュ)   |
| 1 x 1.6 TB SSD (キャッシュ)   | 2 x 1.6 TB SSD (キャッシュ)   | -                        |
| 20 x 4 TB の HDD (容量) | 20 x 4 TB の HDD (容量) | 20 x 4 TB の HDD (容量) |

サポートされています。

### ![サポートされていません](media/drive-symmetry-considerations/unsupported.png) サポートされていません: さまざまな種類のサーバー間でドライブ

1 のサーバーに NVMe が、他のユーザーにしないでください。

| サーバー 1            | サーバー 2            | サーバー 3            |
|---------------------|---------------------|---------------------|
| 6 x NVMe (キャッシュ)    | -                   | -                   |
| -                   | 6 x SSD (キャッシュ)     | 6 x SSD (キャッシュ)     |
| 18 x HDD (容量) | 18 x HDD (容量) | 18 x HDD (容量) |

これはサポートされていません。 すべてのサーバーで同じ種類のドライブがあります。

### ![サポートされていません](media/drive-symmetry-considerations/unsupported.png) サポートされていません: サーバー間での各種類の別の数字

Server 3 よりも、他の人以上のドライブがあります。

| サーバー 1            | サーバー 2            | サーバー 3            |
|---------------------|---------------------|---------------------|
| 2 x NVMe (キャッシュ)    | 2 x NVMe (キャッシュ)    | 4 x NVMe (キャッシュ)    |
| 10 x HDD (容量) | 10 x HDD (容量) | 20 x HDD (容量) |

これはサポートされていません。 各種類のドライブの数、すべてのサーバーで同じことがあります。

### ![サポートされていません](media/drive-symmetry-considerations/unsupported.png) サポートされていません: HDD ドライブのみ

すべてのサーバーでは、接続されている HDD ドライブのみがあります。

|サーバー 1|サーバー 2|サーバー 3|
|-|-|-| 
|18 x HDD (容量) |18 x HDD (容量)|18 x HDD (容量)|

これはサポートされていません。 2 つのキャッシュ ドライブ (NvME または SSD) の各サーバーに接続されている最小値を追加する必要があります。

## 要約

要約するに同じ種類のドライブと同じ数の種類ごとに、クラスター内のすべてのサーバー必要があります。 混在と一致するドライブ モデルと上記の考慮事項と、必要に応じて、ドライブのサイズにサポートされます。

| 制約                               |               |
|------------------------------------------|---------------|
| 同じ種類のすべてのサーバーでドライブ     | **必須かどうか**  |
| 同じ数のすべてのサーバー内の各種類 | **必須かどうか**  |
| すべてのサーバーで同じドライブ モデル        | 推奨   |
| すべてのサーバーで同じドライブのサイズ         | 推奨   |

## 関連項目

- [記憶域スペース ダイレクトのハードウェア要件](storage-spaces-direct-hardware-requirements.md)
- [記憶域スペース ダイレクトの概要](storage-spaces-direct-overview.md)
