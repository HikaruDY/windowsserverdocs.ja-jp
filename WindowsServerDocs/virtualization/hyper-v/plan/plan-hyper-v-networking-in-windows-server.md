---
title: Windows server、HYPER-V ネットワークの計画します。
description: HYPER-V での基本的なネットワーク接続が必要し、手順へのリンクを提供内容について説明します
ms.prod: windows-server-threshold
ms.service: na
manager: dongill
ms.technology: compute-hyper-v
ms.tgt_pltfrm: na
ms.topic: article
author: KBDAzure
ms.author: kathydav
ms.date: 10/04/2016
ms.openlocfilehash: 83c014b917566a78796d061dd88962966ec0c9ab
ms.sourcegitcommit: 0d0b32c8986ba7db9536e0b8648d4ddf9b03e452
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/17/2019
ms.locfileid: "59829873"
---
# <a name="plan-for-hyper-v-networking-in-windows-server"></a>Windows server、HYPER-V ネットワークの計画します。

>適用先:Microsoft HYPER-V Server 2016、Windows Server 2016、Microsoft HYPER-V Server 2019、Windows Server 2019
  
HYPER-V でのネットワークの基本を理解では、仮想マシンのネットワークを計画するのに役立ちます。 この記事では、その他のサーバー機能と役割を HYPER-V を使用するときとライブ マイグレーションを使用する場合にもいくつかのネットワークに関する考慮事項を説明します。  
  
## <a name="hyper-v-networking-basics"></a>HYPER-V ネットワークの基礎  
HYPER-V での基本的なネットワー キングは、非常に単純です。 -仮想スイッチと仮想ネットワーク アダプターの 2 つの部分を使用します。 少なくとも 1 つの各仮想マシンのネットワークを確立する必要があります。 仮想スイッチは、任意のイーサネット ベースのネットワークに接続します。 仮想ネットワーク アダプターは、これにより、ネットワークを使用する仮想マシンの仮想スイッチのポートに接続します。  
  
基本的なネットワー キングを確立する最も簡単な方法では、HYPER-V をインストールするときに、仮想スイッチを作成します。 次に、仮想マシンを作成するときに、スイッチに接続できます。 スイッチへの接続を自動的には、仮想マシンに仮想ネットワーク アダプターを追加します。 手順については、次を参照してください。 [、Hyper-v 仮想マシン用の仮想スイッチの作成](../get-started/Create-a-virtual-switch-for-Hyper-V-virtual-machines.md)です。  
  
ネットワー キングのさまざまな種類を処理するには、仮想スイッチと仮想ネットワーク アダプターを追加できます。 すべてのスイッチは、HYPER-V ホストの一部ですが、各仮想ネットワーク アダプターが 1 つだけの仮想マシンに属しています。  
  
仮想スイッチは、ソフトウェア ベースのレイヤー 2 イーサネット ネットワーク スイッチです。 監視、制御、およびセグメント区切りトラフィックだけでなく、セキュリティと診断の組み込み機能を提供します。  呼ばれる、プラグインをインストールすることによって、一連の組み込み機能に追加できます*拡張*します。 これらは、独立系ソフトウェア ベンダーから入手できます。 スイッチと拡張機能の詳細については、次を参照してください。 [、Hyper-v 仮想スイッチ](../../hyper-v-virtual-switch/Hyper-V-Virtual-Switch.md)します。  
  
### <a name="switch-and-network-adapter-choices"></a>スイッチとネットワーク アダプターの選択  
HYPER-V には、次の 3 つの種類の仮想スイッチと仮想ネットワーク アダプターの 2 種類が用意されています。 作成するときにするそれぞれのどれを選択します。 HYPER-V マネージャーまたは Windows PowerShell 用 HYPER-V モジュールを使用するには、作成して仮想スイッチと仮想ネットワーク アダプターを管理します。 いくつかの高度なネットワーク機能拡張ポート アクセス制御リスト (Acl) などのみ管理できます、HYPER-V モジュールのコマンドレットを使用します。  
  
作成した後、仮想スイッチまたは仮想ネットワーク アダプターにいくつかの変更を行うことができます。 たとえば、既存のスイッチを別の型に変更することが、そのスイッチに接続されているすべての仮想マシンのネットワーク機能に影響を与えることです。  そのため、可能性がありますされません誤りがある場合を除き、これを行うか何かをテストする必要があります。 別の例としては、別のネットワークに接続する場合に実行する別のスイッチに仮想ネットワーク アダプターを接続できます。 ただし、別に 1 つの型から仮想ネットワーク アダプターを変更することはできません。 型を変更するには、代わりには別の仮想ネットワーク アダプターを追加し、適切な種類を選択します。  
  
仮想スイッチの種類があります。  
  
-   **外部仮想スイッチ**-物理ネットワーク アダプターにバインドして、ワイヤード (有線) の物理ネットワークに接続します。  
  
-   **内部仮想スイッチ**-は、仮想スイッチのあるホスト上で、ホストと仮想マシンの間に実行する仮想マシンでのみ使用できるネットワークに接続します。  
  
-   **プライベート仮想スイッチ**-ホストと仮想マシン間のネットワークを提供しませんが、仮想スイッチをホストで実行されている仮想マシンでのみ使用できるネットワークに接続します。  
  
仮想ネットワーク アダプターの種類は次のとおりです。  
  
-   **HYPER-V で特定のネットワーク アダプター** - 第 1 世代と第 2 世代仮想マシンの両方の使用可能です。 HYPER-V 向けに設計されてし、HYPER-V 統合サービスに含まれているドライバーが必要です。 この種類のネットワーク アダプターの高速ネットワーク上で起動する必要がありますか、サポートされていないゲスト オペレーティング システムを実行している限り、推奨される選択肢と。 必要なドライバーは、サポートされているゲスト オペレーティング システムにのみ提供されます。 HYPER-V マネージャーおよびネットワークのコマンドレットでは、この型はだけと呼んでいるネットワーク アダプターに注意してください。  
  
-   **レガシ ネットワーク アダプター** - 第 1 世代仮想マシンでのみ使用できます。 Intel 21140 ベース PCI 高速イーサネット アダプターをエミュレートし、そのため、ネットワークから起動するために使用できます Windows 展開サービスなどのサービスから、オペレーティング システムをインストールすることができます。  
  
## <a name="hyper-v-networking-and-related-technologies"></a>HYPER-V ネットワークと関連テクノロジ  
最近の Windows Server リリースでは、HYPER-V のネットワークを構成するための他のオプションを提供するための機能強化が導入されました。 たとえば、Windows Server 2012 では、収束ネットワークにサポートが導入されました。 これにより 1 つの外部仮想スイッチを介してネットワーク トラフィックをルーティングします。 Windows Server 2016 では、HYPER-V 仮想スイッチにバインドされているネットワーク アダプターにリモート ダイレクト メモリ アクセス (RDMA) を許可できます。 使用またはことがなくスイッチ埋め込みチーミング (SET) は、この構成を使用できます。 詳細については、次を参照してください[リモート ダイレクト メモリ アクセス&#40;RDMA&#41;とスイッチ埋め込みチーミング&#40;設定。&#41;](../../hyper-v-virtual-switch/RDMA-and-Switch-Embedded-Teaming.md)  
  
一部の機能は、特定のネットワーク構成に依存または特定の構成でうまきます。 計画または、ネットワーク インフラストラクチャを更新するときは、これらを検討します。  
  
**フェールオーバー クラスタ リング**-仮想スイッチではクラスター トラフィックを分離し、HYPER-V のサービス品質 (QoS) を使用することをお勧めします。 詳細については、次を参照してください[Hyper-v クラスターのネットワークに関する推奨事項。](https://technet.microsoft.com/library/dn550728.aspx)  
  
**ライブ マイグレーション**-ネットワークと CPU 使用率とライブ移行を完了にかかる時間を削減するパフォーマンス オプションを使用します。 手順については、次を参照してください。[フェールオーバー クラスタ リングのないライブ マイグレーションのホスト設定](../deploy/set-up-hosts-for-live-migration-without-failover-clustering.md)します。  
  
**記憶域スペース ダイレクト**-SMB3.0 ネットワーク プロトコルと RDMA でこの機能に依存しています。 詳細については、次を参照してください。 [Storage Spaces Direct in Windows Server 2016](../../../storage/storage-spaces/storage-spaces-direct-overview.md)します。