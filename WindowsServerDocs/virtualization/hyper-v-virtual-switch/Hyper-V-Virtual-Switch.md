---
title: Hyper-V 仮想スイッチ
description: このトピックでは、Windows Server 2016 で HYPER-V 仮想スイッチの概要を示します。
manager: brianlic
ms.prod: windows-server-threshold
ms.technology: networking-hv-switch
ms.topic: article
ms.assetid: 398440ac-5988-41ce-b91e-eab343a255d3
ms.author: pashort
author: shortpatti
ms.openlocfilehash: 17962b9bbb90a5ea1b6a4a303c64d72f74be37b5
ms.sourcegitcommit: 0d0b32c8986ba7db9536e0b8648d4ddf9b03e452
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/17/2019
ms.locfileid: "59860923"
---
# <a name="hyper-v-virtual-switch"></a>Hyper-V 仮想スイッチ

>適用先:Windows Server 2016 の Windows Server (半期チャネル)

このトピックでは、仮想マシンを接続する機能を提供する HYPER-V 仮想スイッチの概要を示します\(Vm\) 、ハイパースレッディングを外部ネットワークに\-組織のイントラネットを含む、V ホストインターネットです。 

ハイパースレッディングを実行しているサーバー上の仮想ネットワークに接続することもできます。\-ソフトウェアによるネットワーク制御を展開するときに、V \(SDN\)します。

> [!NOTE]  
> このトピックに加え、次の HYPER-V 仮想スイッチのドキュメントは使用できます。  
>   
> - [HYPER-V 仮想スイッチを管理します。](Manage-Hyper-V-Virtual-Switch.md) 
> - [リモート ダイレクト メモリ アクセス (RDMA) とスイッチ埋め込みチーミング (SET)](RDMA-and-Switch-Embedded-Teaming.md)
> - [Windows PowerShell のネットワーク スイッチ チーム コマンドレット](https://technet.microsoft.com/library/jj553812.aspx)
> - [VMM 2016 の新機能新機能](https://docs.microsoft.com/system-center/vmm/whats-new#networking)
> - [VMM ネットワーク ファブリックをセットアップします。](https://docs.microsoft.com/system-center/vmm/manage-networks)
> - [VMM 2012 でのネットワークを作成します。](https://social.technet.microsoft.com/wiki/contents/articles/3140.create-networks-with-vmm-2012.aspx)  
> - [Hyper-V:Vlan と VLAN タグ付けを構成します。](https://social.technet.microsoft.com/wiki/contents/articles/1306.hyper-v-configure-vlans-and-vlan-tagging.aspx)  
> - [Hyper-V:サード パーティ製の拡張機能によって必要な場合、WFP 仮想スイッチ拡張機能を有効にします。](https://social.technet.microsoft.com/wiki/contents/articles/13071.hyper-v-the-wfp-virtual-switch-extension-should-be-enabled-if-it-is-required-by-third-party-extensions.aspx)
>
> その他のネットワーク テクノロジの詳細については、次を参照してください。 [Windows Server 2016 でのネットワー キング](https://docs.microsoft.com/windows-server/networking/networking)します。
  
ハイパー\-、ソフトウェア ベースのレイヤー 2 イーサネット ネットワーク スイッチが使用可能なは、仮想スイッチの V ハイパースレッディングで\-ハイパースレッディングをインストールするときに、V マネージャー\-サーバーの役割をインストールします。

HYPER-V 仮想スイッチには、仮想ネットワークと物理ネットワークの両方に Vm を接続するためのプログラムで管理し、拡張機能が含まれています。 また、Hyper-V 仮想スイッチでは、セキュリティ、分離、およびサービスのレベルでポリシーを適用できます。  
  
> [!NOTE]  
> Hyper-V 仮想スイッチは、イーサネットのみをサポートしており、その他のワイヤード (有線) ローカル エリア ネットワーク (LAN) テクノロジ (Infiniband やファイバー チャネルなど) はサポートしていません。  
  
HYPER-V 仮想スイッチは、テナントの分離機能、トラフィックのシェイプ、悪意のある仮想マシンを保護し、簡素化されたトラブルシューティングします。 

Network Device Interface Specification の組み込みサポートを備えた\(NDIS\)フィルター ドライバーおよび Windows フィルタ リング プラットフォーム\(WFP\)コールアウト ドライバーの場合は、HYPER-V 仮想スイッチにより、独立系ソフトウェアベンダー \(Isv\)に拡張可能なプラグインを作成、仮想スイッチ拡張機能、ネットワークおよびセキュリティの強化機能を提供できると呼ばれます。 Hyper-V 仮想スイッチに追加した仮想スイッチ拡張機能は、Hyper-V マネージャーの仮想スイッチ マネージャー機能で表示されます。
  
次の図に、VM はスイッチ ポートを介して、HYPER-V 仮想スイッチに接続されている仮想 NIC があります。  
  
![仮想スイッチ接続](../media/Hyper-V-Virtual-Switch/Vswitch_01.jpg)  
  
HYPER-V 仮想スイッチの機能をテナントの分離、シェイプと制御のネットワーク トラフィックを強制するための他のオプションを提供します。 し、悪意のある Vm 対策の保護を導入します。

>[!NOTE]
> Windows Server 2016 での仮想 NIC を使用して VM を正確にスループットが表示されます最大仮想 nic 仮想 NIC の速度を表示する**ネットワーク接続**目的の仮想 NIC のアイコンを右クリックし、クリックして**状態**します。 仮想 NIC**状態** ダイアログ ボックスが表示されます。 **接続**の値**速度**サーバーにインストールされている物理 NIC の速度に一致します。
  
## <a name="bkmk_apps"></a>HYPER-V 仮想スイッチの使用方法

HYPER-V 仮想スイッチの一部のユース ケース シナリオを次に示します。

**統計情報の表示**:ホスト型クラウドのベンダーの開発者が、Hyper-V 仮想スイッチの現在の状態を表示する管理パッケージを実装するとします。 この管理パッケージでは、WMI を使って、スイッチ全体の現在の機能、構成設定、および個々のポートのネットワーク統計情報を照会できます。 それにより、スイッチのステータスが表示され、管理者はスイッチの状態をすばやく把握できます。  
  
**リソース追跡**:メンバーシップのレベルに応じた価格でホスティング サービスを販売しているホスティング企業があります。 各種のメンバーシップ レベルでは、ネットワーク パフォーマンスのレベルがさまざまに異なります。 管理者は、ネットワークの可用性のバランスを取りながら SLA を満足できるように、リソースを割り当てます。 プログラムで、管理者は、割り当てられた、帯域幅の現在の使用量などの情報と、仮想マシン キュー (VMQ) または IOV チャンネルを割り当てられている仮想マシン (VM) の数を追跡します。 また、同じプログラムで、割り当てられた VM ごとのリソースに加えて、使用中のリソースを定期的に記録することで、二重エントリによるリソース追跡を行います。  
  
**スイッチ拡張機能の順序の管理**:ある企業では、トラフィックの監視と侵入検出の報告の両方の目的で、Hyper-V ホストに拡張機能をインストールしています。 メンテナンス中に、いくつかの拡張機能が更新されることで、拡張機能の順序が変更される場合があります。 単純なスクリプト プログラムの実行により、更新後に拡張機能の順序を再設定します。  
  
**転送拡張機能による VLAN ID の管理**:ある大手スイッチ企業で、ネットワークに関するすべてのポリシーを適用する転送拡張機能を構築しています。 管理される要素の 1 つに、仮想ローカル エリア ネットワーク (VLAN) ID があります。 仮想スイッチは、VLAN の制御を転送拡張機能に渡します。 このスイッチ企業のインストール、Windows Management Instrumentation (WMI) アプリケーション プログラミング インターフェイス (API) で、透過性をオンをプログラムで呼び出すことを渡すし、VLAN タグに対して何も実行する HYPER-V 仮想スイッチが。  
  
## <a name="bkmk_func"></a>HYPER-V 仮想スイッチ機能
 
Hyper-V 仮想スイッチに備えられているいくつかの主要な機能について説明します。  
  
-   **ARP/ND ポイズニング (スプーフィング) 保護**:アドレス解決プロトコル (ARP) スプーフィングを使って他の VM から IP アドレスを盗み出そうとする悪意のある VM から、システムを保護します。 近隣探索 (ND) スプーフィングを使って IPv6 で行われる可能性のある攻撃に対しても保護を提供します。  
  
-   **DHCP ガードによる保護**:動的ホスト構成プロトコル (DHCP) サーバーを装って man-in-the-middle 攻撃を行う悪意のある VM からシステムを保護します。  
  
-   **ポート Acl**:メディア アクセス コントロール (MAC) またはインターネット プロトコル (IP) のアドレス/範囲に基づくトラフィックのフィルター処理により、仮想ネットワークの分離を設定できます。  
  
-   **VM へのトランク モード**:管理者が特定の VM を仮想アプライアンスとして設定し、各種の VLAN からその VM へとトラフィックを転送できます。  
  
-   **ネットワーク トラフィックの監視**:ネットワーク スイッチを通過するトラフィックを管理者が確認できます。  
  
-   **分離された (プライベート) VLAN**:管理者が複数の VLAN 上のトラフィックを分離することで、分離されたテナント コミュニティをより簡単に確立できます。  
  
Hyper-V 仮想スイッチの操作性を向上させる機能の一覧を次に示します。  
  
-   **帯域幅の制限とバーストのサポート**:最小帯域幅によって、確保される帯域幅の大きさが保証されます。 最大帯域幅によって、VM が使用できる帯域幅の大きさが制限されます。  
  
-   **明示的輻輳通知 (ECN) マーキングのサポート**:ECN マーキングとも呼ばれます DCTCP (Data CenterTCP)、により、物理スイッチおよびオペレーティング システム、スイッチのバッファー リソースがないようにトラフィック フローを制御するため、増加したトラフィックのスループット。  
  
-   **診断**:診断機能により、仮想スイッチを通過するイベントやパケットを簡単に追跡、監視できます。
