---
ms.assetid: ba28bd05-16e6-465f-982b-df49633cfde4
title: "攻撃からドメイン コントローラーをセキュリティで保護します。"
description: 
author: billmath
ms.author: billmath
manager: femila
ms.date: 05/31/2017
ms.topic: article
ms.prod: windows-server-threshold
ms.technology: identity-adds
ms.openlocfilehash: fc40d0ac536b128b799006214e360fa4d991ee44
ms.sourcegitcommit: 06a84f5caeab49b8480d6eed037aebbb59c77a9f
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 02/14/2018
---
# <a name="securing-domain-controllers-against-attack"></a>攻撃からドメイン コントローラーをセキュリティで保護します。

>適用対象: Windows Server 2016、Windows Server 2012 R2、Windows Server 2012

*法律 3 つの番号: 場合は、悪意のある人物が無制限に物理アクセスをコンピューターに、そのコンピューターではない、できなくなります。* - [Ten Immutable Laws of Security (Version 2.0)](https://technet.microsoft.com/security/hh278941.aspx)  
  
ドメイン コントローラーは、サービスと企業は、サーバー、ワークステーション、ユーザー、およびアプリケーションを効果的に管理できるようにデータを提供するだけでなく、AD DS データベースの物理的な記憶域を提供します。 悪意のあるユーザーによってドメイン コントローラーへのアクセス権限を取得した場合は、そのユーザーできます変更を破損、または破壊 AD DS データベースさらに、拡張して、すべてのシステムおよび Active Directory によって管理されているアカウント。  
  
ドメイン コントローラーから読み書きできる AD DS データベース内のすべてをドメイン コントローラーのセキュリティ侵害のためこと、Active Directory フォレストできるとは見なされない信頼できるもう一度正常なバックアップを使用して回復する場合を除き、およびプロセスのセキュリティ侵害を許可されている実際の格差を閉じます。  
  
によっては、攻撃者の準備、ツール、および、スキルの変更、または AD DS にも回復不可能な破損データベースを日数または週数ではない、時間を分単位で完了できます。 問題がない時間、攻撃者が Active Directory にアクセスする権限が、特権にアクセスしたとき、当面の間、攻撃者がどの程度計画が取得されます。 ドメイン コントローラーを損なうことと、アクセス、ワイド スケール伝達へのパスを最も効率的なまたはメンバー サーバー、ワークステーション、および Active Directory の破棄をさまざまな場所を提供できます。 このためとは別に、一般的な Windows インフラストラクチャより厳重に、ドメイン コントローラーを保護する必要があります。  

  
## <a name="physical-security-for-domain-controllers"></a>ドメイン コントローラーの物理的なセキュリティ  
このセクションでは、ドメイン コントローラー、ドメイン コントローラーが物理かどうか、またはデータ センターの場所、ブランチ オフィス、およびインフラストラクチャの基本的なコントロールだけでもリモートの場所でのバーチャル マシンの物理的にセキュリティ保護に関する情報を提供します。  
  
### <a name="datacenter-domain-controllers"></a>データ センターのドメイン コントローラー  
  
#### <a name="physical-domain-controllers"></a>物理ドメイン コントローラー  
データ センター、物理ドメイン コントローラーを専用のセキュリティで保護されたラックまたはケージ一般的なサーバーの作成とは別にインストールしてください。 可能であれば、トラステッド プラットフォーム モジュール (TPM) チップを搭載したドメイン コントローラーを構成する必要があり、ドメイン コントローラー サーバーのすべてのボリュームは、BitLocker ドライブ暗号化によって保護する必要があります。 一般に、BitLocker はパフォーマンスを 1 桁のパーセンテージでオーバーヘッドしますが、漏えいディレクトリを保護する場合でも、ディスクは、サーバーから削除されます。 BitLocker では、ブート ファイルの変更と、元のバイナリを読み込むことができるように、回復モードに起動するサーバーがあるために、ルートキットなどの攻撃からシステムを保護することができます。 ソフトウェアの RAID、serial attached SCSI、SAN/NAS の記憶域を使用するドメイン コントローラーが構成されている場合は、ダイナミック ボリュームの BitLocker を実装することはできません、可能な限りのドメイン コントローラー (またはなしハードウェア RAID) ローカルに接続されている記憶域を使用してください。  
  
#### <a name="virtual-domain-controllers"></a>仮想ドメイン コントローラー  
仮想ドメイン コントローラーを実装する場合は、環境内の他のバーチャル マシンよりも別々 の物理ホストでのドメイン コントローラーを実行することを確認する必要があります。 サード パーティ製の仮想化プラットフォームを使用する場合でも Windows Server 2012 または最低限の攻撃は、Windows Server 2008 R2 で Hyper-V サーバー上の仮想ドメイン コントローラーの導入を検討し、残りの仮想化ホストで管理されているのではなくホストしているドメイン コントローラーで管理できます。 仮想化インフラストラクチャの管理に System Center Virtual Machine Manager (SCVMM) を実装する場合は、どのドメイン コントローラーの仮想マシンが存在して、ドメイン コントローラー自体を承認された管理者に物理ホストの管理を委任できます。 記憶域管理者が仮想マシンのファイルにアクセスするを防ぐため、仮想ドメイン コントローラーの記憶域を分離することも考慮する必要があります。  
  
### <a name="branch-locations"></a>ブランチの場所  
  
#### <a name="physical-domain-controllers"></a>物理ドメイン コントローラー  
複数のサーバーが存在するが物理的に保護されたデータ センター サーバー度合いをセキュリティ保護されていない場所、サーバーのすべてのボリュームの物理ドメイン コントローラーを TPM チップと BitLocker ドライブ暗号化で構成する必要があります。 ドメイン コントローラーは、ブランチの場所でロックされている室に保管されていることはできない場合、は、これらの場所で Rodc の展開を検討してください。  
  
#### <a name="virtual-domain-controllers"></a>仮想ドメイン コントローラー  
可能な限り、ブランチ オフィスで、サイト内の他のバーチャル マシンよりも別々 の物理ホスト上の仮想ドメイン コントローラーを実行してください。 仮想ドメイン コントローラーできない仮想サーバー人口の残りの部分から別の物理ホストで実行するブランチ オフィスで、少なくとも、仮想ドメイン コントローラーを実行するホストおよびすべてのホスト可能な場合に TPM チップと BitLocker ドライブ暗号化を実装する必要があります。 ブランチ オフィスのサイズとに応じて、物理ホストのセキュリティ、ブランチ オフィスで Rodc の展開を検討してください。  
  
### <a name="remote-locations-with-limited-space-and-security"></a>スペースが限られて、セキュリティとリモートの場所  
インフラストラクチャには、1 台の物理サーバーのみをインストールできますの場所が含まれている場合、仮想化ワークロードを実行できるサーバーをリモートの場所にインストールする必要があり、BitLocker ドライブ暗号化は、サーバーのすべてのボリュームを保護するように構成する必要があります。 サーバー上の 1 つの仮想マシンは、ホスト上の別の仮想マシンとして実行されている他のサーバーと RODC を実行する必要があります。 提供されている RODC の展開の計画については、[読み取り専用ドメイン コントローラー Planning and Deployment Guide](https://go.microsoft.com/fwlink/?LinkID=135993)します。 展開して、仮想化ドメイン コントローラーのセキュリティ保護に関する詳細については、次を参照してください。[Hyper-v でのドメイン コントローラーの実行](https://technet.microsoft.com/library/dd363553(v=ws.10).aspx)TechNet Web サイト。 Hyper-V のセキュリティ強化のためのガイダンスの詳細について、仮想マシンの管理を委任して、仮想マシンの保護を参照してください、[Hyper-V セキュリティ ガイド](https://www.microsoft.com/download/details.aspx?id=16650)Solution Accelerator、Microsoft Web サイト。  
  
## <a name="domain-controller-operating-systems"></a>ドメイン コントローラーのオペレーティング システム  
ドメイン コントローラー作成の従来のオペレーティング システムの使用停止優先順位を付けるし、組織内ではサポートされている Windows Server の最新バージョンでは、すべてのドメイン コントローラーを実行する必要があります。 ことにより、ドメイン コントローラーの現在および排除することの従来のドメイン コントローラー、する多くの場合を利用の新機能とできない可能性があります利用可能なドメインまたはフォレストで従来のオペレーティング システムを実行しているドメイン コントローラーとセキュリティできます。 ドメイン コントローラーなくするように新しくインストールと昇格以前のオペレーティング システムまたはサーバーの役割からアップグレードつまり、しないでくださいしないドメイン コントローラーのインプレース アップグレードを実行またはオペレーティング システムがない新規インストールされているサーバーで、AD DS インストール ウィザードを実行します。 新たにインストールされているドメイン コントローラーを実装すると、従来のファイルと設定しない不注意に残っている、ドメイン コントローラーと、一貫性のある、セキュリティで保護されたドメイン コントローラー構成の適用を簡略化することを確認します。  
  
## <a name="secure-configuration-of-domain-controllers"></a>ドメイン コントローラーの安全な構成  
Gpo によって後で適用できるドメイン コントローラの最初のセキュリティ構成基準を作成、さまざまなものが、Windows によって既定でインストールされている、自由に使用可能なツールを使用できます。 ここでは、これらのツールを説明します。  
  
### <a name="security-configuration-wizard"></a>セキュリティの構成ウィザード  

すべてのドメイン コントローラーは、最初のビルド時にロック ダウンをできる必要があります。 「基本ビルド」ドメイン コントローラーで、サービス、レジストリ、システム、および WFAS 設定を構成する Windows Server でネイティブに同梱されているセキュリティ構成ウィザードを使用して実現できます。 設定を保存され、ドメイン コントローラーの一貫した構成を適用するフォレスト内の各ドメイン内のドメイン コントローラーの OU にリンクすることを GPO にエクスポートできます。 ドメインに複数のバージョンの Windows オペレーティング システムが含まれている場合は、対応するバージョンのオペレーティング システムを実行しているドメイン コントローラーだけに Gpo を適用する Windows Management Instrumentation (WMI) フィルターを構成できます。  
  
### <a name="microsoft-security-compliance-manager"></a>Microsoft Security Compliance Manager  
[Microsoft Security Compliance Manager](https://technet.microsoft.com/library/cc677002.aspx)セキュリティ構成ウィザードの設定が展開されているおよび Active Directory にドメイン コントローラー OU で展開されている Gpo が適用されているドメイン コントローラーの包括的な構成基準を作成すると、ドメイン コントローラーの設定を組み合わせることができます。  
  
### <a name="applocker"></a>AppLocker  
サービスと、ドメイン コントローラー上で実行が許可されているアプリケーションを構成するのには、AppLocker またはサードパーティ製のアプリケーションのホワイト リスト ツールを使用する必要があり、許可されているアプリケーションやサービスをコンピューターのホスト AD DS と DNS、およびウイルス対策ソフトウェアなどのシステム セキュリティ ソフトウェア可能性があるのために必要なだけの構成する必要があります。 ドメイン コントローラー上でアプリケーションを許可されているホワイト リスト、によっては、アプリケーションを実行できない場合でも、ドメイン コントローラーで、承認されていないアプリケーションがインストールされている、ようにセキュリティの追加のレイヤーが追加されます。  
  
### <a name="rdp-restrictions"></a>RDP の制限  
すべてのドメイン コントローラーがフォレスト内の Ou にリンクしているグループ ポリシー オブジェクトは、承認されたユーザーとシステム (たとえば、ジャンプ サーバー) からのみ RDP 接続を許可するように構成する必要があります。 これにより、ユーザー権利の設定と WFAS 構成の組み合わせを通じたあり、ポリシーを一貫して適用できるように、Gpo に実装する必要があります。 、バイパス、[次へ] のグループ ポリシーの更新は、適切な構成を、システムを返します。  
  
### <a name="patch-and-configuration-management-for-domain-controllers"></a>修正プログラムおよびドメイン コントローラーの構成の管理  
反するかもしれませんが、ドメイン コントローラーとその他の重要なインフラストラクチャ コンポーネントとは別に、全般的な Windows インフラストラクチャから修正プログラムの適用考慮する必要があります。 インフラストラクチャ内のすべてのコンピューターのエンタープライズ構成管理ソフトウェアを活用する場合は、侵害または破壊そのソフトウェアによって管理されるすべてのインフラストラクチャ コンポーネントをシステム管理ソフトウェアのセキュリティ侵害を使用できます。 母集団からドメイン コントローラーの更新プログラムとシステムの管理を分離すること、その管理を厳密に制御だけでなく、ドメイン コントローラーにインストールされているソフトウェアの量を減らすことができます。  
  
### <a name="blocking-internet-access-for-domain-controllers"></a>ドメイン コントローラーのインターネット アクセスのブロック  

Active Directory セキュリティの評価の一部として実行されるチェックの 1 つは、ドメイン コントローラー上で Internet Explorer の構成と使用です。 ドメイン コントローラー、Internet Explorer (またはその他の任意の Web ブラウザー) を使用する必要がありますされませんが、何千ものドメイン コントローラーの分析の特権を持つユーザーが組織のイントラネットまたはインターネットを参照する Internet Explorer を使用するさまざまなケースがわかりました。  
  
「構成が正しくない」セクションで説明したよう[セキュリティ侵害に至る過程](../../../ad-ds/plan/security-best-practices/Avenues-to-Compromise.md)、組織のセキュリティに対する特別のリスクを表示、最も強力なコンピューター。高い権限を持つアカウントを使用して Windows インフラストラクチャで (これは既定でローカルにログオンするドメイン コントローラーに許可されている唯一のアカウント) のいずれかからインターネット (またはウイルスに感染したイントラネット) を参照します。 ダウンロードすることによって、またはマルウェアに感染した「ユーティリティ」のダウンロードすることによって、ドライブ経由で攻撃者は、完全に侵害または Active Directory 環境を破棄する必要があるすべての情報にアクセスできます。  
  
Windows Server 2012、Windows Server 2008 R2、Windows Server 2008、および現在のバージョンの Internet Explorer、悪意のあるダウンロードに対する保護の数が、ほとんどの場合は、ドメイン コントローラーと権限を持つアカウント使用されていたインターネットを参照して、ドメイン コントローラーを実行している Windows Server 2003、またはそれ以降のオペレーティング システムとブラウザーによって提供される保護が意図的に無効にします。  
  
ドメイン コントローラー上の Web ブラウザーの起動を禁止するか、ポリシーが、だけでなく、技術的なコントロール、およびドメイン コントローラーをインターネットへのアクセスを許可しない必要があります。 ドメイン コントローラーは、サイト全体でレプリケートする必要があります、サイト間でセキュリティで保護された接続を実装する必要があります。 詳細な構成手順については、このドキュメントの範囲外ですが、さまざまな使い方を間違うまたは正しく構成されていない、侵害された後にドメイン コントローラーの機能の制限の制御を実装できます。  
  
### <a name="perimeter-firewall-restrictions"></a>境界のファイアウォールの制限  
境界のファイアウォールは、ドメイン コントローラーからインターネットへの送信接続をブロックするように構成する必要があります。 提供されるガイドラインに従って、サイト間の通信を許可するようにファイアウォールを境界を構成することができますが、ドメイン コントローラーは、サイトの境界内で通信する必要があります、[ドメインと信頼関係するためのファイアウォールを構成する方法](https://support.microsoft.com/kb/179442)Microsoft サポート Web サイトにします。  
  
### <a name="dc-firewall-configurations"></a>DC のファイアウォールの構成  

前述のように、セキュリティの構成ウィザードを使用して、ドメイン コントローラーのセキュリティが強化された Windows ファイアウォールの構成設定をキャプチャする必要があります。 ファイアウォールの構成設定は、組織の要件を満たすし、Gpo を使用して構成設定を適用することを確認するセキュリティの構成ウィザードの出力を確認する必要があります。  
  
### <a name="preventing-web-browsing-from-domain-controllers"></a>ドメイン コントローラーからの Web 参照を禁止します。  
AppLocker 構成、「ブラック_ホール」プロキシの構成、および WFAS 構成の組み合わせを使用してをドメイン コントローラーがインターネットにアクセスすることを防ぐために、ドメイン コントローラー上の Web ブラウザーの使用を禁止することができます。  
  


