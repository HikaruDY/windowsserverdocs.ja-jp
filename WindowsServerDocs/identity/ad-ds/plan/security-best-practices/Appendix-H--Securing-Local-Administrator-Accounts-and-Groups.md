---
ms.assetid: ea015cbc-dea9-4c72-a9d8-d6c826d07608
title: '付録 H: ローカル管理者アカウントとグループをセキュリティで保護します。'
description: ''
author: MicrosoftGuyJFlo
ms.author: joflore
manager: mtillman
ms.date: 05/31/2017
ms.topic: article
ms.prod: windows-server-threshold
ms.technology: identity-adds
ms.openlocfilehash: 71eea3f623968172076708dbea34d5bbf4a07684
ms.sourcegitcommit: 0d0b32c8986ba7db9536e0b8648d4ddf9b03e452
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/17/2019
ms.locfileid: "59858693"
---
# <a name="appendix-h-securing-local-administrator-accounts-and-groups"></a>付録 h:ローカル管理者アカウントとグループをセキュリティで保護します。

>適用先:Windows Server 2016 では、Windows Server 2012 R2、Windows Server 2012


## <a name="appendix-h-securing-local-administrator-accounts-and-groups"></a>付録 h:ローカル管理者アカウントとグループをセキュリティで保護します。  
メイン ストリーム サポートで現在の Windows のすべてのバージョンでは、ローカル管理者アカウントは、アカウントに pass the hash およびその他の資格情報盗難攻撃で使用できなくなります既定で無効になります。 ただし、古いオペレーティング システムが含まれているか、ローカルの管理者アカウントを有効にされている環境でこれらのアカウントできますをメンバー サーバーとワークステーションの間でセキュリティ侵害を伝達する前述のようです。 各ローカルの Administrator アカウントおよびグループのセキュリティで保護するステップ バイ ステップの手順を記載する必要があります。  

組み込み管理者 (BA) グループのセキュリティ保護に関する考慮事項の詳細については、次を参照してください。[最低限の特権の管理モデルを実装する](../../../ad-ds/plan/security-best-practices/Implementing-Least-Privilege-Administrative-Models.md)します。  

#### <a name="controls-for-local-administrator-accounts"></a>コントロールのローカル管理者アカウント  
各ドメイン、フォレスト内のローカル管理者アカウントを次の設定を構成する必要があります。  

-   ドメインに参加しているシステムで、ドメインの管理者アカウントの使用を制限する Gpo を構成します。  
    -   次のユーザー権利を管理者アカウントを追加作成し、ワークステーションとメンバ サーバーの各ドメイン内の Ou にリンクする 1 つまたは複数の gpo、**コンピューター \policies\windows 設定 \ セキュリティ \ Policies\ユーザー権利の割り当て**:  

        -   ネットワークからのこのコンピューターへのアクセスを拒否する  

        -   バッチ ジョブとしてのログオンを拒否  

        -   サービスとしてのログオンを拒否  

        -   リモート デスクトップ サービスを使ったログオンを拒否  

#### <a name="step-by-step-instructions-to-secure-local-administrators-groups"></a>ローカルの Administrators グループをセキュリティで保護するための手順  

###### <a name="configuring-gpos-to-restrict-administrator-account-on-domain-joined-systems"></a>ドメインに参加しているシステム上の管理者アカウントを制限する Gpo を構成します。  

1.  **サーバー マネージャー**、 をクリックして**ツール**、 をクリック**Group Policy Management**します。  

2.  コンソール ツリーで、展開<Forest>\Domains\\<Domain>、し**グループ ポリシー オブジェクト**(場所<Forest>フォレストの名前を指定および<Domain>先ドメインの名前を指定しますグループ ポリシーの設定)。  

3.  コンソール ツリーで、右クリック**グループ ポリシー オブジェクト**、 をクリック**新規**します。  

    ![セキュリティで保護されたローカル管理者アカウントとグループ](media/Appendix-H--Securing-Local-Administrator-Accounts-and-Groups/SAD_101.png)  

4.  **新しい GPO**ダイアログ ボックスに「 **<GPO Name>**、 をクリック**OK** (場所<GPO Name>この GPO の名前を指定します)。  

    ![セキュリティで保護されたローカル管理者アカウントとグループ](media/Appendix-H--Securing-Local-Administrator-Accounts-and-Groups/SAD_102.png)  

5.  詳細ペインで右クリックして**<GPO Name>**、 をクリック**編集**します。  

6.  移動します**コンピューター \policies\windows \security settings \local Policies**、 をクリック**ユーザー権利の割り当て**します。  

    ![セキュリティで保護されたローカル管理者アカウントとグループ](media/Appendix-H--Securing-Local-Administrator-Accounts-and-Groups/SAD_103.png)  

7.  ローカル管理者アカウントが次の手順に従って、ネットワーク経由でメンバー サーバーとワークステーションにアクセスすることを防ぐためにユーザー権限を構成します。  

    1.  ダブルクリック**ネットワークからこのコンピューターへのアクセスを拒否**選択と**これらのポリシー設定を定義**。  

    2.  をクリックして**追加のユーザーまたはグループ**、ローカルの管理者アカウントのユーザー名を入力し、クリックして**OK**します。 このユーザー名になります**管理者**Windows がインストールされている場合の既定値。  

        ![セキュリティで保護されたローカル管理者アカウントとグループ](media/Appendix-H--Securing-Local-Administrator-Accounts-and-Groups/SAD_104.png)  

    3.  [OK] をクリックします。  

        > [!IMPORTANT]  
        > これらの設定を管理者アカウントを追加するかどうかして構成している、ローカルの管理者アカウントまたはドメイン管理者アカウントのアカウント ラベル付けする方法を指定します。 たとえば、これらを含まドメインの管理者アカウント権限を拒否する、含まのドメインの管理者アカウントを参照を追加するには、TAILSPINTOYS\Administrator として表示されるとします。 入力した場合**管理者**これらユーザー権限の設定で、グループ ポリシー オブジェクト エディターで、前述のとおり、GPO を適用する、各コンピューターのローカルの管理者アカウントを制限します。  

8.  ローカル管理者アカウントが、次の手順を実行してバッチ ジョブとしてログオンするを防ぐためにユーザー権限を構成します。  

    1.  ダブルクリック**バッチ ジョブとしてログオンを拒否**選択と**これらのポリシー設定を定義**。  

    2.  をクリックして**追加のユーザーまたはグループ**、ローカルの管理者アカウントのユーザー名を入力し、クリックして**OK**します。 このユーザー名になります**管理者**Windows がインストールされている場合の既定値。  

        ![セキュリティで保護されたローカル管理者アカウントとグループ](media/Appendix-H--Securing-Local-Administrator-Accounts-and-Groups/SAD_105.png)  

    3.  **[OK]** をクリックします。  

        > [!IMPORTANT]  
        > これらの設定を管理者アカウントを追加するかどうかして構成しているローカルの Administrator アカウントまたはドメイン管理者アカウントのアカウント ラベル付けする方法を指定します。 たとえば、これらを含まドメインの管理者アカウント権限を拒否する、含まのドメインの管理者アカウントを参照を追加するには、TAILSPINTOYS\Administrator として表示されるとします。 入力した場合**管理者**これらユーザー権限の設定で、グループ ポリシー オブジェクト エディターで、前述のとおり、GPO を適用する、各コンピューターのローカルの管理者アカウントを制限します。  

9. ローカル管理者アカウントが次の手順に従って、サービスとしてログオンするを防ぐためにユーザー権限を構成します。  

    1.  ダブルクリック**サービスとしてログオンを拒否**選択と**これらのポリシー設定を定義**します。  

    2.  をクリックして**追加のユーザーまたはグループ**、ローカルの管理者アカウントのユーザー名を入力し、クリックして**OK**します。 このユーザー名になります**管理者**Windows がインストールされている場合の既定値。  

        ![セキュリティで保護されたローカル管理者アカウントとグループ](media/Appendix-H--Securing-Local-Administrator-Accounts-and-Groups/SAD_106.png)  

    3.  **[OK]** をクリックします。  

        > [!IMPORTANT]  
        > これらの設定を管理者アカウントを追加するかどうかして構成しているローカルの Administrator アカウントまたはドメイン管理者アカウントのアカウント ラベル付けする方法を指定します。 たとえば、これらを含まドメインの管理者アカウント権限を拒否する、含まのドメインの管理者アカウントを参照を追加するには、TAILSPINTOYS\Administrator として表示されるとします。 入力した場合**管理者**これらユーザー権限の設定で、グループ ポリシー オブジェクト エディターで、前述のとおり、GPO を適用する、各コンピューターのローカルの管理者アカウントを制限します。  

10. ローカル管理者アカウントが、次の手順でメンバー サーバーとリモート デスクトップ サービスを使用してワークステーションにアクセスすることを防ぐためにユーザー権限を構成します。  

    1.  ダブルクリック**リモート デスクトップ サービスを使ったログオンを拒否する**選択**これらのポリシー設定を定義**。  

    2.  をクリックして**追加のユーザーまたはグループ**、ローカルの管理者アカウントのユーザー名を入力し、クリックして**OK**します。 このユーザー名になります**管理者**Windows がインストールされている場合の既定値。  

        ![セキュリティで保護されたローカル管理者アカウントとグループ](media/Appendix-H--Securing-Local-Administrator-Accounts-and-Groups/SAD_107.png)  

    3.  **[OK]** をクリックします。  

        > [!IMPORTANT]  
        > これらの設定を管理者アカウントを追加するかどうかして構成しているローカルの Administrator アカウントまたはドメイン管理者アカウントのアカウント ラベル付けする方法を指定します。 たとえば、これらを含まドメインの管理者アカウント権限を拒否する、含まのドメインの管理者アカウントを参照を追加するには、TAILSPINTOYS\Administrator として表示されるとします。 入力した場合**管理者**これらユーザー権限の設定で、グループ ポリシー オブジェクト エディターで、前述のとおり、GPO を適用する、各コンピューターのローカルの管理者アカウントを制限します。  

11. 終了する**グループ ポリシー管理エディター**、 をクリックして**ファイル**、 をクリック**終了**します。  

12. **Group Policy Management**次の手順に従って、メンバー サーバーとワークステーションの Ou に GPO をリンクします。  

    1.  移動します、 <Forest>\Domains\\ <Domain> (場所<Forest>フォレストの名前を指定し、<Domain>グループ ポリシーを設定するドメインの名前を指定)。  

    2.  GPO に適用され、をクリックする OU を右クリックして**既存の GPO をリンク**します。  

        ![セキュリティで保護されたローカル管理者アカウントとグループ](media/Appendix-H--Securing-Local-Administrator-Accounts-and-Groups/SAD_108.png)  

    3.  作成した GPO を選択し、クリックして**OK**します。  

        ![セキュリティで保護されたローカル管理者アカウントとグループ](media/Appendix-H--Securing-Local-Administrator-Accounts-and-Groups/SAD_109.png)  

    4.  ワークステーションが含まれているその他のすべての Ou へのリンクを作成します。  

    5.  メンバー サーバーを含むその他のすべての Ou へのリンクを作成します。  

#### <a name="verification-steps"></a>検証手順  

##### <a name="verify-deny-access-to-this-computer-from-the-network-gpo-settings"></a>アクセスを拒否をこのコンピューターにネットワークから"GPO の設定を確認します。  

メンバー サーバーまたはワークステーション (ジャンプ サーバー) など、GPO の変更の影響を受けませんからには、メンバー サーバーまたはワークステーションを GPO の変更によって影響を受けるネットワーク経由でアクセスしてみます。 GPO の設定を確認するにマップしようとする、システム ドライブを使用して、 **NET USE**コマンド。  

1.  任意のメンバー サーバーまたは GPO の変更の影響を受けませんワークステーションにローカルでログオンします。  

2.  マウスで画面の右または右上隅にポインターを移動します。 ときに、**チャーム**バーが表示されたら、をクリックして**検索**します。  

3.  **検索**ボックスに「**コマンド プロンプト**、右クリックして**コマンド プロンプト**順にクリックします**管理者として実行**を管理者特権でを開くコマンド プロンプト。  

4.  昇格を承認するメッセージが表示されたら、クリックして**はい**します。  

    ![セキュリティで保護されたローカル管理者アカウントとグループ](media/Appendix-H--Securing-Local-Administrator-Accounts-and-Groups/SAD_110.png)  

5.  **コマンド プロンプト**ウィンドウで、「 **net \\ \\ <Server Name>\c$/user:<Server Name>\Administrator**ここで、<Server Name>メンバー名前を指定しますサーバーまたはネットワーク経由でアクセスしようとしているワークステーション。  

    > [!NOTE]  
    > ネットワーク経由でアクセスしようとしている同じシステムからローカルの管理者の資格情報があります。  

6.  次のスクリーン ショットには、表示されるエラー メッセージが表示されます。  

    ![セキュリティで保護されたローカル管理者アカウントとグループ](media/Appendix-H--Securing-Local-Administrator-Accounts-and-Groups/SAD_111.png)  

##### <a name="verify-deny-log-on-as-a-batch-job-gpo-settings"></a>「バッチ ジョブとしてのログオンを拒否」GPO の設定を確認します。  
任意のメンバー サーバーまたは GPO の変更によって影響を受けるワークステーションからローカルでログオンします。  

###### <a name="create-a-batch-file"></a>バッチ ファイルを作成します。  

1.  マウスで画面の右または右上隅にポインターを移動します。 ときに、**チャーム**バーが表示されたら、をクリックして**検索**します。  

2.  **検索**ボックスに「**メモ帳** をクリック**メモ帳**します。  

3.  **メモ帳**、型**dir c:** します。  

4.  クリックして**ファイル**、 をクリック**名前を付けて保存**します。  

5.  **ファイル名**ボックスに「  **<Filename>.bat** (場所<Filename>新しいバッチ ファイルの名前です).  

###### <a name="schedule-a-task"></a>タスクをスケジュールします。  

1.  マウスで画面の右または右上隅にポインターを移動します。 ときに、**チャーム**バーが表示されたら、をクリックして**検索**します。  

2.  **検索**ボックスで、タスク スケジューラを入力し、をクリックして**タスク スケジューラ**します。  

    > [!NOTE]  
    > 実行しているコンピューター、Windows 8 で、**検索**ボックスに「**タスクのスケジュール**、 をクリック**タスクのスケジュール**します。  

3.  クリックして**アクション**、 をクリック**タスクの作成**です。  

4.  **タスクの作成**ダイアログ ボックスに「 **<Task Name>** (場所<Task Name>新しいタスク名前を指定します).  

5.  をクリックして、**アクション**タブをクリックし、をクリックして**新規**します。  

6.  **アクション**フィールドに、をクリックして**プログラムを起動する**します。  

7.  **プログラム/スクリプト**フィールドに、をクリックして**参照**を検索して選択で作成したバッチ ファイル、**バッチ ファイルを作成**セクションをクリックします**を開く**.  

8.  **[OK]** をクリックします。  

9. **[全般]** タブをクリックします。  

10. **セキュリティ オプション**フィールドに、をクリックして**変更ユーザーまたはグループ**します。  

11. システムのローカル管理者アカウントの名前を入力**名前の確認**、 をクリック**OK**します。  

12. 選択 **、ユーザーがログオンしているかどうかにかかわらず実行**と**パスワードを保存しない**します。 タスクは、ローカル コンピューターのリソースへのアクセスを必要のみがあります。  

13. **[OK]** をクリックします。  

14. タスクを実行する資格情報要求のユーザー アカウント ダイアログ ボックスが表示されます。  

15. 資格情報を入力すると、次のようにクリックします。 **OK**します。  

16. 次のようなダイアログ ボックスが表示されます。  

    ![セキュリティで保護されたローカル管理者アカウントとグループ](media/Appendix-H--Securing-Local-Administrator-Accounts-and-Groups/SAD_112.png)  

###### <a name="verify-deny-log-on-as-a-service-gpo-settings"></a>「サービスとしてのログオンを拒否」GPO の設定を確認します。  

1.  任意のメンバー サーバーまたは GPO の変更によって影響を受けるワークステーションからローカルでログオンします。  

2.  マウスで画面の右または右上隅にポインターを移動します。 ときに、**チャーム**バーが表示されたら、をクリックして**検索**します。  

3.  **検索**ボックスに「**サービス**、 をクリック**サービス**します。  

4.  見つけてダブルクリック**印刷スプーラー**します。  

5.  **[ログオン]** タブをクリックします。  

6.  **としてログオン**フィールドに、をクリックして**このアカウント**します。  

7.  をクリックして**参照**型システムのローカル管理者アカウントをクリックし、**名前の確認**、 をクリック**OK**します。  

8.  **パスワード**と**パスワードの確認入力**フィールドは、選択したアカウントのパスワードを入力し、をクリックして**OK**します。  

9. クリックして**OK** 3 回です。  

10. 右クリック**印刷スプーラー**クリック**再起動**。  

11. サービスが再起動されると、次のようなダイアログ ボックスが表示されます。  

    ![セキュリティで保護されたローカル管理者アカウントとグループ](media/Appendix-H--Securing-Local-Administrator-Accounts-and-Groups/SAD_113.png)  

###### <a name="revert-changes-to-the-printer-spooler-service"></a>プリンタ スプーラ サービスへの変更を元に戻す  

1.  任意のメンバー サーバーまたは GPO の変更によって影響を受けるワークステーションからローカルでログオンします。  

2.  マウスで画面の右または右上隅にポインターを移動します。 ときに、**チャーム**バーが表示されたら、をクリックして**検索**します。  

3.  **検索**ボックスに「**サービス**、 をクリック**サービス**します。  

4.  見つけてダブルクリック**印刷スプーラー**します。  

5.  **[ログオン]** タブをクリックします。  

6.  **としてログオン**: フィールドで、**ローカル Systemaccount**、 をクリック**OK**します。  

###### <a name="verify-deny-log-on-through-remote-desktop-services-gpo-settings"></a>「リモート デスクトップ サービス経由でログオンを拒否」GPO の設定を確認します。  

1.  マウスで画面の右または右上隅にポインターを移動します。 ときに、**チャーム**バーが表示されたら、をクリックして**検索**します。  

2.  **検索**ボックスに「**リモート デスクトップ接続**、 をクリック**リモート デスクトップ接続**します。  

3.  **コンピューター**フィールドに接続し、をクリックしたいコンピューターの名前を「 **Connect**します。 (入力することできますもコンピューター名の代わりに IP アドレスです。)  

4.  メッセージが表示されたら、システムのローカルの資格情報を提供**管理者**アカウント。  

5.  次のようなダイアログ ボックスが表示されます。  

    ![セキュリティで保護されたローカル管理者アカウントとグループ](media/Appendix-H--Securing-Local-Administrator-Accounts-and-Groups/SAD_114.png)  
