---
ms.assetid: 11f36f2b-9981-4da0-9e7c-4eca78035f37
title: "付録 D: Active Directory の組み込み管理者アカウントをセキュリティで保護します。"
description: 
author: billmath
ms.author: billmath
manager: femila
ms.date: 05/31/2017
ms.topic: article
ms.prod: windows-server-threshold
ms.technology: identity-adds
ms.openlocfilehash: 2878e661e1bb93fcdc3161c46b73d8e4baec76d2
ms.sourcegitcommit: 2782a80a916f8432c030af76e860a72f08481899
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 01/13/2018
---
# <a name="appendix-d-securing-built-in-administrator-accounts-in-active-directory"></a>付録 d: Active Directory の組み込み管理者アカウントをセキュリティで保護します。

>適用対象: Windows Server 2016、Windows Server 2012 R2、Windows Server 2012


## <a name="appendix-d-securing-built-in-administrator-accounts-in-active-directory"></a>付録 d: Active Directory の組み込み管理者アカウントをセキュリティで保護します。  
Active Directory 内の各ドメインの管理者アカウントがドメインの作成の一環として作成されます。 このアカウントは既定では、ドメインの Domain Admins と Administrators グループのメンバーと、アカウントが Enterprise Admins グループのメンバーでも、ドメインが、フォレスト ルート ドメインの場合は、します。

初期ビルドのアクティビティと、場合によっては障害回復シナリオに対してのみ予約するドメインの Administrator アカウントを使用します。 その他のアカウントは使用できません、修復を有効にする管理者アカウントを使用できることを確認には、フォレスト内の任意のドメインの Administrator アカウントの既定のメンバーシップを変更しないでください。 代わりに、次のセクションで説明するようには、フォレスト内の各ドメインの Administrator アカウントをセキュリティで保護する必要があり、次の手順で詳しく説明します。 

> [!NOTE]
> このガイドでは、アカウントを無効にすることを勧めするために使用します。 フォレストの回復のホワイト ペーパーから削除されましたの既定の管理者アカウントを使用します。 その理由は、これは、グローバル カタログ サーバーがない場合、ログオンを許可する唯一のアカウントです。


#### <a name="controls-for-built-in-administrator-accounts"></a>ビルトイン Administrator アカウントの制御  
ビルトイン Administrator アカウント フォレスト内の各ドメインで、次の設定を構成する必要があります。  

-   有効にする、**アカウントは重要なので委任できない**アカウントのフラグ。  

-   有効にする、**スマート カードが対話型ログオンに必要な**アカウントのフラグ。  

-   ドメインに参加しているシステム上で管理者アカウントの使用を制限する Gpo を構成するには。  

    -   次のユーザー権限が各ドメインの Administrator アカウントを追加で作成し、ワークステーションとメンバ サーバーの各ドメイン内の Ou にリンクされる 1 つまたは複数の Gpo、**コンピューター ポリシー \windows 設定 \ セキュリティ \ Settings\User 権利の割り当て**:  

        -   このコンピューターに、ネットワークからアクセス権を拒否します。  

        -   バッチ ジョブとしてログオンを拒否します。  

        -   サービスとしてログオンを拒否します。  

        -   リモート デスクトップ サービスを使ったログオンを拒否します。  

> [!NOTE]  
> この設定にアカウントを追加する場合は、ローカルの管理者アカウントまたはドメイン管理者アカウントを構成しているかどうかを指定する必要があります。 たとえば、NWTRADERS ドメインの管理者アカウントをこれらの拒否を追加する権限、別、または NWTRADERS ドメインの管理者アカウントに参照としてアカウントを入力する必要があります。 これらのユーザー、グループ ポリシー オブジェクト エディターの権限設定に"Administrator"を入力する場合は、GPO を適用する各コンピューターのローカル管理者アカウントを制限します。
>   
> ドメイン ベースの管理者アカウントと同じ方法でメンバー サーバーおよびワークステーション上のローカルの管理者アカウントを制限することをお勧めします。 そのため、これらのユーザーの権限設定に一般に、フォレスト内の各ドメインの管理者アカウントとローカル コンピューターの管理者アカウントを追加する必要があります。 次のスクリーン ショットは、ローカルの管理者アカウントとドメインの Administrator アカウントはこれらのアカウントは必要ありませんログオンを実行するをブロックするこれらのユーザー権利の構成の例を示します。  


![組み込みの管理者アカウントのセキュリティ保護](media/Appendix-D--Securing-Built-In-Administrator-Accounts-in-Active-Directory/SAD_23.gif)  

-   ドメイン コント ローラー上の管理者アカウントを制限する Gpo を構成します。  
    -   フォレスト内の各ドメインのドメイン コント ローラーの既定の GPO またはポリシーにリンクされているドメイン コント ローラーで次のユーザー権限が各ドメインの Administrator アカウントを追加する OU を変更する必要があります**コンピューター ポリシー \windows 設定 \ セキュリティ \ Settings\User 権利の割り当て**:   
        -   このコンピューターに、ネットワークからアクセス権を拒否します。  

        -   バッチ ジョブとしてログオンを拒否します。  

        -   サービスとしてログオンを拒否します。  

        -   リモート デスクトップ サービスを使ったログオンを拒否します。  

> [!NOTE]  
> これらの設定は、アカウント、有効な場合、ローカルにログオンできるドメイン コント ローラーには、ドメインのビルトイン Administrator アカウントをドメイン コント ローラーへの接続に使用できないことを確認します。 このアカウントを有効になっているのみと障害回復シナリオで使用する必要があります、ために、ことには、少なくとも 1 つのドメイン コント ローラーに物理的にアクセスできる、またはドメイン コント ローラーをリモートでアクセスするアクセス許可を持つその他のアカウントを使用できることと予想されます。  

-   管理者アカウントの監査を構成します。  

    各ドメインの Administrator アカウントをセキュリティで保護し、それを無効になっている場合は、アカウントに変更を監視する監査を構成する必要があります。 アカウントが有効になっている、そのパスワードをリセットすると、その他のすべての変更が加えられるアカウントか、または場合、ユーザーまたは組織のインシデント レスポンス チームだけでなく、Active Directory の管理を担当するチームにアラートを送信する必要があります。  

#### <a name="step-by-step-instructions-to-secure-built-in-administrator-accounts-in-active-directory"></a>Active Directory の組み込み管理者アカウントをセキュリティで保護する方法を手順に沿って  

1.  **サーバー マネージャー**、] をクリックして**ツール**、] をクリック**Active Directory ユーザーとコンピューター**します。  

2.  アカウントの資格情報を使用して、他のシステムへの委任を利用する攻撃を防ぐためには、次の手順に従います。  

    1.  右クリックし、**管理者**アカウントし、クリックして**プロパティ**します。  

    2.  をクリックして、**アカウント**] タブ。  

    3.  下にある**アカウント オプション**[**アカウントは重要なので委任できない**次のスクリーン ショットに示すようにフラグを設定し] をクリックして**OK**します。  

        ![組み込みの管理者アカウントのセキュリティ保護](media/Appendix-D--Securing-Built-In-Administrator-Accounts-in-Active-Directory/SAD_24.gif)  

3.  有効にする、**スマート カードが対話型ログオンに必要な**フラグ アカウントで、次の手順に従います。  

    1.  右クリックし、**管理者**アカウントおよび選択**プロパティ**します。  

    2.  をクリックして、**アカウント**] タブ。  

    3.  下にある**アカウント**オプションを選択、**対話型ログオンにスマート カードが必要**次のスクリーン ショットに示すようにフラグを設定し] をクリックして**OK**します。  

        ![組み込みの管理者アカウントのセキュリティ保護](media/Appendix-D--Securing-Built-In-Administrator-Accounts-in-Active-Directory/SAD_25.gif) 

##### <a name="configuring-gpos-to-restrict-administrator-accounts-at-the-domain-level"></a>ドメイン レベルで管理者アカウントを制限する Gpo を構成します。  

> [!WARNING]  
> できるように、ビルトイン Administrator アカウント、障害回復シナリオであっても使用できないために、この GPO はドメイン レベルでリンクしないようにします。  

1.  **サーバー マネージャー**、] をクリックして**ツール**、] をクリック**グループ ポリシーの管理**します。  

2.  コンソール ツリーで、展開<Forest>\Domains\\<Domain>、し、**グループ ポリシー オブジェクト**(場所<Forest>、フォレストの名前と<Domain>はグループ ポリシーを作成するドメインの名前です)。  

3.  コンソール ツリーで、右クリックして**グループ ポリシー オブジェクト**、] をクリック**新規**します。  

    ![組み込みの管理者アカウントのセキュリティ保護](media/Appendix-D--Securing-Built-In-Administrator-Accounts-in-Active-Directory/SAD_27.gif)  

4.  **新しい GPO** ] ダイアログ ボックスで、「 <GPO Name>] をクリック**ok** (場所<GPO Name>この GPO の名前は、) 次のスクリーン ショットで示されているようにします。  

    ![組み込みの管理者アカウントのセキュリティ保護](media/Appendix-D--Securing-Built-In-Administrator-Accounts-in-Active-Directory/SAD_28.gif)  

5.  詳細ウィンドウで右クリックして<GPO Name>、] をクリック**編集**します。  

6.  移動**コンピューター ポリシー \windows 設定 \ セキュリティ \ ポリシー**、] をクリック**ユーザー権利の割り当て**します。  

    ![組み込みの管理者アカウントのセキュリティ保護](media/Appendix-D--Securing-Built-In-Administrator-Accounts-in-Active-Directory/SAD_29.gif)  

7.  管理者アカウントが、次の手順を実行して、ネットワーク経由でメンバー サーバーやワークステーションにアクセスすることを防ぐためにユーザー権利を構成します。  

    1.  をダブルクリック**ネットワークからこのコンピューターへのアクセスを拒否**選択**これらのポリシー設定を定義する**します。  

    2.  をクリックして**[ユーザーまたはグループ**] をクリック**参照**します。  

    3.  種類**管理者**、] をクリックして**名前の確認**、] をクリック**OK**します。 アカウントが表示されていることを確認<DomainName>\Username 形式の次のスクリーン ショットに示されています。  

        ![組み込みの管理者アカウントのセキュリティ保護](media/Appendix-D--Securing-Built-In-Administrator-Accounts-in-Active-Directory/SAD_30.gif)  

    4.  をクリックして**OK**、および**OK**もう一度します。  

8.  管理者アカウントが、次の手順を実行して、バッチ ジョブとしてログオンするを防ぐためにユーザー権利を構成します。  

    1.  をダブルクリック**バッチ ジョブとしてログオンを拒否する**選択**これらのポリシー設定を定義する**します。  

    2.  をクリックして**[ユーザーまたはグループ**] をクリック**参照**します。  

    3.  種類**管理者**、] をクリックして**名前の確認**、] をクリック**OK**します。 アカウントが表示されていることを確認<DomainName>\Username 形式の次のスクリーン ショットに示されています。  

        ![組み込みの管理者アカウントのセキュリティ保護](media/Appendix-D--Securing-Built-In-Administrator-Accounts-in-Active-Directory/SAD_31.gif)  

    4.  をクリックして**OK**、および**OK**もう一度します。  

9. 管理者アカウントが、次の手順を実行して、サービスとしてログオンするを防ぐためにユーザー権利を構成します。  

    1.  をダブルクリック**サービスとしてログオンを拒否する**選択**これらのポリシー設定を定義する**します。  

    2.  をクリックして**[ユーザーまたはグループ**] をクリック**参照**します。  

    3.  種類**管理者**、] をクリックして**名前の確認**、] をクリック**OK**します。 アカウントが表示されていることを確認<DomainName>\Username 形式の次のスクリーン ショットに示されています。  

        ![組み込みの管理者アカウントのセキュリティ保護](media/Appendix-D--Securing-Built-In-Administrator-Accounts-in-Active-Directory/SAD_32.gif)  

    4.  をクリックして**OK**、および**OK**もう一度します。  

10. メンバ サーバーとリモート デスクトップ サービス経由でのワークステーションにアクセスすると、次の手順を実行してから、BA アカウントを防ぐためにユーザー権利を構成します。  

    1.  をダブルクリック**リモート デスクトップ サービスを使ったログオンを拒否する**選択**これらのポリシー設定を定義する**します。  

    2.  をクリックして**[ユーザーまたはグループ**] をクリック**参照**します。  

    3.  種類**管理者**、] をクリックして**名前の確認**、] をクリック**OK**します。 アカウントが表示されていることを確認<DomainName>\Username 形式の次のスクリーン ショットに示されています。  

        ![組み込みの管理者アカウントのセキュリティ保護](media/Appendix-D--Securing-Built-In-Administrator-Accounts-in-Active-Directory/SAD_33.gif)  

    4.  をクリックして**OK**、および**OK**もう一度します。  

11. 終了する**グループ ポリシー管理エディター**、] をクリックして**ファイル**、] をクリック**終了**します。  

12. **グループ ポリシーの管理**、次の手順を実行して、メンバ サーバーとワークステーションの Ou に GPO をリンクします。  

    1.  移動、 <Forest>\Domains\\<Domain> (ここで<Forest>、フォレストの名前と<Domain>はグループ ポリシーを設定するドメインの名前です)。  

    2.  GPO に適用され] をクリックする OU を右クリックして**既存の GPO をリンク**します。  

        ![組み込みの管理者アカウントのセキュリティ保護](media/Appendix-D--Securing-Built-In-Administrator-Accounts-in-Active-Directory/SAD_34.gif)  

    3.  作成した GPO を選択し、クリックして**OK**します。  

        ![組み込みの管理者アカウントのセキュリティ保護](media/Appendix-D--Securing-Built-In-Administrator-Accounts-in-Active-Directory/SAD_35.gif)  

    4.  ワークステーションを含むその他のすべての Ou へのリンクを作成します。  

    5.  メンバー サーバーが含まれているその他のすべての Ou へのリンクを作成します。  

> [!IMPORTANT]  
> これらの設定に Administrator アカウントを追加するかどうかまたは構成している、ローカル管理者アカウント、ドメイン管理者アカウントによってアカウントがラベル付けする方法を指定します。 たとえば、これらの含まドメインの Administrator アカウントの権利を拒否する、含まドメインの Administrator アカウントを閲覧することを追加するには、TAILSPINTOYS\Administrator として表示されるは。 これらのユーザー、グループ ポリシー オブジェクト エディターの権限設定に"Administrator"を入力する場合は、前述のように GPO を適用する、各コンピューターのローカル管理者アカウントが制限されます。  

#### <a name="verification-steps"></a>検証手順  
ここで説明されている検証手順では、Windows 8 および Windows Server 2012 に固有です。  

##### <a name="verify-smart-card-is-required-for-interactive-logon-account-option"></a>「スマート カードが対話型ログオンに必要な」ことを確認する] アカウント オプション  

1.  メンバー サーバーまたはワークステーションの GPO の変更によって影響を受けるから対話型ログオンにドメインにドメインのビルトイン Administrator アカウントを使用するしようとします。 ログオンしようとすると、後に、次のような] ダイアログ ボックスが表示されます。  

![組み込みの管理者アカウントのセキュリティ保護](media/Appendix-D--Securing-Built-In-Administrator-Accounts-in-Active-Directory/SAD_36.gif)  

##### <a name="verify-account-is-disabled-account-option"></a>アカウントが「無効」ことを確認する] アカウント オプション  

1.  メンバー サーバーまたはワークステーションの GPO の変更によって影響を受けるから対話型ログオンにドメインにドメインのビルトイン Administrator アカウントを使用するしようとします。 ログオンしようとすると、後に、次のような] ダイアログ ボックスが表示されます。  

![組み込みの管理者アカウントのセキュリティ保護](media/Appendix-D--Securing-Built-In-Administrator-Accounts-in-Active-Directory/SAD_37.gif)  

##### <a name="verify-deny-access-to-this-computer-from-the-network-gpo-settings"></a>「アクセスを拒否このコンピューターに、ネットワークから」GPO 設定を確認します。  
メンバー サーバーまたはワークステーション (ジャンプ サーバーなど) の GPO の変更の影響を受けませんからには、メンバー サーバーまたはワークステーションに GPO の変更によって影響を受けたネットワーク経由でアクセスを試みます。 GPO の設定を確認するにマップしようとする、システム ドライブを使用して、 **NET USE**によって、次の手順を実行するコマンド。  

1.  ドメインのビルトイン Administrator アカウントを使用してドメインにログオンします。  

2.  マウスで画面の右上隅または右下隅にマウス ポインターを移動します。 ときに、**チャーム**バーが表示されたら、] をクリックして**検索**します。  

3.  **検索**ボックスに、入力**コマンド プロンプト**を右クリックして**コマンド プロンプト**、] をクリックし、**管理者として実行**管理者特権のコマンド プロンプトを開きます。  

4.  権限の昇格を承認するのにメッセージが表示されたら、] をクリックして**はい**します。  

    ![組み込みの管理者アカウントのセキュリティ保護](media/Appendix-D--Securing-Built-In-Administrator-Accounts-in-Active-Directory/SAD_38.gif)  

5.  **コマンド プロンプト**ウィンドウで、種類**net \\\<Server Name>\c$**ここで、<Server Name>メンバー サーバーまたはネットワーク経由でアクセスしようとしているワークステーションの名前です。  

6.  次のスクリーン ショットは、表示されるエラー メッセージを表示します。  

    ![組み込みの管理者アカウントのセキュリティ保護](media/Appendix-D--Securing-Built-In-Administrator-Accounts-in-Active-Directory/SAD_39.gif)  

##### <a name="verify-deny-log-on-as-a-batch-job-gpo-settings"></a>「ログオンを拒否するバッチ ジョブとして」GPO 設定を確認します。  

任意のメンバー サーバーまたはワークステーションの GPO の変更によって影響を受けるからローカルでログオンします。  

###### <a name="create-a-batch-file"></a>バッチ ファイルを作成します。  

1.  マウスで画面の右上隅または右下隅にマウス ポインターを移動します。 ときに、**チャーム**バーが表示されたら、] をクリックして**検索**します。  

2.  **検索**ボックスに、入力**メモ帳**、] をクリック**メモ帳**します。  

3.  **メモ帳**、種類**dir c:**します。  

4.  をクリックして**ファイル**] をクリック**名前を付けて保存**します。  

5.  **Filename**フィールドを入力** <Filename>.bat** (ここで<Filename>は、新しいバッチ ファイルの名前です)。  

###### <a name="schedule-a-task"></a>タスクをスケジュールします。  

1.  マウスで画面の右上隅または右下隅にマウス ポインターを移動します。 ときに、**チャーム**バーが表示されたら、] をクリックして**検索**します。  

2.  **検索**ボックスに、入力**タスク スケジューラ**、] をクリック**タスク スケジューラ**します。  

    > [!NOTE]  
    > 検索ボックスに、Windows 8 を実行するコンピューターで次のように入力します。**タスクをスケジュール**、] をクリック**タスクをスケジュール**します。  

3.  [**タスク スケジューラ**、] をクリックして**アクション**、] をクリック**タスクの作成**します。  

4.  **タスクの作成**] ダイアログ ボックスで、「 ** <Task Name> ** (ここで** <Task Name> **は新しいタスクの名前です).  

5.  をクリックして、**アクション**タブをクリックし、をクリックして**新規**します。  

6.  **アクション:**[**プログラムの開始**します。  

7.  [**プログラム/スクリプト:**、] をクリックして**参照**、し、バッチ ファイルの作成」のセクションで作成するバッチ ファイルを選択して、クリックして**開く**します。  

8.  をクリックして**OK**します。  

9. をクリックして、**全般**] タブ。  

10. [**セキュリティ**オプション] をクリックして**変更ユーザーまたはグループ**します。  

11. ドメイン レベルでクリックするだけで BA アカウントの名前を入力**名前の確認**、] をクリック**OK**します。  

12. 選択**、ユーザーがログオンしているかどうかにかかわらず実行**と**パスワードを保存しない**します。 タスクは、ローカル コンピューターのリソースへのアクセスをのみがあります。  

13. をクリックして**OK**します。  

14. 要求元のユーザー アカウント] ダイアログ ボックスが表示されます、タスクを実行する資格情報です。  

15. 資格情報を入力すると、クリックして**OK**します。  

16. 次のような] ダイアログ ボックスが表示されます。  

    ![組み込みの管理者アカウントのセキュリティ保護](media/Appendix-D--Securing-Built-In-Administrator-Accounts-in-Active-Directory/SAD_40.gif)  

##### <a name="verify-deny-log-on-as-a-service-gpo-settings"></a>「ログオンを拒否する as a service」GPO 設定を確認します。  

1.  任意のメンバー サーバーまたはワークステーションの GPO の変更によって影響を受けるからローカルでログオンします。  

2.  マウスで画面の右上隅または右下隅にマウス ポインターを移動します。 ときに、**チャーム**バーが表示されたら、] をクリックして**検索**します。  

3.  **検索**ボックスに、入力**サービス**、] をクリック**サービス**します。  

4.  見つけてダブルクリック**印刷スプーラー**します。  

5.  をクリックして、**ログオン**] タブ。  

6.  **としてログオン:**[**このアカウント**します。  

7.  をクリックして**参照**ドメイン レベルで BA アカウントの名前を入力でクリックし、**名前の確認**、] をクリック**OK**します。  

8.  [**パスワード:**と**パスワードの確認入力:**、管理者アカウントのパスワードを入力し、をクリックして**OK**します。  

9. をクリックして**OK** 3 回です。  

10. 右クリックし、**印刷スプーラー サービス**選択**再起動**します。  

11. サービスが再起動されたときに、次のような] ダイアログ ボックスが表示されます。  

    ![組み込みの管理者アカウントのセキュリティ保護](media/Appendix-D--Securing-Built-In-Administrator-Accounts-in-Active-Directory/SAD_41.gif)  

##### <a name="revert-changes-to-the-printer-spooler-service"></a>プリンターのスプーラー サービスへの変更を元に戻す  

1.  任意のメンバー サーバーまたはワークステーションの GPO の変更によって影響を受けるからローカルでログオンします。  

2.  マウスで画面の右上隅または右下隅にマウス ポインターを移動します。 ときに、**チャーム**バーが表示されたら、] をクリックして**検索**します。  

3.  **検索**ボックスに、入力**サービス**、] をクリック**サービス**します。  

4.  見つけてダブルクリック**印刷スプーラー**します。  

5.  をクリックして、**ログオン**] タブ。  

6.  [**としてログオン:**を選択、**ローカル システム**アカウント,] をクリックして**OK**します。  

##### <a name="verify-deny-log-on-through-remote-desktop-services-gpo-settings"></a>「リモート デスクトップ サービス経由でログオンを拒否」GPO 設定を確認します。

1.  マウスで画面の右上隅または右下隅にマウス ポインターを移動します。 ときに、**チャーム**バーが表示されたら、] をクリックして**検索**します。  

2.  **検索**ボックスに、入力**リモート デスクトップ接続**、] をクリック**リモート デスクトップ接続**します。  

3.  **コンピューター**フィールドに接続し、をクリックするコンピューターの名前を入力**接続**します。 (入力することも、コンピューター名の代わりに IP アドレスです。)  

4.  メッセージが表示されたら、ドメイン レベルで BA アカウントの名前の資格情報を提供します。  

5.  次のような] ダイアログ ボックスが表示されます。  

    ![組み込みの管理者アカウントのセキュリティ保護](media/Appendix-D--Securing-Built-In-Administrator-Accounts-in-Active-Directory/SAD_42.gif)  
