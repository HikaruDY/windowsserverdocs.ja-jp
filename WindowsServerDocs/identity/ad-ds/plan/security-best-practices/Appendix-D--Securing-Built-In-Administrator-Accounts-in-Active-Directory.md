---
ms.assetid: 11f36f2b-9981-4da0-9e7c-4eca78035f37
title: '付録 D: Active Directory でビルトイン Administrator アカウントのセキュリティ保護'
description: ''
author: MicrosoftGuyJFlo
ms.author: joflore
manager: mtillman
ms.date: 05/31/2017
ms.topic: article
ms.prod: windows-server-threshold
ms.technology: identity-adds
ms.openlocfilehash: 51e503f55ee0fca1f1a53339de555fd213c69296
ms.sourcegitcommit: 0d0b32c8986ba7db9536e0b8648d4ddf9b03e452
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/17/2019
ms.locfileid: "59870683"
---
# <a name="appendix-d-securing-built-in-administrator-accounts-in-active-directory"></a>付録 D:Active Directory でビルトイン Administrator アカウントのセキュリティ保護

>適用先:Windows Server 2016 では、Windows Server 2012 R2、Windows Server 2012


## <a name="appendix-d-securing-built-in-administrator-accounts-in-active-directory"></a>付録 D:Active Directory でビルトイン Administrator アカウントのセキュリティ保護  
Active Directory 内の各ドメインの管理者アカウントがドメインの作成の一環として作成されます。 このアカウントが既定では、ドメインの Domain Admins と管理者グループのメンバーと、アカウントが、Enterprise Admins グループのメンバーでも、ドメインがフォレスト ルート ドメインの場合は、します。

ドメインの管理者アカウントの使用に予約する初期のビルドのアクティビティと、場合によっては、ディザスター リカバリーのシナリオに対してのみです。 管理者アカウントを他のアカウントを使用しないことに、修復を有効にするために使用できることを確認するには、フォレスト内のドメインの管理者アカウントの既定のメンバーシップを変更しないでください。 代わりに、次のセクションで説明したようには、フォレスト内の各ドメインの Administrator アカウントをセキュリティで保護する必要があり、次のステップ バイ ステップの手順で詳しく説明します。 

> [!NOTE]
> このガイドでは、アカウントを無効にするをお勧めするために使用します。 これは、フォレスト回復のホワイト ペーパーとして削除されましたの既定の管理者アカウントを使用します。 理由は、これは、グローバル カタログ サーバーなしのログオンを許可する唯一のアカウントです。


#### <a name="controls-for-built-in-administrator-accounts"></a>ビルトイン Administrator アカウントの制御  
フォレスト内の各ドメインでビルトイン Administrator アカウントを次の設定を構成する必要があります。  

-   有効にする、**アカウントは重要なので委任できない**アカウントのフラグ。  

-   有効にする、**対話型ログオンにスマート カードが必要**アカウントのフラグ。  

-   ドメインに参加しているシステムで、管理者アカウントの使用を制限する Gpo を構成するには。  

    -   作成し、ワークステーションとメンバ サーバーの各ドメイン内の Ou にリンクする 1 つまたは複数の Gpo で各ドメインの管理者アカウントでは、次のユーザー権利を追加**コンピューター \policies\windows 設定 \ セキュリティの設定ユーザー権利の割り当て**:  

        -   ネットワークからのこのコンピューターへのアクセスを拒否する  

        -   バッチ ジョブとしてのログオンを拒否  

        -   サービスとしてのログオンを拒否  

        -   リモート デスクトップ サービスを使ったログオンを拒否  

> [!NOTE]  
> アカウントをこの設定を追加するときに、ローカルの管理者アカウントまたはドメイン管理者アカウントを構成しているかどうかを指定する必要があります。 たとえば、NWTRADERS ドメインの管理者のアカウントにこれらを拒否するを追加する権限、別、または、NWTRADERS ドメインの管理者アカウントに参照として、アカウントを入力する必要があります。 これらのユーザーの権限設定では、グループ ポリシー オブジェクト エディターで「管理者」を入力する場合は、GPO を適用する各コンピューターのローカルの管理者アカウントを制限します。
>   
> ドメイン ベースの管理者アカウントと同じ方法でメンバー サーバーとワークステーションのローカルの管理者アカウントを制限することをお勧めします。 したがって、これらのユーザーの権限設定を一般に、フォレスト内の各ドメインの管理者アカウントとローカル コンピューターの管理者アカウントを追加する必要があります。 次のスクリーン ショットでは、ローカルの管理者アカウントとドメインの Administrator アカウントがこれらのアカウントは必要ありませんがログオンを実行するをブロックするには、このユーザー権限の構成の例を示します。  


![組み込みの管理者アカウントをセキュリティで保護します。](media/Appendix-D--Securing-Built-In-Administrator-Accounts-in-Active-Directory/SAD_23.gif)  

-   ドメイン コント ローラーの管理者アカウントを制限する Gpo を構成します。  
    -   ドメイン コント ローラーの既定の GPO またはポリシーで各ドメインの管理者アカウントでは、次のユーザー権利を追加する OU を変更する必要があります、ドメイン コント ローラーにリンク、フォレスト内の各ドメインで**コンピューターの構成権利の割り当てを \windows settings \local policies \user**:   
        -   ネットワークからのこのコンピューターへのアクセスを拒否する  

        -   バッチ ジョブとしてのログオンを拒否  

        -   サービスとしてのログオンを拒否  

        -   リモート デスクトップ サービスを使ったログオンを拒否  

> [!NOTE]  
> これらの設定が有効な場合は、アカウントがドメイン コント ローラーにローカルでログオンできますが、ドメインのビルトイン Administrator アカウントをドメイン コント ローラーへの接続に使用できません、ことを確認します。 このアカウントを有効になっているだけとディザスター リカバリーのシナリオで使用する必要があります、ため、少なくとも 1 つのドメイン コント ローラーに物理的にアクセスが公開される予定または他のアカウントのドメイン コント ローラーをリモートでアクセスするアクセス許可を持つができると予想されます。このオプションを使用するとします。  

-   管理者アカウントの監査を構成します。  

    各ドメインの管理者アカウントをセキュリティで保護し、それを無効になっているときは、アカウントに変更を監視する監査を構成する必要があります。 アカウントが有効になっている、そのパスワードをリセットすると、または他の変更を行ったアカウントに、アラートがユーザーまたは組織のインシデント対応チームだけでなく、Active Directory の管理を担当するチームに送信する必要があります。  

#### <a name="step-by-step-instructions-to-secure-built-in-administrator-accounts-in-active-directory"></a>Active Directory でビルトイン Administrator アカウントをセキュリティで保護するための手順  

1.  **サーバー マネージャー**、 をクリックして**ツール**、 をクリック**Active Directory ユーザーとコンピューター**します。  

2.  アカウントの資格情報を使用して、他のシステムへの委任を利用する攻撃を防ぐためには、次の手順に従います。  

    1.  右クリックし、**管理者**アカウントし、クリックして**プロパティ**します。  

    2.  をクリックして、**アカウント**タブ。  

    3.   **Account options**を選択します**アカウントは重要なので委任できない**の次のスクリーン ショットに示すようにフラグを設定し、をクリックして**OK**します。  

        ![組み込みの管理者アカウントをセキュリティで保護します。](media/Appendix-D--Securing-Built-In-Administrator-Accounts-in-Active-Directory/SAD_24.gif)  

3.  有効にする、**対話型ログオンにスマート カードが必要**アカウントのフラグは、次の手順に従います。  

    1.  右クリックし、**管理者**アカウントし、選択**プロパティ**します。  

    2.  をクリックして、**アカウント**タブ。  

    3.  **アカウント**オプションで、**対話型ログオンにスマート カードが必要**の次のスクリーン ショットに示すようにフラグを設定し、をクリックして**OK**します。  

        ![組み込みの管理者アカウントをセキュリティで保護します。](media/Appendix-D--Securing-Built-In-Administrator-Accounts-in-Active-Directory/SAD_25.gif) 

##### <a name="configuring-gpos-to-restrict-administrator-accounts-at-the-domain-level"></a>ドメイン レベルでの管理者アカウントを制限する Gpo を構成します。  

> [!WARNING]  
> ディザスター リカバリーのシナリオであっても、使用できない、ビルトイン Administrator アカウントをことができますので、ドメイン レベルでこの GPO をリンクしないようにします。  

1.  **サーバー マネージャー**、 をクリックして**ツール**、 をクリック**Group Policy Management**します。  

2.  コンソール ツリーで、展開<Forest>\Domains\\<Domain>、し**グループ ポリシー オブジェクト**(場所<Forest>フォレストの名前を指定および<Domain>先ドメインの名前を指定しますグループ ポリシーを作成) します。  

3.  コンソール ツリーで、右クリック**グループ ポリシー オブジェクト**、 をクリック**新規**します。  

    ![組み込みの管理者アカウントをセキュリティで保護します。](media/Appendix-D--Securing-Built-In-Administrator-Accounts-in-Active-Directory/SAD_27.gif)  

4.  **新しい GPO**ダイアログ ボックスに「 <GPO Name>、 をクリック**OK** (場所<GPO Name>この GPO の名前を指定) 次のスクリーン ショットに示すよう。  

    ![組み込みの管理者アカウントをセキュリティで保護します。](media/Appendix-D--Securing-Built-In-Administrator-Accounts-in-Active-Directory/SAD_28.gif)  

5.  詳細ペインで右クリックして<GPO Name>、 をクリック**編集**します。  

6.  移動します**コンピューター \policies\windows \security settings \local Policies**、 をクリック**ユーザー権利の割り当て**します。  

    ![組み込みの管理者アカウントをセキュリティで保護します。](media/Appendix-D--Securing-Built-In-Administrator-Accounts-in-Active-Directory/SAD_29.gif)  

7.  管理者アカウントが次の手順に従って、ネットワーク経由でメンバー サーバーとワークステーションにアクセスすることを防ぐためにユーザー権限を構成します。  

    1.  ダブルクリック**ネットワークからこのコンピューターへのアクセスを拒否**選択と**これらのポリシー設定を定義**。  

    2.  クリックして**追加のユーザーまたはグループ** をクリック**参照**します。  

    3.  型**管理者**、 をクリックして**名前の確認**、 をクリック**OK**します。 アカウントが表示されていることを確認<DomainName>\Username の形式として、次のスクリーン ショットに示されています。  

        ![組み込みの管理者アカウントをセキュリティで保護します。](media/Appendix-D--Securing-Built-In-Administrator-Accounts-in-Active-Directory/SAD_30.gif)  

    4.  をクリックして **[ok]** と**OK**もう一度です。  

8.  管理者アカウントが、次の手順を実行してバッチ ジョブとしてログオンするを防ぐためにユーザー権限を構成します。  

    1.  ダブルクリック**バッチ ジョブとしてログオンを拒否**選択と**これらのポリシー設定を定義**。  

    2.  クリックして**追加のユーザーまたはグループ** をクリック**参照**します。  

    3.  型**管理者**、 をクリックして**名前の確認**、 をクリック**OK**します。 アカウントが表示されていることを確認<DomainName>\Username の形式として、次のスクリーン ショットに示されています。  

        ![組み込みの管理者アカウントをセキュリティで保護します。](media/Appendix-D--Securing-Built-In-Administrator-Accounts-in-Active-Directory/SAD_31.gif)  

    4.  をクリックして **[ok]** と**OK**もう一度です。  

9. 管理者アカウントが次の手順に従って、サービスとしてログオンするを防ぐためにユーザー権限を構成します。  

    1.  ダブルクリック**サービスとしてログオンを拒否**選択と**これらのポリシー設定を定義**します。  

    2.  クリックして**追加のユーザーまたはグループ** をクリック**参照**します。  

    3.  型**管理者**、 をクリックして**名前の確認**、 をクリック**OK**します。 アカウントが表示されていることを確認<DomainName>\Username の形式として、次のスクリーン ショットに示されています。  

        ![組み込みの管理者アカウントをセキュリティで保護します。](media/Appendix-D--Securing-Built-In-Administrator-Accounts-in-Active-Directory/SAD_32.gif)  

    4.  をクリックして **[ok]** と**OK**もう一度です。  

10. BA アカウントが、次の手順でメンバー サーバーとリモート デスクトップ サービスを使用してワークステーションにアクセスすることを防ぐためにユーザー権限を構成します。  

    1.  ダブルクリック**リモート デスクトップ サービスを使ったログオンを拒否する**選択**これらのポリシー設定を定義**。  

    2.  クリックして**追加のユーザーまたはグループ** をクリック**参照**します。  

    3.  型**管理者**、 をクリックして**名前の確認**、 をクリック**OK**します。 アカウントが表示されていることを確認<DomainName>\Username の形式として、次のスクリーン ショットに示されています。  

        ![組み込みの管理者アカウントをセキュリティで保護します。](media/Appendix-D--Securing-Built-In-Administrator-Accounts-in-Active-Directory/SAD_33.gif)  

    4.  をクリックして **[ok]** と**OK**もう一度です。  

11. 終了する**グループ ポリシー管理エディター**、 をクリックして**ファイル**、 をクリック**終了**します。  

12. **Group Policy Management**次の手順に従って、メンバー サーバーとワークステーションの Ou に GPO をリンクします。  

    1.  移動します、 <Forest>\Domains\\ <Domain> (場所<Forest>フォレストの名前を指定し、<Domain>グループ ポリシーを設定するドメインの名前を指定)。  

    2.  GPO に適用され、をクリックする OU を右クリックして**既存の GPO をリンク**します。  

        ![組み込みの管理者アカウントをセキュリティで保護します。](media/Appendix-D--Securing-Built-In-Administrator-Accounts-in-Active-Directory/SAD_34.gif)  

    3.  作成した GPO を選択し、クリックして**OK**します。  

        ![組み込みの管理者アカウントをセキュリティで保護します。](media/Appendix-D--Securing-Built-In-Administrator-Accounts-in-Active-Directory/SAD_35.gif)  

    4.  ワークステーションが含まれているその他のすべての Ou へのリンクを作成します。  

    5.  メンバー サーバーを含むその他のすべての Ou へのリンクを作成します。  

> [!IMPORTANT]  
> これらの設定を管理者アカウントを追加するかどうかして構成している、ローカルの管理者アカウントまたはドメイン管理者アカウントのアカウント ラベル付けする方法を指定します。 たとえば、これらを含まドメインの管理者アカウント権限を拒否する、含まのドメインの管理者アカウントを参照を追加するには、TAILSPINTOYS\Administrator として表示されるとします。 これらのユーザーの権限設定では、グループ ポリシー オブジェクト エディターで「管理者」を入力する場合は、前述のよう、GPO が適用される各コンピューターのローカルの管理者アカウントを制限します。  

#### <a name="verification-steps"></a>検証手順  
ここで説明した検証手順では、Windows 8 と Windows Server 2012 に固有です。  

##### <a name="verify-smart-card-is-required-for-interactive-logon-account-option"></a>「対話型ログオンに必要なのスマート カードが」ことを確認する アカウント オプション  

1.  任意のメンバー サーバーまたは GPO の変更によって影響を受けるワークステーションから対話型ログオンにドメインにドメインのビルトイン Administrator アカウントを使用してみます。 ログオンしようとすると後、は、次のようなダイアログ ボックスが表示されます。  

![組み込みの管理者アカウントをセキュリティで保護します。](media/Appendix-D--Securing-Built-In-Administrator-Accounts-in-Active-Directory/SAD_36.gif)  

##### <a name="verify-account-is-disabled-account-option"></a>「アカウントは無効です」ことを確認する アカウント オプション  

1.  任意のメンバー サーバーまたは GPO の変更によって影響を受けるワークステーションから対話型ログオンにドメインにドメインのビルトイン Administrator アカウントを使用してみます。 ログオンしようとすると後、は、次のようなダイアログ ボックスが表示されます。  

![組み込みの管理者アカウントをセキュリティで保護します。](media/Appendix-D--Securing-Built-In-Administrator-Accounts-in-Active-Directory/SAD_37.gif)  

##### <a name="verify-deny-access-to-this-computer-from-the-network-gpo-settings"></a>アクセスを拒否をこのコンピューターにネットワークから"GPO の設定を確認します。  
メンバー サーバーまたはワークステーション (ジャンプ サーバー) など、GPO の変更の影響を受けませんからには、メンバー サーバーまたはワークステーションを GPO の変更によって影響を受けるネットワーク経由でアクセスしてみます。 GPO の設定を確認するにマップしようとする、システム ドライブを使用して、 **NET USE**コマンドで、次の手順を実行します。  

1.  ドメインのビルトイン Administrator アカウントを使用してドメインにログオンします。  

2.  マウスで画面の右または右上隅にポインターを移動します。 ときに、**チャーム**バーが表示されたら、をクリックして**検索**します。  

3.  **検索**ボックスに「**コマンド プロンプト**、右クリックして**コマンド プロンプト**順にクリックします**管理者として実行**を管理者特権でを開くコマンド プロンプト。  

4.  昇格を承認するメッセージが表示されたら、クリックして**はい**します。  

    ![組み込みの管理者アカウントをセキュリティで保護します。](media/Appendix-D--Securing-Built-In-Administrator-Accounts-in-Active-Directory/SAD_38.gif)  

5.  **コマンド プロンプト**ウィンドウで、「 **net \\ \\\<サーバー名\>\c$** ここで、\<サーバー名\>が、メンバー サーバーまたはネットワーク経由でアクセスしようとしているワークステーションの名前。  

6.  次のスクリーン ショットには、表示されるエラー メッセージが表示されます。  

    ![組み込みの管理者アカウントをセキュリティで保護します。](media/Appendix-D--Securing-Built-In-Administrator-Accounts-in-Active-Directory/SAD_39.gif)  

##### <a name="verify-deny-log-on-as-a-batch-job-gpo-settings"></a>「バッチ ジョブとしてのログオンを拒否」GPO の設定を確認します。  

任意のメンバー サーバーまたは GPO の変更によって影響を受けるワークステーションからローカルでログオンします。  

###### <a name="create-a-batch-file"></a>バッチ ファイルを作成します。  

1.  マウスで画面の右または右上隅にポインターを移動します。 ときに、**チャーム**バーが表示されたら、をクリックして**検索**します。  

2.  **検索**ボックスに「**メモ帳** をクリック**メモ帳**します。  

3.  **メモ帳**、型**dir c:** します。  

4.  をクリックして**ファイル**クリック**名前を付けて保存**。  

5.  **Filename**フィールドに「  **<Filename>.bat** (場所<Filename>新しいバッチ ファイル名前を指定します).  

###### <a name="schedule-a-task"></a>タスクをスケジュールします。  

1.  マウスで画面の右または右上隅にポインターを移動します。 ときに、**チャーム**バーが表示されたら、をクリックして**検索**します。  

2.  **検索**ボックスに「**タスク スケジューラ** をクリック**タスク スケジューラ**します。  

    > [!NOTE]  
    > 検索ボックスに、Windows 8 を実行するコンピューターで次のように入力します。**タスクのスケジュール**、 をクリック**タスクのスケジュール**します。  

3.  **タスク スケジューラ**、 をクリックして**アクション**、 をクリック**タスクの作成**です。  

4.  **タスクの作成**ダイアログ ボックスに「 **<Task Name>** (場所**<Task Name>** 新しいタスク名前を指定します).  

5.  をクリックして、**アクション**タブをクリックし、をクリックして**新規**します。  

6.  **アクション:**、**プログラムを起動する**。  

7.  [**プログラム/スクリプト:**、] をクリックして**参照**、および「バッチ ファイルを作成する」のセクションで作成するバッチ ファイルの選択を見つけてクリック**オープン**します。  

8.  **[OK]** をクリックします。  

9. **[全般]** タブをクリックします。  

10. [**セキュリティ**オプション] をクリックして**変更ユーザーまたはグループ**します。  

11. ドメイン レベルでのクリックで BA アカウントの名前を入力**名前の確認**、 をクリック**OK**します。  

12. 選択 **、ユーザーがログオンしているかどうかにかかわらず実行**と**パスワードを保存しない**します。 タスクは、ローカル コンピューターのリソースへのアクセスを必要のみがあります。  

13. **[OK]** をクリックします。  

14. タスクを実行する資格情報要求のユーザー アカウント ダイアログ ボックスが表示されます。  

15. 資格情報を入力すると、次のようにクリックします。 **OK**します。  

16. 次のようなダイアログ ボックスが表示されます。  

    ![組み込みの管理者アカウントをセキュリティで保護します。](media/Appendix-D--Securing-Built-In-Administrator-Accounts-in-Active-Directory/SAD_40.gif)  

##### <a name="verify-deny-log-on-as-a-service-gpo-settings"></a>「サービスとしてのログオンを拒否」GPO の設定を確認します。  

1.  任意のメンバー サーバーまたは GPO の変更によって影響を受けるワークステーションからローカルでログオンします。  

2.  マウスで画面の右または右上隅にポインターを移動します。 ときに、**チャーム**バーが表示されたら、をクリックして**検索**します。  

3.  **検索**ボックスに「**サービス**、 をクリック**サービス**します。  

4.  見つけてダブルクリック**印刷スプーラー**します。  

5.  **[ログオン]** タブをクリックします。  

6.  **としてログオン:**、**このアカウント**します。  

7.  をクリックして**参照**、BA アカウントの名前を入力、ドメイン レベルで、をクリックして**名前の確認**、 をクリック**OK**。  

8.  **パスワード:** と**パスワードの確認入力:**、管理者アカウントのパスワードを入力し、をクリックして**OK**します。  

9. クリックして**OK** 3 回です。  

10. 右クリックし、**印刷スプーラ サービス**選択**再起動**します。  

11. サービスが再起動されると、次のようなダイアログ ボックスが表示されます。  

    ![組み込みの管理者アカウントをセキュリティで保護します。](media/Appendix-D--Securing-Built-In-Administrator-Accounts-in-Active-Directory/SAD_41.gif)  

##### <a name="revert-changes-to-the-printer-spooler-service"></a>プリンタ スプーラ サービスへの変更を元に戻す  

1.  任意のメンバー サーバーまたは GPO の変更によって影響を受けるワークステーションからローカルでログオンします。  

2.  マウスで画面の右または右上隅にポインターを移動します。 ときに、**チャーム**バーが表示されたら、をクリックして**検索**します。  

3.  **検索**ボックスに「**サービス**、 をクリック**サービス**します。  

4.  見つけてダブルクリック**印刷スプーラー**します。  

5.  **[ログオン]** タブをクリックします。  

6.  **としてログオン:** を選択、**ローカル システム**アカウント、およびクリックして**ok**。  

##### <a name="verify-deny-log-on-through-remote-desktop-services-gpo-settings"></a>「リモート デスクトップ サービス経由でログオンを拒否」GPO の設定を確認します。

1.  マウスで画面の右または右上隅にポインターを移動します。 ときに、**チャーム**バーが表示されたら、をクリックして**検索**します。  

2.  **検索**ボックスに「**リモート デスクトップ接続**、 をクリック**リモート デスクトップ接続**します。  

3.  **コンピューター**フィールドに接続し、をクリックしたいコンピューターの名前を「 **Connect**します。 (入力することできますもコンピューター名の代わりに IP アドレスです。)  

4.  メッセージが表示されたら、ドメイン レベルで BA アカウントの名前の資格情報を提供します。  

5.  次のようなダイアログ ボックスが表示されます。  

    ![組み込みの管理者アカウントをセキュリティで保護します。](media/Appendix-D--Securing-Built-In-Administrator-Accounts-in-Active-Directory/SAD_42.gif)  
