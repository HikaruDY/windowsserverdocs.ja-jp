---
ms.assetid: d7a4d2e1-217d-4ffc-93f0-817149bd9e7f
title: "セキュリティ侵害に至る過程"
description: 
author: billmath
ms.author: billmath
manager: femila
ms.date: 05/31/2017
ms.topic: article
ms.prod: windows-server-threshold
ms.technology: identity-adds
ms.openlocfilehash: 149a3e4bb2ce4558e40425e42ecfdeec2c5dfcb7
ms.sourcegitcommit: 78d8839ccafa9530784cb9e38c3127ed2c215423
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 01/09/2018
---
# <a name="avenues-to-compromise"></a>セキュリティ侵害に至る過程

>適用対象: Windows Server 2016、Windows Server 2012 R2、Windows Server 2012

*法律は 7 番: 最も安全なネットワークが適切に管理されている 1 つです。* - [10 Immutable Laws of Security Administration](https://technet.microsoft.com/library/cc722488.aspx)  
  
セキュリティ侵害の重大なイベントが発生した組織で評価通常の表示、組織にその」で説明されている"の状態が大幅に異なる場合があります、その IT インフラストラクチャの実際の状態に可視性が制限されていること。 これらの相違点は、セキュリティを侵害する、多くの場合、セキュリティ侵害が進行して、攻撃者が効果的に「所有」環境ポイントになるまでの検出のリスクを最小限に環境を公開するための脆弱性を紹介します。  
  
これらの組織の AD DS の構成、公開キー基盤 (Pki)、サーバー、ワークステーション、アプリケーションでは、詳細な評価のアクセス制御リスト (Acl) とその他のテクノロジの構成の不備および修復されると、でしたがあることはできません、初期のセキュリティ侵害のある脆弱性を表示します。  
  
IT のドキュメント、プロセス、および手順の分析は、最終的に、Active Directory フォレストを完全に侵害するために使用された特権を取得する攻撃者によって利用された管理業務内のギャップの脆弱性を識別します。 完全に侵害されたフォレストは、攻撃者が個々 のシステム、アプリケーション、または、ユーザー アカウントのだけでなくセキュリティ侵害がエスカレートする特権をしたり変更したり、フォレストのすべての側面を破棄のレベルを取得へのアクセスを 1 つです。 Active Directory のインストールが侵害されたにいる度、攻撃者が変更を行う環境、またはがさらに悪化ディレクトリと、システムおよび管理アカウントを破棄するのには、全体のプレゼンスを維持するためにできるようにします。  
  
以下の説明でよく悪用された脆弱性の数は Active Directory に対する攻撃ではありません、権限 (特権の昇格とも呼ばれます) の昇格攻撃を実行し、最終的に対象とし、AD DS の侵害を使用できる環境で足掛かりを確立するために攻撃者ができるようにします。  
  
このドキュメントのこのセクションでは、攻撃者は、インフラストラクチャにアクセスして、最終的に特権の昇格攻撃を仕掛けることに通常使用されるメカニズムの説明に焦点を当てています。 また、次のセクションを参照してください。  
  
-   [Active Directory の攻撃対象領域を減らす](../../../ad-ds/plan/security-best-practices/../../../ad-ds/plan/security-best-practices/../../../ad-ds/plan/security-best-practices/Reducing-the-Active-Directory-Attack-Surface.md)Active Directory のセキュリティで保護された構成に関する推奨事項を詳しく説明します。  
  
-   [Active Directory の侵害の兆候を監視](../../../ad-ds/plan/security-best-practices/Monitoring-Active-Directory-for-Signs-of-Compromise.md)セキュリティ侵害を検出するために推奨事項  
  
-   [セキュリティ侵害を計画する](../../../ad-ds/plan/security-best-practices/../../../ad-ds/plan/security-best-practices/Planning-for-Compromise.md)からインフラストラクチャに対する攻撃の準備を行うに高度なアプローチ IT およびビジネスのパースペクティブ  
  
> [!NOTE]  
> このドキュメントが AD DS ドメインの一部である Active Directory と Windows のシステムに重点が攻撃者めったに焦点のみを目的として Active Directory と Windows します。 オペレーティング システム、ディレクトリ、アプリケーション、およびデータ リポジトリの混在環境では、Windows 以外のシステムが侵害されてもいるを検索する一般的なです。 これは、システムが Windows と UNIX または Linux クライアント、複数のオペレーティング システムに認証サービスを提供するディレクトリまたは別々 のディレクトリの間でデータを同期化メタディレクトリによってアクセスされるファイル サーバーなどの Windows および Windows 以外の環境間で「ブリッジ」を提供する場合に特に当てはまります。  
>   
> AD DS は、一元的なアクセスと構成の管理機能だけでなく、Windows システムに、その他のクライアントに提供ため対象とします。 その他のディレクトリまたはサービスを提供する認証と構成管理アプリケーション、して決定攻撃者が対象とします。 このドキュメントは、Active Directory のインストールで Windows 以外のコンピューターを含むすべての組織のセキュリティ侵害が発生する可能性を減らすことができます保護に重点を置いてがディレクトリ、アプリケーション、またはデータ リポジトリ備える必要がありますもこれらのシステムに対する攻撃です。  
  
## <a name="initial-breach-targets"></a>初期の侵害のターゲット  
誰も意図的にセキュリティを侵害する組織を公開する IT インフラストラクチャを構築します。 Active Directory フォレストを初めて構築は、これは通常手つかずと現在です。 年を渡すし、新しいオペレーティング システムやアプリケーションは、取得、フォレストに追加します。 Active Directory が提供する管理容易性の利点が認識されるように、ますます多くのコンテンツ ディレクトリに追加より多くの人が自分のコンピューターやアプリケーションを AD DS と統合およびドメインが Windows オペレーティング システムの最新のバージョンによって提供される新しい機能をサポートするためにアップグレードします。 時間の経過と共に動作もただしはも、新しいインフラストラクチャは、インフラストラクチャの他の部分と同様に最初にも維持されません可能性があります、追加される、システム、アプリケーションが正しく機能していると、そのため、対処を受信していない、忘れる、従来のインフラストラクチャをしない解消している組織を開始します。 侵害されたインフラストラクチャを評価するを参照してに基づいて、古い、サイズが大きくなるとより複雑なよく悪用された脆弱性の多数のインスタンスがあることは、環境よりも高くします。  
  
攻撃者の動機に関係なくほとんどの情報セキュリティ侵害を一度に 1 つまたは 2 つのシステムのセキュリティ侵害を開始します。 これらの初期イベントは、または、ネットワークへのエントリ ポイントは多くの場合でしたが修正されましたがなかった脆弱性を活用します。 [2012 データ侵害調査レポート (DBIR)](http://www.verizonbusiness.com/resources/reports/rp_data-breach-investigations-report-2012_en_xg.pdf)、さまざまな国家安全保障機関と他の企業と連携 Verizon リスク チームによって生成された年間の調査には、状態の攻撃の 96% が「いない高困難ですが、」でしたし、こと「97% の侵害された単純なまたは中間のコントロールを避け」。 この調査結果には、後続のよく悪用された脆弱性の直接の結果として可能性があります。  
  
### <a name="gaps-in-antivirus-and-antimalware-deployments"></a>ウイルス対策およびマルウェア対策の展開におけるキャップ  
*法律は 8 番: 古くなったマルウェア スキャナーありませんスキャナーよりもわずかであります。* - [Ten Immutable Laws of Security (Version 2.0)](https://technet.microsoft.com/security/hh278941.aspx)  
  
組織のウイルス対策およびマルウェア対策の展開の分析には、多くの場合のほとんどのワークステーションが有効になっているウイルス対策およびマルウェア対策ソフトウェアで構成され、現在を環境が表示されます。 例外は、通常、ソフトウェアは、展開、構成、および更新するが難しい、どのウイルス対策およびマルウェア対策の企業環境や従業員のデバイスに接続頻度の低いワークステーションです。  
  
サーバーの作成、ただし、する傾向がある多くの侵害された環境で一貫して保護が低下します。 報告されるよう、[2012 データ侵害調査](http://www.verizonbusiness.com/resources/reports/rp_data-breach-investigations-report-2012_en_xg.pdf)、すべてのデータの 94% に進入を表す、以前の 1 年間の 18% 増加関係するサーバーは、およびマルウェアが攻撃の 69% に組み込まれていたりします。 サーバーの作成は珍しいことウイルス対策およびマルウェア対策のインストールは一貫性がないように構成、古い、正しく構成されていない、またはも無効になっていることはできません。 場合によってで管理スタッフが、ウイルス対策およびマルウェア対策ソフトウェアが無効になっていますが、攻撃者が他の場合は、他の脆弱性経由でサーバーを侵害した後、ソフトウェアを無効にします。 ウイルス対策およびマルウェア対策ソフトウェアを無効にした場合、攻撃者は植物サーバー上のマルウェアし、サーバー母集団全体でのセキュリティ侵害の伝達を重視します。  
  
だけでなく、システムが現在、包括的なマルウェア対策で保護されていることを確認するも無効にすると、ウイルス対策およびマルウェア対策ソフトウェアの削除のシステムを監視して手動で無効にした場合、保護を自動的に再起動するには重要です。 ウイルス対策およびマルウェア対策ソフトウェアを保証できるありません防止およびすべての感染の検出が正しく構成され、展開されたウイルス対策およびマルウェア対策実装は感染の可能性を軽減できます。  
  
### <a name="incomplete-patching"></a>不完全な修正プログラムの適用  
*法律 3 つの番号: とセキュリティ修正プログラム保存していない場合、ネットワークできませんお客様の時間の長いします。* - [10 Immutable Laws of Security Administration](https://technet.microsoft.com/library/cc722488.aspx)  
  
Microsoft は、まれに、月例のセキュリティの更新プログラム (これらとも呼ばれる「帯域外」更新プログラム) の間のセキュリティ更新プログラムがリリースされたが、毎月の第 2 火曜日にセキュリティ情報をリリースと、脆弱性と判断されたカスタマー システムに緊急の問題が発生します。 大規模な組織は System Center Configuration Manager (SCCM) などの管理ソフトウェアを使用して、詳細な階層の計画に従って更新プログラムの展開をスモール ビジネスをシステムとアプリケーションの更新プログラムを管理する Windows Update を使用するには、その Windows コンピューターを構成する場合も、多くのお客様修正プログラムの Windows インフラストラクチャが比較的遅れることがなくします。  
  
ただし、いくつかのインフラストラクチャには、Windows コンピューターと、Microsoft アプリケーションのみが含まれます。し、侵害された環境では、組織の修正プログラム管理戦略にギャップが含まれていることに共通します。 これらの環境での Windows システムは一貫性がない修正プログラムを適用します。 Windows 以外のオペレーティング システムはすべての場合、断続的修正します。 商用の既製 (既成) アプリケーションにはの更新プログラムは存在するが、適用されていない脆弱性が含まれます。 ネットワーク デバイスが工場出荷時の既定の資格情報で構成された多くの場合と、ファームウェアでは、年、インストール後の更新プログラムはありません。 アプリケーションや、ベンダーで不要になったサポートされているオペレーティング システムが多くの場合に保持されることが不要になった修正できる脆弱性に対して事実にもかかわらずを実行しています。 これら講じますは、攻撃者の別の潜在的なエントリ ポイントを表します。  
  
コンシューマライゼーション IT がその従業員に導入された追加の課題所有するデバイスを所有している企業データへのアクセスに使用されているし、組織は、修正プログラムの適用と従業員の個人用デバイスの構成を no にほとんどの制御を必要があります。 エンタープライズ クラスのハードウェアは、通常、エンタープライズ対応の構成オプションおよび管理機能、個々 のカスタマイズとデバイスの選択の少ない選択肢下がりますで出荷されます。 従業員に重点を置いたハードウェアは、広い範囲の製造元、ベンダー、ハードウェア セキュリティ機能、ソフトウェアのセキュリティ機能、管理機能と構成オプションを提供し、エンタープライズの多くの機能があります absent 完全します。  
  
#### <a name="patch-and-vulnerability-management-software"></a>修正プログラムと脆弱性の管理ソフトウェア  
効果的な更新プログラムの管理システムは、Windows システムと Microsoft アプリケーションのためには、見なします脆弱性が作成される攻撃対象領域の一部が対応しています。 ただし、Windows 以外のシステム、Microsoft 以外のアプリケーション、ネットワーク インフラストラクチャ、および従業員のデバイスも最新の修正プログラムおよびその他の修正、しない限り、インフラストラクチャは脆弱なままになります。 場合によっては、アプリケーションのベンダーが自動更新機能を提供可能性があります。あれば、定期的に取得し、修正プログラムおよびその他の修正プログラムを適用するには、その方法を考案する必要があります。
  
### <a name="outdated-applications-and-operating-systems"></a>古いバージョンのアプリケーションとオペレーティング システム  
*「6-月-古い攻撃からの保護に 6 年前のオペレーティング システムは期待できません」です。* 情報セキュリティの専門家で 10 年間のセキュリティ保護のエンタープライズ インストールが発生します。  
  
「取得、現在、状態を保って」マーケティング語句、古いオペレーティング システム、アプリケーションは、多くの組織でリスクを作成するように思えるかもしれませんが IT インフラストラクチャです。 2003 でリリースされたオペレーティング システムをベンダによってサポートされているまだとオペレーティング システムには以降のバージョンのオペレーティング システムで追加されたセキュリティ機能が含まれていない可能性がありますが、そのアドレスの脆弱性に更新プログラムで提供される可能性があります。 古いシステムは、これらのコンピューターの低い機能をサポートするために特定の AD DS のセキュリティ構成の弱化も要求できます。  
  
従来の認証プロトコルを使用して、通常、アプリケーションが不要になったサポートするベンダーによって記述されたアプリケーションより強力な認証メカニズムをサポートするために retooled ことはできません。 ただし、組織の Active Directory ドメインは、引き続き LAN Manager のハッシュ、またはこのようなアプリケーションをサポートするために可逆的に暗号化されたパスワードを保存する構成可能性があります。 または以前のバージョンと以前のシステムを管理する組織を必要とする、現在のオペレーティング システム上でといくつかの場合、完全にサポートされていないハードウェアおよびソフトウェアに、それ以降のオペレーティング システムの導入する前に作成されたアプリケーションは機能しない可能性が。  
  
組織が Windows Server 2012、Windows Server 2008 R2、または Windows Server 2008 ドメイン コントローラーを更新した場合でもすることはよくメンバーのかなりの部分 (これは、メイン ストリーム サポートで不要になったは) Windows Server 2003 を実行するサーバーの生成を検索または Windows 2000 Server または Windows NT Server 4.0 (を完全にサポートされていません)。 組織がエージング システムを保有期間が長く、ほど機能セット間で差異の拡大に合わせて、および可能性が高くなります運用システムがサポートされているがあります。 さらに、長くは、Active Directory フォレストが保持される、アップグレード計画で従来のシステムとアプリケーションが実行されなかったことを確認しましたがよりします。 つまり、1 つのアプリケーションを実行している 1 台のコンピューターも、Active Directory は、従来のプロトコルと認証メカニズムをサポートするために構成されているためには、ドメイン全体またはフォレスト全体の脆弱性をもたらすことができます。  
  
従来のシステムとアプリケーションを排除するには、識別しをそれらのカタログを作成し、アップグレードまたはアプリケーションまたはホストを交換するかどうかを特定する方法を集中する必要があります。 そのできますが、代替機能がサポートとのアップグレード パスのどちらも非常に特殊なアプリケーションを検索するが難しいことができます「クリエイティブ破棄」と呼ばれる概念を活用するために必要な機能を提供する新しいアプリケーションで、レガシ アプリケーションを置き換えるにします。 [セキュリティ侵害を計画する](../../../ad-ds/plan/security-best-practices/../../../ad-ds/plan/security-best-practices/Planning-for-Compromise.md)このドキュメントの後半で「侵害の計画」で詳しく説明に記載されています。  
  
### <a name="misconfiguration"></a>構成が正しくないです。  
*法律番号 4: 第一に保護されたしないコンピューターにセキュリティ修正プログラムをインストールするには、大きなメリットはありません。* - [10 Immutable Laws of Security Administration](https://technet.microsoft.com/library/cc722488.aspx)  
  
現在とパッチが適用されたシステムが保持、通常、環境であってもよく特定ギャップや、オペレーティング システムの構成の不備コンピューター、および Active Directory で実行されるアプリケーションします。 一部の構成の不備公開、セキュリティ侵害をローカル コンピューターのみが、コンピューターが「所有」攻撃者が通常に集中と最終的に他のシステム間で、Active Directory にさらに、セキュリティ侵害を伝達します。 次に、いくつかの共通の分野でリスクを招くがある構成を特定しました。  
  
#### <a name="in-active-directory"></a>Active Directory で  
攻撃者が最もよく対象とする Active Directory のアカウントでは、ドメイン管理者 (DA)、Enterprise Admins (EA) または Active Directory の組み込みの管理者 (BA) グループのメンバーなど、最も高い権限を持つグループのメンバーなっているものです。 これらのグループのメンバーシップは、これらのグループに攻撃される面が制限されるように考えられるアカウントの数が最も少ないに短縮する必要があります。 これらの特権グループのメンバーシップを「永続的な」を排除することもつまり、自分のドメインおよびフォレスト全体の権限が必要なときだけ一時的にこれらのグループを作成するときにできるようにする設定を実装できます。 高い特権を持つアカウントを使用する場合は、ドメイン コントローラーまたはセキュリティで保護された管理ホストなどの指定された、セキュリティで保護されたシステムでのみ使用してください。 これらの構成のすべての実装に役立つ詳細情報が提供されている[Active Directory の攻撃対象領域を減らす](../../../ad-ds/plan/security-best-practices/../../../ad-ds/plan/security-best-practices/../../../ad-ds/plan/security-best-practices/Reducing-the-Active-Directory-Attack-Surface.md)します。  
  
おは、Active Directory 内の最上位の特権グループのメンバーップを評価するときによくわかります過剰なメンバーシップ 3 つのほとんどの特権を持つグループのすべての。 場合によっては、組織は重複除去は、数百もの DA グループ内のアカウントがあります。 その他の場合は、組織アカウントに配置そのグループがであると考えて、ビルトインの Administrators グループに直接"特権"DAs グループよりも低くなります。 そうじゃないです。 EA 特権がほとんどありませんし、一時的に必要であることに関係なく、フォレスト ルート ドメインに多くの場合のほんの一部 EA グループの永続的なメンバーが判明しました。 次の 3 つのすべてのグループでの IT ユーザーの日常的な管理者アカウントの検索も、一般的な場合でも、これは、冗長な効果的に構成できます。 」の説明に従って[Active Directory の攻撃対象領域を減らす](../../../ad-ds/plan/security-best-practices/../../../ad-ds/plan/security-best-practices/../../../ad-ds/plan/security-best-practices/Reducing-the-Active-Directory-Attack-Surface.md)アカウントがこれらのグループのいずれか、または、それらのすべての永続的なメンバーであるかどうか、アカウントが、セキュリティ侵害し、AD DS 環境と、システムおよびそれによって管理されているアカウントにも破棄することできます。 安全な構成と Active Directory 内の特権のアカウントの使用に関する推奨事項が提供されている[Active Directory の攻撃対象領域を減らす](../../../ad-ds/plan/security-best-practices/../../../ad-ds/plan/security-best-practices/../../../ad-ds/plan/security-best-practices/Reducing-the-Active-Directory-Attack-Surface.md)します。  
  
#### <a name="on-domain-controllers"></a>ドメイン コントローラー  
多くの場合を見つけられる、ドメイン コントローラー評価する際は、構成および管理をメンバー サーバー異なることを検索します。 あります、ドメイン コントローラーは、同じアプリケーションと、ドメイン コントローラーで、必要なためにありませんが、アプリケーションは標準的なビルドの一部であるために、メンバー サーバーにインストールされているユーティリティを実行します。 これらのアプリケーションは最小限の機能を提供するドメイン コントローラーで可能性がありますが、構成設定のポートを開く、高い権限を持つサービス アカウントを作成またはユーザー認証、およびグループ ポリシーの適用以外の目的のドメイン コントローラーに接続する必要がありますできませんにシステムへのアクセス許可を要求することで、攻撃対象領域を大幅に追加します。 一部の侵害攻撃者はドメイン コントローラーだけでなく、ドメイン コントローラーにアクセスするが、変更または AD DS データベースが破損に既にインストールされているツールを使用しました。  
  
ドメイン コントローラー上で Internet Explorer の構成設定を展開しましたと高度な Active Directory 内に権限があり、ドメイン コントローラーから、インターネットとイントラネットにアクセスするアカウントを使用するアカウントでログオンしたユーザーがわかります。 場合によっては、Internet Explorer の設定を構成、コンテンツのインターネット ダウンロードを許可するようにドメイン コントローラーで、アカウントとフリーウェア ユーティリティのインターネット サイトからダウンロードされ、ドメイン コントローラーにインストールされています。 既定では、ユーザーおよび管理者向けに Internet Explorer セキュリティ強化の構成が有効になっている、多くの場合で観察はまだ管理者を無効になっています。 高い権限を持つアカウントでは、インターネットにアクセスするし、任意のコンピューターにコンテンツをダウンロード、そのコンピューターは重大なリスクに配置します。 コンピューターがドメイン コントローラーの場合は、AD DS インストール全体が危険にさらされます。  
  
##### <a name="protecting-domain-controllers"></a>ドメイン コントローラーの保護  
ドメイン コントローラーの重要なインフラストラクチャ コンポーネントとして扱われる、厳重にセキュリティで保護およびファイル、印刷、およびアプリケーション サーバーよりも厳格で構成されている必要があります。 ドメイン コントローラーでは、ドメイン コントローラーが機能するは必要ありませんまたは攻撃からドメイン コントローラーを保護しないソフトウェアを実行する必要がありますされません。 ドメイン コントローラーをインターネットへのアクセスを許可しないでとセキュリティ設定を構成およびグループ ポリシー オブジェクト (Gpo) によって適用される必要があります。 では、セキュリティで保護されたインストール、構成、およびドメイン コントローラーの管理に関する詳細な推奨事項が提供される[攻撃からドメイン コントローラーのセキュリティで保護する](../../../ad-ds/plan/security-best-practices/Securing-Domain-Controllers-Against-Attack.md)します。  
  
#### <a name="within-the-operating-system"></a>オペレーティング システム内で  
*法律もう 1 つ: 改ざんした場合、悪意のあるユーザー、コンピューター上のオペレーティング システム、もはやそれは、コンピューターではないです。* - [Ten Immutable Laws of Security (Version 2.0)](https://technet.microsoft.com/security/hh278941.aspx)  
  
一部の組織では、さまざまな種類のサーバーの基準の構成を作成し、インストールした後に、オペレーティング システムの制限のカスタマイズを許可する、分析が侵害された環境の多くの場合が明らかになった多数のサーバー、アドホックな方法で展開されているし、独立して手動で構成されています。 どちらのサーバーが安全に構成されている場合、同じ機能を実行する 2 台のサーバー間での構成がまったく異なる可能性があります。 逆に、サーバーの構成基準可能性があります、一貫して適用がも一貫して正しく構成されていません。つまり、サーバーは、特定の種類のすべてのサーバー上で同じの脆弱性を作成する方法で構成されます。 システム、および承認されていないアプリケーションと、独自の脆弱性を作成するユーティリティの許可インストール全体を同一のローカルの資格情報の使用過剰な権限とアカウント (特にサービス アカウント) へのアクセス許可を付与する、構成が正しくないにセキュリティ機能の無効化などのプラクティスが含まれます。  
  
##### <a name="disabling-security-features"></a>セキュリティ機能を無効にします。  
組織が無効にして Windows ファイアウォールで高度なセキュリティの (WFAS) から信念 WFAS を構成するは困難か、作業負荷の高い構成が必要です。 ただし、以降で、Windows Server 2008 と任意の役割または機能がサーバーにインストールされている、構成されている既定の役割または機能を使用する、必要な最小限の特権で Windows ファイアウォールが役割または機能をサポートするために自動的に構成します。 WFAS を無効にすると、その場所に別のホストベースのファイアウォールを使用していない) によっては、組織は、全体の Windows 環境の攻撃対象領域を増やします。 Perimeter firewalls provide some protection against attacks that directly target an environment from the Internet, but they provide no protection against attacks that exploit other attack vectors such as [drive-by download](https://www.microsoft.com/security/sir/glossary/drive-by-download-sites.aspx) attacks, or attacks that originate from other compromised systems on the intranet.  
  
管理スタッフ検索画面の指示が高過ぎないために、サーバー上でユーザー アカウント制御 (UAC) 設定は無効にことがあります。 Although [Microsoft Support article 2526083](https://support.microsoft.com/kb/2526083) describes scenarios in which UAC may be disabled on Windows Server, unless you are running a server core installation (where UAC is disabled by design), you should not disable UAC on servers without careful consideration and research.  
  
その他の場合は、サーバーの設定は、安全性が低い値の組織は、オペレーティング システムでの変更を反映するように基準を変更することがなく、Windows Server 2012、Windows Server 2008 R2、または Windows Server 2008 を実行しているコンピューターに Windows Server 2003 の基準を適用するなど、新しいオペレーティング システムに古いサーバーの構成設定を適用するために構成されます。 新しいオペレーティング システムを展開するときに、新しいオペレーティング システムに古いサーバー基準を実行するのではなく、セキュリティの変更と実装設定が適用されると、新しいオペレーティング システムに適したであることを確認する構成設定を確認します。  
  
##### <a name="granting-excessive-privilege"></a>過剰な特権を付与します。  
環境ではほぼすべて評価しましたが、ローカルおよびドメイン ベースのアカウントに Windows システムに過剰な特権が付与されます。 ユーザーが各自のワークステーションのローカルの管理者権限を付与、メンバー サーバーが機能するために必要な範囲を超える権限が構成されているサービスを実行およびサーバー母集団全体でローカルの Administrators グループには、重複除去はまたは数百ものローカルおよびドメイン アカウントが含まれています。 コンピューターの 1 つだけの特権を持つアカウントのセキュリティ侵害には、すべてのユーザーと、コンピューターとその他のシステムを侵害して反映されるまで収穫と活用の資格情報ログに記録するサービスのアカウントのセキュリティを侵害する攻撃者ができます。  
  
Pass-the-hash (PTH) およびその他の資格情報盗難攻撃はユビキタス今日では、簡単にそれを自由に使用できるツールがあるためでありときに、攻撃者はその他の特権アカウントの資格情報を抽出する簡単なコンピューターへの管理者またはシステム レベルのアクセスを獲得します。 ログオン セッションからの資格情報の収集を許可するツール、しなくても、コンピューターへのアクセス権限を持つ攻撃者はキーストローク、スクリーン ショット、クリップボードの内容をキャプチャ キーストローク ロガーを簡単にインストールできます。 An attacker with privileged access to a computer can disable antimalware software, install rootkits, modify protected files, or install malware on the computer that automates attacks or turns a server into a [drive-by download](https://www.microsoft.com/security/sir/glossary/drive-by-download-sites.aspx) host.  
  
単一コンピューター以外にも、侵害を拡張するために使用する方法が異なりますが、セキュリティ侵害を伝達するキーが高い権限を持つシステムへのアクセス追加購入します。 任意のシステムに特権アクセスを持つアカウントの数を削減だけでなく、そのコンピューターが、コンピューターからの重要な資格情報を収集し、攻撃者が発生する可能性の攻撃対象領域を削減できます。  
  
##### <a name="standardizing-local-administrator-credentials"></a>ローカル管理者の資格情報を標準化します。  
長いして値を Windows コンピューターでローカルの管理者アカウントの名前であるかどうかとしてセキュリティの専門家の間で議論います。 実際には、ローカルの管理者アカウントの重要な新機能は、かどうかが構成されている同じユーザー名とパスワードを持つ複数のコンピューターです。  
  
サーバー全体で同じ値にローカルの Administrator アカウントがという名前をアカウントに割り当てられているパスワードが同じ値にも構成されている場合は、攻撃者がアクセスの取得したどの管理者またはシステム レベルの 1 台のコンピューター アカウントの資格情報を抽出できます。 攻撃者が最初に管理者アカウントを侵害する必要はありません。LocalSystem として、または管理者特権でを実行するように構成されたサービス アカウントのまたはローカルの Administrators グループのメンバーであるユーザーのアカウントを低下する必要がありますのみ。 攻撃者は、管理者アカウントの資格情報を抽出し、ネットワーク上の他のコンピューターをネットワーク ログオンでそれらの資格情報を再生します。  
  
別のコンピューターに、同じユーザー名とパスワード (またはパスワードのハッシュ) として表示されているアカウントの資格情報を持つローカル アカウントがある限り、ログオンの試行が成功して、攻撃者は、対象のコンピューターへのアクセス権限を取得します。 In current versions of Windows, the built-in Administrator account is [disabled by default](https://technet.microsoft.com/library/cc753450.aspx), but in legacy operating systems, the account is enabled by default.  
  
> [!NOTE]  
> 一部の組織は、その他のすべての特権アカウントは、システムからロックアウトされた場合に、「フェイル セーフ」これにより、信念で有効にするローカルの管理者アカウントを意図的に構成しています。 However, even if the local Administrator account is disabled and there are no other accounts available that can enable the account or log on to the system with Administrator privileges, the system can be booted into safe mode and the built-in local Administrator account can be re-enabled, as described in [Microsoft Support article 814777](https://support.microsoft.com/kb/814777). さらに、システムは、まだ正常に Gpo を適用する場合 (一時的に)、管理者アカウントを再度有効にする GPO を変更することができますか、制限されたグループは、ドメイン ベースのアカウントをローカルの Administrators グループに追加するように構成できます。 管理者アカウントを無効にするもう一度と修復を実行できます。 組み込み: ローカル管理者アカウントの資格情報を使用する、横方向のセキュリティ侵害を効果的に防ぐためには、一意のユーザー名とパスワードをローカルの管理者アカウントの構成する必要があります。 To deploy unique passwords for local Administrator accounts via a GPO, see [Solution for management of built-in Administrator account's password via GPO](https://technet.microsoft.com/mt227395.aspx) on technet.  
  
##### <a name="permitting-installation-of-unauthorized-applications"></a>承認されていないアプリケーションのインストールを許可します。  
*法律の 1 つは悪意のある攻撃者は、コンピューター上のプログラムを実行するように誘導する場合、はありませんコンピューターのみを目的としてできなくなります。* - [Ten Immutable Laws of Security (Version 2.0)](https://technet.microsoft.com/security/hh278941.aspx)  
  
組織がサーバーにわたって一貫性のあるベースライン設定を展開するかどうか、サーバーの定義されている役割の一部ではないアプリケーションのインストールは許可されません。 ソフトウェアをインストールするサーバーの指定された機能の一部ではないことを許可すると、サーバーは、サーバーの攻撃対象領域の増加、アプリケーションの脆弱性が導入されています、またはシステムが不安定になると、ソフトウェアのインストールに誤ってまたは悪意のあるに公開されます。  
  
#### <a name="applications"></a>アプリケーション  
前述のように、アプリケーションは多くの場合インストールし、アプリケーションよりも多くの権限が実際に必要と付与されているアカウントを使用するように構成します。 場合によっては、アプリケーションのドキュメントには、サービス アカウントがサーバーのローカルの Administrators グループのメンバーである必要がありますか、LocalSystem のコンテキストで実行するように構成する必要があることを指定します。 これは多くの場合いないアプリケーションが、その権限が必要ですが、アプリケーションのサービス アカウントが必要に追加の時間と労力、投資が必要な権限とアクセス許可を決定するためです。 アプリケーションに必要な最低限の特権を持つアプリケーションはインストールされませんに機能する機能を構成している場合は、システムは、せず、攻撃に対して、オペレーティング システム自体のアプリケーションの特権を利用する攻撃にさらされます。  
  
### <a name="lack-of-secure-application-development-practices"></a>セキュリティで保護されたアプリケーションを開発する方法が不足しています。  
ビジネス ワークロードをサポートするインフラストラクチャが存在しています。 カスタム アプリケーションでは、これらのワークロードが実装されている、セキュリティで保護のベスト プラクティスを使用してアプリケーションを開発することを確認するが重要です。 最初のセキュリティ侵害がカスタムによって影響を受けることが多くの場合表示全社的な問題の根本原因の分析アプリケーション特にされるインターネットが直面しています。 これらのセキュリティ侵害のほとんどは、SQL 挿入 (SQLi) などのよく知られた攻撃のセキュリティ侵害を介して確立して、攻撃クロスサイト スクリプト (XSS) します。  
  
SQL インジェクションを実行するため、データベースに渡される SQL ステートメントを変更するユーザー定義の入力を許可するアプリケーションの脆弱性です。 この入力は、アプリケーション、(クエリ文字列または Cookie) などのパラメーターやその他の方法でフィールド経由で提供できます。 このインジェクションの結果は、データベースに提供される SQL ステートメントは基本的に、どのような開発者の意図よりも異なることです。 たとえば、ユーザー名/パスワードの組み合わせの評価に使用される一般的なクエリを実行します。  
  
`SELECT userID FROM users WHERE username = 'sUserName' AND password = 'sPassword'`  
  
これは、受信すると、データベース サーバーで、サーバーをユーザーの表を参照して任意のユーザー ID のレコードがユーザー名とパスワードと一致 (おそらく何らかのログイン フォーム) 経由でユーザーによって提供されるものを指示します。 自然な開発者の目的は、のみ有効なレコードを返す場合は、正しいユーザー名とパスワードをユーザーによって提供されることができますをここでは。 いずれかが正しくない、データベース サーバーは一致するレコードを見つけて、空の結果を返すことができません。  
  
攻撃者が有効なデータの代わりに、独自の SQL を提供するなどの予期しない問題が発生します。 SQL でインタープリター型の場で、データベース サーバーであるために、開発者が自身の配置が場合のように挿入されたコードが処理されますがします。 たとえば、攻撃者が入力した場合**管理者**ユーザー ID のおよび**xyz**または**1 = 1**、パスワードとして、データベースで処理された結果として得られるステートメントになります。  
  
`SELECT userID FROM users WHERE username = 'administrator' AND password = 'xyz' OR 1=1`  
  
このクエリが処理されると、データベース サーバーで、テーブル内のすべての行が返されます、クエリで 1 = 1 は常に True と評価、したがってため、正しいユーザー名とパスワードまたは侵害が提供されている場合は関係ありません。 ほとんどの場合、最終的な結果は、ユーザーがログオンするユーザーのデータベースの最初のユーザーとしてほとんどの場合、管理ユーザーになります。  
  
に加えて、単にログ記録、形式が正しくない SQL ステートメントのこの使用して追加することなど、削除、またはデータを変更またはでも (削除) テーブル全体をデータベースから削除します。 SQLi が過剰な特権を組み合わせて極端な場合、攻撃者が選択したその他の操作を実行するか、攻撃ツールをダウンロードする、新しいユーザーの作成を有効にするオペレーティング システムのコマンドを実行できます。  
  
クロスサイト スクリプトでは、脆弱性は、アプリケーションの出力で導入されました。 攻撃から始まる形式が正しくないデータ、アプリケーションを提供する攻撃者は、ここでは、形式が正しくないデータが被害者のブラウザーで実行する (JavaScript) などのスクリプト コードの形式でします。 XSS の脆弱性の悪用には、攻撃者がユーザーのコンテキストで目的のアプリケーションのすべての機能を実行する、ブラウザーの起動を許可できます。 XSS 攻撃は、通常、アプリケーションに接続し、攻撃のコードを実行するリンクをクリックして、ユーザーを誘発フィッシング電子メールで開始されます。  
  
オンライン バンキングや電子商取引シナリオ、攻撃者が買い物または悪用されたユーザーのコンテキストで送金位置で XSS が悪用される多くの場合。 カスタムの Web ベースの ID 管理アプリケーションを対象となる、攻撃の場合、攻撃者が独自の ID を作成、変更アクセス許可と権利、およびシステム的なセキュリティ侵害につながる可能性をことができます。  
  
クロスサイト スクリプトおよび SQL 挿入の詳細については、このドキュメントの範囲外ですが、[開いている Web アプリケーション セキュリティ プロジェクト (OWASP)](https://www.owasp.org/index.php/Main_Page)脆弱性とその対策のトップ 10 リスト内で深度ディスカッションを公開します。  
  
セキュリティのインフラストラクチャに投資に関係なく、そのインフラストラクチャ内で適切に設計され、書き込まれたアプリケーションが展開されている場合、環境が構成されて攻撃に対して脆弱になります。 多くの場合でも、適切に保護されたインフラストラクチャは、これらのアプリケーションの攻撃に対して効果的な対策を提供できません。 サービス アカウントが機能するためにアプリケーションの過剰なアクセス許可を付与する問題を複合、適切に設計されたアプリケーションを必要があります。  
  
Microsoft セキュリティ開発ライフ サイクル (SDL) は、要件を収集し、それを使用停止になるまでのアプリケーションのライフ サイクルを通して拡張の早い段階でセキュリティの先頭を向上させるために使用できる構造プロセス コントロールのセットです。 この統合効果的なセキュリティ コントロールの重要ではないのみセキュリティの観点から、アプリケーションのセキュリティのコストであることを確認する重要なされ有効なスケジュールを設定します。 完全なコードは、有効なときに、アプリケーションのセキュリティの問題を評価するには、組織は前にのみ、またはアプリケーションを展開した後でも、アプリケーションのセキュリティに関する決定を行う必要があります。 組織コストと、遅延が生じること、実稼働環境でアプリケーションを展開する前に、アプリケーションの問題に対処を選択するか、実稼働環境で既知のセキュリティ上の欠陥、セキュリティを侵害する組織を公開するアプリケーションを展開することができます。  
  
一部の組織はドル問題、ごとに 10,000 の上に実稼働コードのセキュリティの問題を解決するは、すべてのコストを置き、効果的な SDL せずに開発されたアプリケーションが 100,000 数行のコードごとに 10 個を超えるの重要度の高い問題を平均します。 大規模なアプリケーションで、コストを迅速にエスカレートします。 これに対し、多くの企業は、最終的なコード レビューの段階でも、SDL 100,000 数行のコードごとの問題の 1 つ未満のベンチマークを設定し、実稼働環境での危険度の高いアプリケーションでは、ゼロ問題を目標とします。  
  
SDL の実装要件の収集の早い段階でセキュリティ要件を含めることによってセキュリティが向上し、脅威の危険度の高いアプリケーションのモデル化を提供するアプリケーションの設計有効なトレーニングと開発者の監視が必要です。オフ、一貫性のあるコード基準や運用方法を必要とします。 SDL の最終的な効果は、アプリケーションのセキュリティが大幅に向上を作成、展開、保守、およびアプリケーションの使用を停止するためのコストを削減しながらです。 Although a detailed discussion of the design and implementation of SDL is beyond the scope of this document, refer to the [Microsoft Security Development Lifecycle](https://www.microsoft.com/security/sdl/default.aspx) for detailed guidance and information.  
  


