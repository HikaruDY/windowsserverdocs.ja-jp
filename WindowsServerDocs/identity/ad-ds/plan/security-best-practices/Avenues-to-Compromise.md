---
ms.assetid: d7a4d2e1-217d-4ffc-93f0-817149bd9e7f
title: セキュリティ侵害に至る過程
description: ''
author: MicrosoftGuyJFlo
ms.author: joflore
manager: mtillman
ms.date: 05/31/2017
ms.topic: article
ms.prod: windows-server-threshold
ms.technology: identity-adds
ms.openlocfilehash: 916bffd4f83e5c72816035542772342010e1a67c
ms.sourcegitcommit: 0d0b32c8986ba7db9536e0b8648d4ddf9b03e452
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/17/2019
ms.locfileid: "59874483"
---
# <a name="avenues-to-compromise"></a>セキュリティ侵害に至る過程

>適用先:Windows Server 2016 では、Windows Server 2012 R2、Windows Server 2012

*鉄則 7 番号します。最も安全なネットワークとは、適切に管理されている 1 つです。* - [セキュリティ管理の 10 の鉄則](https://technet.microsoft.com/library/cc722488.aspx)  
  
セキュリティ侵害の重大なイベントが発生した組織の場合は、評価、通常、表示、組織でから大幅に異なる場合があります IT インフラストラクチャの実際の状態を可視化が制限されている、"と記載されている"示されます。 これらの差異は、侵害、多くの場合、検出、セキュリティ侵害を進めたを攻撃者が効果的に「所有」環境ポイントになるまでのリスクを最小限にするための環境を公開する脆弱性を紹介します。  
  
これらの組織の AD DS の構成、公開キー基盤 (Pki)、サーバー、ワークステーション、アプリケーションの詳細な評価のアクセス制御リスト (Acl)、およびその他のテクノロジは、構成の誤りと脆弱性を表示するには場合、修復、初期のセキュリティ侵害を読み込めない可能性があります。  
  
IT のドキュメント、プロセス、およびプロシージャの分析は、管理作業、最終的に、Active Directory フォレストを完全に侵害に使用された特権を取得する攻撃者が利用された際のギャップによって導入された脆弱性を識別します。 完全セキュリティを侵害されたフォレストは、攻撃者が危険にさらすだけでなくの個々 のシステム、アプリケーション、またはユーザーのアカウントがエスカレートのアクセス レベルの特権を変更またはフォレストのすべての側面を破棄することができますを取得する 1 つです。 ときに、Active Directory のインストールが侵害された場合に度、攻撃者実行できること、環境、または最悪の場合、ディレクトリ、システム、管理アカウントを破棄する全体でのプレゼンスを維持することができるようにする変更。  
  
(特権の権限の昇格を実行するために使用する環境で足掛かりを確立するために攻撃者を許可する数以下の説明でよく悪用された脆弱性は Active Directory に対する攻撃ではありませんが、昇格) は攻撃の対象に最終的にし、AD DS を危険にさらします。  
  
このドキュメントのこのセクションでは、攻撃者は、通常、インフラストラクチャにアクセスして、最終的に特権昇格攻撃を仕掛けることに使用するメカニズムの説明に焦点を当てています。 また、次のセクションを参照してください。  
  
-   [Active Directory の攻撃対象領域を減らす](../../../ad-ds/plan/security-best-practices/../../../ad-ds/plan/security-best-practices/../../../ad-ds/plan/security-best-practices/Reducing-the-Active-Directory-Attack-Surface.md)Active Directory のセキュリティで保護された構成に関する推奨事項を詳しく説明します。  
  
-   [Active Directory の侵害の兆候の監視](../../../ad-ds/plan/security-best-practices/Monitoring-Active-Directory-for-Signs-of-Compromise.md)セキュリティ侵害を検出するために推奨事項  
  
-   [侵害対策を計画](../../../ad-ds/plan/security-best-practices/../../../ad-ds/plan/security-best-practices/Planning-for-Compromise.md)からインフラストラクチャに対する攻撃の準備を行う高度なアプローチ IT とビジネスの展望  
  
> [!NOTE]  
> このドキュメントが AD DS ドメインの一部である Active Directory と Windows のシステムに重点が攻撃者は Active Directory と Windows でのみフォーカスことはほとんどありません。 オペレーティング システム、ディレクトリ、アプリケーション、およびデータのリポジトリの混在環境では、Windows 以外のシステムが侵害されても、検索する一般的なは。 これは、システムが Windows と UNIX または Linux クライアント、認証サービスは、複数のオペレーティング システムを提供するディレクトリによってアクセスされるファイル サーバーなどの Windows と Windows 以外の環境間「ブリッジ」を提供する場合に特に当てはまりますか異なるディレクトリ間でデータを同期するメタディレクトリします。  
>   
> AD DS は対象として機能のため、一元的なアクセスと構成の管理だけでなく、Windows システムに、他のクライアントに提供します。 他の任意のディレクトリまたはアプリケーション認証と構成の管理サービスを提供することができ、攻撃者の対象となります。 ディレクトリ、アプリケーション、またはデータのリポジトリを準備する必要がありますもこのドキュメントは、Windows 以外のコンピューターを含むすべての組織の Active Directory インストールのセキュリティ侵害の可能性を減らすための保護に焦点を当てていますこれらのシステムに対する攻撃です。  
  
## <a name="initial-breach-targets"></a>侵害の初期ターゲット  
誰も意図的に侵害する組織を公開する IT インフラストラクチャを構築します。 Active Directory フォレストが最初に構築されるときに、通常はあなたの汚れなきと現在 フォレストに追加された年を渡すし、新しいオペレーティング システムやアプリケーションは、取得、します。 Active Directory が提供する管理の容易性の利点が認識されて、ますます多くのコンテンツ ディレクトリに追加より多くの人が自分のコンピューターまたはアプリケーションを AD DS と統合および最もによって提供される新しい機能をサポートするためにドメインがアップグレードされました。Windows オペレーティング システムの現在のバージョン。 時間の経過と共に起こるもただしこと、新しいインフラストラクチャが追加されているときでも、インフラストラクチャの他の部分が最初にあったも保持されません。 可能性があります、システムおよびアプリケーションが適切に機能は受信されません。注意、および組織が従来のインフラストラクチャをしない解消していることを忘れがち開始します。 評価のセキュリティを侵害されたインフラストラクチャは、「に基づいて、古いサイズが大きく、より複雑なよく悪用された脆弱性の多数のインスタンスがあることは、環境では、可能性が高くなります。  
  
攻撃者の動機に関係なくほとんどの情報セキュリティ侵害を一度に 1 つまたは 2 つのシステムの侵害を開始します。 これらの初期イベント、または、ネットワークへのエントリ ポイントは多くの場合、でしたが修正されましたが、なかったの脆弱性を活用します。 [2012 データ侵害調査レポート (DBIR)](http://www.verizonbusiness.com/resources/reports/rp_data-breach-investigations-report-2012_en_xg.pdf)さまざまな国家安全保障機関や他の企業の協力 Verizon リスク チームによって生成された年間の調査には、攻撃の 96% が"not された状態高いは難しく、"、「侵害の 97% いた単純型または中間のコントロールを回避します」 これらの検出結果には、直接的な結果の後に続くよく悪用された脆弱性の可能性があります。  
  
### <a name="gaps-in-antivirus-and-antimalware-deployments"></a>ウイルス対策およびマルウェア対策のデプロイのギャップ  
*鉄則 8 番号します。古くなったマルウェア スキャナーはまったくありませんスキャナーも同然のみです。* - [(バージョン 2.0) のセキュリティに関する 10 の鉄則](https://technet.microsoft.com/security/hh278941.aspx)  
  
組織のウイルス対策およびマルウェア対策のデプロイの分析には、多くの場合のほとんどのワークステーションが有効になっているウイルス対策およびマルウェア対策のソフトウェアで構成され、現在を環境が表示されます。 例外は、通常は、どのウイルス対策およびマルウェア対策のソフトウェアが困難になる、更新の展開、構成、会社の環境や従業員のデバイスに接続する頻度の低いワークステーションです。  
  
ただし、サーバーの作成は、多くのセキュリティを侵害された環境で一貫して保護が低下する傾向があります。 報告される、 [2012 データ侵害調査](http://www.verizonbusiness.com/resources/reports/rp_data-breach-investigations-report-2012_en_xg.pdf)すべてのデータの 94% は、18% を超える前の年を表す、関連するサーバーを侵害や攻撃の 69% には、マルウェアが組み込まれています。 サーバーの作成で珍しくないことウイルス対策およびマルウェア対策のインストールは一貫性が構成されている、または検索に期限切れ、正しく構成されていないも無効になっています。 場合によっては、管理スタッフは、ウイルス対策およびマルウェア対策ソフトウェアが無効になっていますが、それ以外の場合、攻撃者は他の脆弱性を使用してサーバーを侵害した後に、ソフトウェアを無効にします。 ウイルス対策およびマルウェア対策ソフトウェアを無効にすると、攻撃者は、サーバー上のマルウェアの工場し、サーバー生成の間でセキュリティ侵害を伝達することに注目します。  
  
およびだけでなく、システムが現在、包括的なマルウェア対策で保護されていることを確認するも無効化またはウイルス対策およびマルウェア対策ソフトウェアの削除のシステムの監視になったときに、保護を自動的に再起動重要です。手動で無効になっています。 防止とすべての感染の検出、ウイルス対策およびマルウェア対策ソフトウェアは保証できるなし、正しく構成され、デプロイされたウイルス対策およびマルウェア対策実装は感染の可能性を削減できます。  
  
### <a name="incomplete-patching"></a>不完全な修正プログラムの適用  
*鉄則 3 の番号します。場合は常にセキュリティ修正プログラムで、ネットワークしません長くはもたないだろうです。* - [セキュリティ管理の 10 の鉄則](https://technet.microsoft.com/library/cc722488.aspx)  
  
Microsoft は、セキュリティ更新プログラムが (これらとも呼ばれます「アウト オブ バンド」更新プログラム) 月次セキュリティ更新プログラムのリリース状況はまれですが、各月の第 2 火曜日にセキュリティ情報をリリースが発生する脆弱性が決定されるとき顧客システムへの緊急度のリスクです。 小規模ビジネスが Windows Update を使用して、システムおよびアプリケーション更新プログラムを管理するには、その Windows コンピューターまたは大規模な組織構成かどうかを使用して管理ソフトウェアを System Center Configuration Manager (SCCM) などに従って修正プログラムを展開するなは、階層の計画、比較的適切なタイミングで更新プログラムが Windows インフラストラクチャの多くのお客様。  
  
ただし、いくつかのインフラストラクチャには、Windows コンピューターと、Microsoft のアプリケーションのみが含まれます。 し、侵害された環境では、組織の修正プログラム管理戦略にギャップが含まれていることに共通します。 これらの環境での Windows システムがパッチ一貫性がありませんでした。 非 Windows オペレーティング システムがすべての場合、断続的パッチします。 商用の市販 (闘い) アプリケーションには、脆弱性修正プログラムが存在するが適用されていないにはが含まれます。 ネットワーク デバイスが出荷時の既定の資格情報を持つ多くの場合、構成されているし、ファームウェア更新のインストール後の年情報はありません。 アプリケーションとそのベンダーがサポートされなくなったオペレーティング システムが多くの場合、保持されることが不要になったパッチを適用できる脆弱性に対するにもかかわらずを実行しています。 それぞれの未適用システムは、攻撃者のもう 1 つの潜在的なエントリ ポイントを表します。  
  
コンシューマー主導型の IT がその従業員に導入された追加のチャレンジ所有デバイスは会社の所有されているデータへのアクセスに使用されているし、修正プログラムの適用と従業員の個人のデバイスの構成なしにほとんどの管理がありません。 エンタープライズ クラスのハードウェアは、エンタープライズ対応の構成オプションおよび管理機能、カスタマイズとデバイスの個々 の選択内の以下の選択肢を犠牲に通常付属します。 ハードウェアの従業員に重点を置いた広い範囲の製造元、ベンダー、ハードウェア セキュリティ機能、ソフトウェアのセキュリティ機能、管理機能および構成のオプションを提供して、多くのエンタープライズ機能をまったく存在しない場合は。  
  
#### <a name="patch-and-vulnerability-management-software"></a>修正プログラムや脆弱性管理ソフトウェア  
効果的な更新プログラムの管理システムが、Windows システムと Microsoft のアプリケーションの場所にある場合は、未修正の脆弱性を作成する攻撃対象領域の一部が解決されています。 ただし、Windows 以外のシステム、Microsoft 以外のアプリケーション、ネットワーク インフラストラクチャ、および従業員のデバイスが最新の修正プログラムやその他の修正もが保持、しない限り、インフラストラクチャは脆弱なままです。 場合によっては、アプリケーションのベンダーが自動更新機能を提供できます。他の実行で定期的に取得し、修正プログラムやその他の修正を適用するためのアプローチを検討する必要があります。
  
### <a name="outdated-applications-and-operating-systems"></a>古いバージョンのアプリケーションとオペレーティング システム  
*「6-月-古い攻撃から保護する 6 年前のオペレーティング システムを求めることはできません」です。* 10 年間で情報セキュリティの専門家が発生するセキュリティで保護するエンタープライズ インストール  
  
「現在の取得、最新の」マーケティング語句、古いオペレーティング システムおよびアプリケーションで多数の組織のリスクを作成するように聞こえますが IT インフラストラクチャ。 2003 でリリースされたオペレーティング システムのベンダーでサポートされているし、オペレーティング システムには、オペレーティング システムの新しいバージョンで追加されたセキュリティ機能が含まれていない可能性がありますが、脆弱性を解決する更新プログラムが用意されても可能性があります。 古いシステムでは、これらのコンピューターのより低い機能をサポートする特定の AD DS セキュリティ構成の脆弱性が要求もできます。  
  
レガシ認証プロトコルを使用するアプリケーションを通常サポートが不要になったベンダーによって作成されたアプリケーションより強力な認証メカニズムをサポートするために retooled ことはできません。 ただし、組織の Active Directory ドメインは LAN Manager ハッシュまたはこのようなアプリケーションをサポートするために可逆的に暗号化されたパスワードの格納に構成できます。 それ以降のオペレーティング システムの導入前に記述されたアプリケーションもまたは古いのシステムを維持するために組織を必要とする、現在のオペレーティング システム上で、いくつかの場合、完全にサポートされていないハードウェアおよびソフトウェアで機能しません。  
  
組織が Windows Server 2012、Windows Server 2008 R2、または Windows Server 2008 のドメイン コント ローラーを更新した場合でも、Windows Server 2003、Windows が実行されているサーバーの作成、メンバーの重要な部分を検索する一般的です2000 server または Windows NT Server 4.0 (これは、完全にサポートされていません)。 組織が経時システムを保有する期間が長くより機能セットの間には、不一致が拡大、および可能性が高くなります実稼働システムがサポートされてがあります。 さらに、長くなる Active Directory フォレストには、アップグレード プランで、レガシ システムとアプリケーションが実行されなかったことを確認しましたがより。 つまり、従来のプロトコルと認証メカニズムをサポートする Active Directory が構成されているために、1 つのアプリケーションを実行している 1 台のコンピューターがドメインまたはフォレスト全体の脆弱性を導入できます。  
  
レガシ システムとアプリケーションをなくすためを識別してをそれらをカタログ化にし、アップグレードまたは置き換え、アプリケーションまたはホストするかどうかを決定するを集中する必要があります。 存在するサポートもアップグレードのパスでもない非常に特殊なアプリケーションの置き換えを検索する困難な場合があります、「創造的な破棄」と呼ばれる概念を活用できる可能性がありますにレガシ アプリケーションを置き換える新しいアプリケーション必要な機能を提供します。 [侵害対策を計画](../../../ad-ds/plan/security-best-practices/../../../ad-ds/plan/security-best-practices/Planning-for-Compromise.md)はこのドキュメントの後半で「侵害の計画」で詳しく説明します。  
  
### <a name="misconfiguration"></a>構成が正しくないです。  
*鉄則 4 つの番号します。始めにセキュリティで保護されませんがコンピューターにセキュリティ修正プログラムをインストールしても役に立たない。* - [セキュリティ管理の 10 の鉄則](https://technet.microsoft.com/library/cc722488.aspx)  
  
現在とパッチが適用されたシステムが保持一般に、環境であってもよく割り出すギャップや構成の誤り、オペレーティング システムでコンピューター、および Active Directory で実行されるアプリケーション。 いくつかの構成の誤りは、セキュリティ侵害をローカル コンピューターのみを公開しますが、攻撃者が、通常は、最終的に他のシステム間で、Active Directory にさらに、セキュリティ侵害を伝達するのに注目して、コンピューターが「所有」後。 リスクを紹介する構成を割り出す一般的な領域の一部を次に示します。  
  
#### <a name="in-active-directory"></a>Active directory  
攻撃者が最もよく対象とする Active Directory のアカウントはドメイン管理者 (DA)、Enterprise Admins (EA)、またはアクティブな組み込みの管理者 (BA) グループのメンバーなど、最も高い特権を持つグループのメンバーであるものディレクトリ。 これらのグループの攻撃対象領域が制限されるよう、考えられるアカウントの数が最小にこれらのグループのメンバーシップを削減する必要があります。 これらの権限のグループのメンバーシップを「永続的な」を排除することもこれは、ドメインおよびフォレスト全体の特権が必要な場合にのみ、これらのグループを一時的に設定するための設定を実装できます。 高い特権を持つアカウントを使用している場合は、ドメイン コント ローラーまたはセキュリティで保護された管理ホストなどの指定された、セキュリティで保護されたシステムでのみ使用する必要があります。 これらの構成のすべての実装に役立つ詳細な情報が記載[Active Directory の攻撃対象領域を減らす](../../../ad-ds/plan/security-best-practices/../../../ad-ds/plan/security-best-practices/../../../ad-ds/plan/security-best-practices/Reducing-the-Active-Directory-Attack-Surface.md)します。  
  
Active Directory で最高の特権グループのメンバーシップを評価しますよく過剰なメンバーシップで検索ほとんど特権グループのすべての 3 つです。 場合によっては、組織では数十、数百もの DA グループ内のアカウントがあります。 その他の場合は、組織が考える、グループは、ビルトインの Administrators グループに直接アカウントを配置"特権"DAs グループよりも少ない。 そうじゃないです。 多くの場合、いくつかの EA のグループの永続的なメンバーを検索フォレスト ルート ドメインの EA の特権が一時的に必要なことはほとんどありませんがあることに関係なく。 3 つすべてのグループ内の IT ユーザーの日常的な管理アカウントの検索も、一般的な場合でも、これは、冗長効果的に構成できます。 」の説明に従って[Active Directory の攻撃対象領域を減らすこと](../../../ad-ds/plan/security-best-practices/../../../ad-ds/plan/security-best-practices/../../../ad-ds/plan/security-best-practices/Reducing-the-Active-Directory-Attack-Surface.md)アカウントがこれらのグループのいずれか、または、それらのすべての永続的なメンバーであるかどうか、セキュリティ侵害し、も、AD DS 環境と、システムを破壊するアカウントを使用でき、によって管理されているアカウント。 セキュリティで保護された構成と Active Directory での特権のアカウントの使用に関する推奨事項が記載[Active Directory の攻撃対象領域を減らす](../../../ad-ds/plan/security-best-practices/../../../ad-ds/plan/security-best-practices/../../../ad-ds/plan/security-best-practices/Reducing-the-Active-Directory-Attack-Surface.md)します。  
  
#### <a name="on-domain-controllers"></a>ドメイン コント ローラー  
多くの場合、見つかったドメイン コント ローラー、評価する際は、それらを構成および管理をメンバー サーバー異なるを検索します。 同じアプリケーションおよびユーティリティがドメイン コント ローラーで必要になったためではなく、アプリケーションが標準的なビルドの一部であるために、メンバー サーバーにインストールされている場合があります、ドメイン コント ローラーが実行します。 これらのアプリケーションは、ドメイン コント ローラーに最小限の機能を提供可能性がありますが、ポートを開くか、高い特権を持つサービス アカウントを作成する、ユーザーがシステムへのアクセスを許可する構成設定を要求することで、攻撃対象領域を大幅に追加します。認証およびグループ ポリシーの適用以外目的を問わず、ドメイン コント ローラーに接続できません必要があります。 いくつかの違反では、攻撃者はドメイン コント ローラーだけでなく、ドメイン コント ローラーにアクセスするが、変更、または AD DS データベースが破損に既にインストールされているツールを使用が。  
  
ドメイン コント ローラー、Internet Explorer の構成設定を抽出、ときに、ユーザーが Active Directory での特権レベルが高い、ドメインからインターネットとイントラネットにアクセスするアカウントを使用するアカウントを使ってログオンしていることがわかりますコント ローラー。 場合によっては、Internet Explorer の設定を構成、コンテンツのインターネット ダウンロードを許可するドメイン コント ローラーで、アカウントとインターネット サイトからダウンロードして、ドメイン コント ローラーにインストールされているフリーウェア ユーティリティ。 既定では、ユーザーおよび管理者向けに Internet Explorer セキュリティ強化の構成が有効になっている、つまり観察多くの場合、まだ管理者が無効になりました。 高い特権を持つアカウントでは、インターネットにアクセスするし、任意のコンピューターにコンテンツをダウンロード、そのコンピューターは、重大なリスクに配置されます。 コンピューターがドメイン コント ローラーの場合は、AD DS のインストール全体が危険にさらします。  
  
##### <a name="protecting-domain-controllers"></a>ドメイン コント ローラーを保護します。  
ドメイン コント ローラーの重要なインフラストラクチャ コンポーネントとして扱われるより厳密にセキュリティで保護およびファイル、印刷、およびアプリケーション サーバーよりも厳密に構成されている必要があります。 ドメイン コント ローラーは、関数にドメイン コント ローラーに必要でないか、攻撃からドメイン コント ローラーを保護しません任意のソフトウェアを実行する必要があります。 ドメイン コント ローラーが、インターネットへのアクセスを許可されていませんが、セキュリティ設定を構成してグループ ポリシー オブジェクト (Gpo) を適用する必要があります。 セキュリティで保護されたインストール、構成、およびドメイン コント ローラーの管理の詳細な推奨事項が記載[攻撃からドメイン コント ローラーのセキュリティで保護する](../../../ad-ds/plan/security-best-practices/Securing-Domain-Controllers-Against-Attack.md)します。  
  
#### <a name="within-the-operating-system"></a>オペレーティング システム内で  
*鉄則 1 つ。悪意のある攻撃者は、コンピューターにオペレーティング システムを変更できる場合、もはやそれは、コンピューターではないです。* - [(バージョン 2.0) のセキュリティに関する 10 の鉄則](https://technet.microsoft.com/security/hh278941.aspx)  
  
侵害された環境の分析が多くの場合、多数のサーバーにデプロイされているを得るため一部の組織では、さまざまな種類のサーバーのベースライン構成を作成し、インストールした後に、オペレーティング システムの限定的なカスタマイズを許可する、ですが、アドホックな方法、独立して手動で構成されているとします。 どちらのサーバーが安全に構成されている場合、同じ関数を実行する 2 つのサーバー間での構成がまったく異なる可能性があります。 逆に、サーバーの構成基準を一貫して適用されずも一貫して正しく構成されていません。 する可能性があります。つまり、サーバーは、指定された型のすべてのサーバー上で同じの脆弱性を作成する方法で構成されます。 構成が正しくないにはセキュリティ機能の無効化などのプラクティスが含まれています、システム、および認可のインストールの間で同一のローカル資格情報の使用過剰な権限と (特にサービス アカウント) のアカウントにアクセス許可を付与します。未承認のアプリケーションと、独自の脆弱性を作成するユーティリティ。  
  
##### <a name="disabling-security-features"></a>セキュリティ機能を無効にします。  
組織では、という WFAS を構成するは困難か、作業を要する構成が必要ですから Windows ファイアウォールで高度なセキュリティ (WFAS) を無効にする場合があります。 ただし、Windows Server 2008 以降で、サーバー上の役割または機能がインストールされているし、役割または機能を使用する、必要な最小限の特権で既定で構成されての役割をサポートするために Windows ファイアウォールが自動的に構成または、機能します。 WFAS を無効にする (およびその場所に別のホストベースのファイアウォールを使用していない) では、組織は、Windows 環境全体の攻撃対象領域を増やします。 境界ファイアウォールを直接、インターネットから環境を対象とする攻撃に対する保護をいくつかがなどその他の攻撃ベクトルを悪用した攻撃に対する保護を提供しない[ドライブ バイ ダウンロード](https://www.microsoft.com/security/sir/glossary/drive-by-download-sites.aspx)攻撃、またはイントラネット上の他のセキュリティを侵害されたシステムからの攻撃です。  
  
サーバーで管理スタッフが侵入、画面の指示を見つけるために、ユーザー アカウント制御 (UAC) の設定が無効化があります。 [Microsoft サポート記事 2526083](https://support.microsoft.com/kb/2526083) core インストール (UAC は仕様で無効)、サーバーで UAC を無効にする必要がありますいないサーバーが実行している場合を除き、Windows Server で、無効にする UAC がシナリオをについて説明しますなし、慎重に検討し調査します。  
  
安全性の低い値の組織は、Windows Server 2012、Windows を実行しているコンピューターに Windows Server 2003 の基準を適用するなど、新しいオペレーティング システムに古いサーバーの構成設定を適用するために他の場合、サーバーの設定の構成します。Server 2008 R2、または Windows Server 2008 のオペレーティング システムの変更を反映するように、この基準を変更することがなく、します。 新しいオペレーティング システムを展開するときに、新しいオペレーティング システムでは、古いサーバーの基準を実行するのではなく、セキュリティの変更と実装の設定が適用可能で、新しいオペレーティング システムの適切な構成設定を確認します。  
  
##### <a name="granting-excessive-privilege"></a>過剰な権限の付与  
ほぼすべての環境を評価しましたでは、Windows システム上のローカルおよびドメイン ベースのアカウントに過剰な特権が付与されます。 ワークステーションに機能するために必要な範囲を超える権限で構成されているサービスを実行するメンバー サーバーでローカルの管理者権限を付与して、数十または数百のサーバー母集団におけるローカルの Administrators グループが含まれてローカルとドメイン アカウント。 コンピューターで 1 つだけの特権付きアカウントのセキュリティ侵害には、すべてのユーザーと他のシステムにセキュリティ侵害を伝達する資格情報を harvest を活用して、コンピューターにログオンするサービスのアカウントを侵害する攻撃者が使用できます。  
  
Pass-the-hash (PTH) およびその他の資格情報盗難攻撃はユビキタス今日では、シンプルな無償のツールがあるため、ときに、攻撃者はその他の特権アカウントの資格情報を抽出する簡単に得られた管理者-または、コンピューターにシステム レベルのアクセス。 ログオン セッションからの資格情報を収集できるようにするツール、しなくても、コンピューターへのアクセス権限を持つ攻撃者は同じくらい簡単にキーボード操作、スクリーン ショット、およびクリップボードの内容をキャプチャするキーストローク ロガーをインストールできます。 コンピューターへのアクセス権限を持つ攻撃者できますマルウェア対策ソフトウェアを無効にする、ルートキットをインストール、変更、保護されたファイルまたは攻撃の自動化を有効に、サーバーまたはコンピューターでマルウェアがインストール、[ドライブ バイ ダウンロード](https://www.microsoft.com/security/sir/glossary/drive-by-download-sites.aspx)ホスト。  
  
1 台のコンピューター以外の侵害を拡張するために使用する方針が異なりますが、セキュリティ侵害を適用するキーが追加のシステムへの高特権アクセスの取得。 任意のシステムには、特権アクセスを持つアカウントの数を減らすだけでなく、そのコンピューターが、攻撃者がコンピューターからの重要な資格情報を収集する可能性の攻撃対象領域を削減できます。  
  
##### <a name="standardizing-local-administrator-credentials"></a>ローカル管理者の資格情報の標準化  
時間の長いされたあります Windows コンピューターでローカルの管理者アカウント名を変更する値があるかどうかとしてセキュリティ スペシャ リスト間で議論が。 複数のコンピューターで同じユーザー名とパスワードで構成されるかどうかは、ローカルの管理者アカウントの実際には重要です。  
  
サーバー間で同じ値にローカル管理者アカウントの名前は、アカウントに割り当てられているパスワードが同じ値にも構成されている場合は、攻撃者がどの管理者またはシステム レベルのアクセスを 1 台のコンピューター アカウントの資格情報を抽出できます。取得します。 攻撃者は最初に、管理者アカウントを侵害する必要はありません。管理者特権を持つまたは LocalSystem として実行するように構成するサービス アカウントまたはローカルの Administrators グループのメンバーであるユーザーのアカウントが侵害されることのみ必要があります。 攻撃者は、管理者アカウントの資格情報を抽出し、ネットワーク上の他のコンピューターをネットワーク ログオンでこれらの資格情報を再生します。  
  
別のコンピューターに、同じユーザー名とパスワード (またはパスワード ハッシュ) に表示されているアカウントの資格情報を持つローカル アカウントがある限り、ログオンの試行が成功して、攻撃者は、対象のコンピューターへのアクセス権限を取得します。 ビルトイン Administrator アカウントは、現在のバージョンの Windows では、[既定で無効になっている](https://technet.microsoft.com/library/cc753450.aspx)が既定では、従来のオペレーティング システムで、アカウントが有効になっています。  
  
> [!NOTE]  
> 一部の組織は、システムから他のすべての特権を持つアカウントがロックアウトされた場合に、「フェール セーフ」これにより、信念で有効にするローカルの管理者アカウントを意図的に構成しました。 ただし、場合でも、ローカル管理者アカウントが無効になっているし、アカウントがないその他の使用可能なアカウントまたは管理者特権を持つシステムにログオンを有効にすることができるシステム起動できセーフ モードと組み込みのローカル管理者アカウント再有効にできます」の説明に従って[Microsoft サポート記事 814777](https://support.microsoft.com/kb/814777)します。 さらに、システムは引き続き正常に Gpo を適用する場合 (一時的に)、管理者アカウントを再度有効にする GPO を変更できますか、制限されたグループは、ローカルの Administrators グループにドメイン ベースのアカウントを追加するように構成できます。 修復を実行して、管理者アカウントをもう一度無効にできます。 組み込みのローカル管理者アカウント資格情報を使用する水平方向のセキュリティ侵害を効率的に禁止するには、するには、一意のユーザー名とパスワードをローカルの管理者アカウントの構成する必要があります。 GPO を使用してローカルの管理者アカウントの一意のパスワードを配置するを参照してください。 [GPO を介して、組み込みの管理者アカウントのパスワードを管理するためのソリューション](https://technet.microsoft.com/mt227395.aspx)technet。  
  
##### <a name="permitting-installation-of-unauthorized-applications"></a>未承認のアプリケーションのインストールを許可します。  
*1 つの鉄則は悪意のある攻撃者は、コンピューター上のプログラムを実行するように誘導場合、もはやそれは、コンピューターだけではないです。* - [(バージョン 2.0) のセキュリティに関する 10 の鉄則](https://technet.microsoft.com/security/hh278941.aspx)  
  
組織がサーバー間で一貫したベースラインの設定を展開するかどうか、サーバーの定義済みロールの一部ではないアプリケーションのインストールを許可する必要があります。 不注意や悪意のあるサーバーの攻撃、アプリケーションの脆弱性が導入されていますか、またはによりソフトウェアをインストールするサーバーの指定された機能の一部でないソフトウェアをインストールを許可すると、サーバーの公開します。システムが不安定になります。  
  
#### <a name="applications"></a>アプリケーション  
前述のように、アプリケーションは多くの場合、インストールされているし、実際には、アプリケーションよりもより多くの特権が必要ですが付与されているアカウントを使用するように構成します。 場合によっては、アプリケーションのドキュメントには、サービス アカウントは、サーバーのローカルの Administrators グループのメンバーである必要がありますまたは LocalSystem のコンテキストで実行するように構成する必要がありますを指定します。 これは多くの場合、ため、アプリケーションが、その権限が必要ですが、アプリケーションのサービス アカウントが必要に余分な時間と労力の投資が必要がありますどのような権限とアクセス許可を決定するためではなく。 アプリケーションが機能するには、アプリケーションとその構成済みの機能に必要な最小限の特権でインストールされない場合、システムは、攻撃、オペレーティング システム自体に対してせずアプリケーションの特権を利用する攻撃にさらされます。  
  
### <a name="lack-of-secure-application-development-practices"></a>セキュリティで保護されたアプリケーションの開発プラクティスの欠如  
ビジネスのワークロードをサポートするインフラストラクチャが存在します。 カスタム アプリケーションでは、これらのワークロードが実装されている、セキュリティで保護されたベスト プラクティスを使用して、アプリケーションを開発するために重要です。 エンタープライズ規模のインシデントの根本原因分析が最初の侵害がカスタムを通じて影響を受けることがわかります多くの場合、アプリケーション、特にインターネットにあるものに接続します。 これらのセキュリティ侵害のほとんどは、SQL インジェクション (SQLi) などのよく知られている攻撃の侵害を介して確立やクロス サイト スクリプティング (XSS) 攻撃です。  
  
SQL インジェクションとは、実行するため、データベースに渡された SQL ステートメントを変更するユーザー定義の入力を許可するアプリケーションの脆弱性です。 この入力は、アプリケーション、(クエリ文字列や cookie を使用)、パラメーター、またはその他のメソッドでフィールドを使用して指定できます。 この挿入の結果は、データベースに提供される SQL ステートメントがどのような開発者の意図よりも根本的に異なることです。 たとえば、ユーザー名/パスワードの組み合わせの評価で使用される一般的なクエリを実行します。  
  
`SELECT userID FROM users WHERE username = 'sUserName' AND password = 'sPassword'`  
  
これは、データベース サーバーで受信した、ときに、サーバーを users テーブル全体を確認しがユーザー名とパスワードと一致 (おそらく何らかのログイン フォーム) 経由でユーザーによって提供される任意のユーザー Id のレコードを返すように指示します。 当然ながら、開発者の意図を正しいユーザー名とパスワードをユーザーが提供できる場合のみ有効なレコードを返すここでは。 いずれかが正しくない場合、データベース サーバーでを一致するレコードを検索して、空の結果を返すことはできません。  
  
問題には、攻撃者が有効なデータの代わりに、独自の SQL の提供などの予期しない問題が発生します。 SQL は、解釈された - その場で、データベース サーバーであるため、開発者が自分で配置が場合、挿入されたコードは処理が。 例では、攻撃者が入力した場合の**管理者**ユーザー id と**xyz**または**1 = 1**パスワードとして、データベースによって処理された結果として得られるステートメントになります。  
  
`SELECT userID FROM users WHERE username = 'administrator' AND password = 'xyz' OR 1=1`  
  
データベース サーバーでこのクエリの処理時にテーブル内のすべての行が返されますクエリで 1 = 1 は常に True に評価、したがってため、適切なユーザー名とパスワードが正常か、指定いてもかまいません。 ほとんどの場合、最終的な結果は、ユーザーはログ記録すること、ユーザーのデータベース内の最初のユーザーとしてほとんどの場合、管理ユーザーは、対象になります。  
  
このさせるために使用できるよう、形式が正しくない SQL ステートメントにログインするだけ、だけでなく削除、またはデータを変更またはでも (削除) テーブル全体をデータベースから削除します。 SQLi が過剰な権限を組み合わせて、最も極端なケースでは、攻撃のツールをダウンロードしたり、攻撃者が選択したその他のアクションを実行する、新しいユーザーの作成を有効にするオペレーティング システムのコマンドを実行できます。  
  
クロス サイト スクリプトでは、脆弱性は、アプリケーションの出力で導入されました。 攻撃者は、アプリケーションに不適切なデータを提供することで、攻撃が開始されますが、被害者のブラウザーで実行されるスクリプト コード (JavaScript) などの形式で不適切なデータがここでは。 XSS の脆弱性の悪用には、ブラウザーを起動したユーザーのコンテキストで、対象アプリケーションのすべての関数を実行する攻撃者を許可できます。 XSS 攻撃は、通常、ユーザーがアプリケーションに接続し、攻撃のコードを実行するリンクをクリックすることを勧めるフィッシング電子メールで開始されます。  
  
XSS は多くの場合、オンライン バンキングと e コマースのシナリオ、攻撃者が購入または悪用されたユーザーのコンテキストでお金を振り替える場所で利用されています。 カスタムの web ベースの id 管理アプリケーションを対象となる、攻撃の場合は、攻撃者が独自の id を作成、アクセス許可と権利を変更し、全社的なセキュリティ侵害につながるその許可できます。  
  
SQL インジェクション、クロスサイト スクリプティングの詳細については、このドキュメントの範囲外ですが、 [Open Web Application Security Project (OWASP)](https://www.owasp.org/index.php/Main_Page)の脆弱性の詳細に説明のトップ 10 リストを公開その対策です。  
  
インフラストラクチャのセキュリティへの投資に関係なく、インフラストラクチャ内で適切に設計され、書き込まれたアプリケーションがデプロイされている場合、環境を構成攻撃に対して脆弱になります。 多くの場合も適切にセキュリティで保護されたインフラストラクチャは、これらのアプリケーションの攻撃に効果的な対策を提供できません。 サービス アカウントが、アプリケーションが機能する過剰なアクセス許可を付与すること、問題を複合するには、適切に設計されたアプリケーションを必要があります。  
  
Microsoft Security Development Lifecycle (SDL) は、要件の収集とは使用停止状態になるまで、アプリケーションのライフ サイクルによる拡張の早い段階でセキュリティの先頭を向上させるために使用する構造的なプロセス コントロールのセットです。 この統合の有効なセキュリティ コントロールはだけでなく、セキュリティの観点から重要なアプリケーションのセキュリティのコストであることを確認する重要なは、有効なスケジュールを設定します。 完全なコードは、有効なときに、アプリケーション セキュリティの問題を評価するには、組織を前にのみ、または、アプリケーションが配置された後でも、アプリケーションのセキュリティに関する決定を行う必要があります。 コストと、遅延が発生して、運用環境でアプリケーションを展開する前に、アプリケーションの欠陥に対処する組織を選択できますか、既知のセキュリティの欠陥を侵害する組織を公開するのには、実稼働環境でアプリケーションを展開することができます。  
  
一部の組織がセキュリティ上の問題を解決する問題、につき $10,000 を超える実稼働コードでのすべてのコストを配置し、効果的な SDL せずに開発されたアプリケーションが 10 個を超えるの重要度の高い問題あたり 100,000 行のコードを平均します。 大規模なアプリケーションで、コストを簡単にエスカレートします。 これに対し、多くの企業は、SDL の最終的なコード レビューの段階であたり 100,000 行のコードの問題の 1 つ未満のベンチマークを設定し、危険度の高いアプリケーションの運用環境での 0 個の問題を目標とします。  
  
SDL の実装要件の収集の早い段階でセキュリティ要件を含めることによってセキュリティが向上し、アプリケーションの設計は、脅威の危険度の高いアプリケーションのモデル化を提供します。有効なトレーニングと開発者; の監視が必要です。一貫性のあるコードの標準やプラクティス、clear が必要です。 SDL の実質的な効果は、開発、デプロイ、保守、およびアプリケーションの使用を停止してコストを削減しながらアプリケーションのセキュリティが大幅に向上します。 設計の詳細については、SDL の実装は、このドキュメントの範囲外ですを参照してください。、 [Microsoft セキュリティ開発ライフ サイクル](https://www.microsoft.com/security/sdl/default.aspx)詳細なガイダンスと情報。  
  


