---
ms.assetid: 95e82190-68c5-4e40-87b1-f1bd816ef4e9
title: サービス通信証明書
description: ''
author: billmath
ms.author: billmath
manager: femila
ms.date: 05/31/2017
ms.topic: article
ms.prod: windows-server
ms.technology: identity-adfs
ms.openlocfilehash: 624d2e26bc0277129e44eee3fdce7c7396b735a0
ms.sourcegitcommit: 6aff3d88ff22ea141a6ea6572a5ad8dd6321f199
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 09/27/2019
ms.locfileid: "71407904"
---
# <a name="service-communications-certificates"></a>サービス通信証明書

フェデレーションサーバーでは、WCF メッセージセキュリティを使用するシナリオにサービス通信証明書を使用する必要があります。  
  
## <a name="service-communication-certificate-requirements"></a>サービス通信証明書の要件  
AD FS を操作するには、サービス通信証明書が次の要件を満たしている必要があります。  
  
-   サービス通信証明書には、サーバー認証の拡張キー使用法 \(EKU @ no__t の拡張機能が含まれている必要があります。  
  
-   サービス通信証明書からルート CA 証明書へのチェーン内のすべての証明書について、証明書の失効 \(CRLs @ no__t にアクセスできる必要があります。 また、ルート CA は、フェデレーションサーバープロキシと、このフェデレーションサーバーを信頼する Web サーバーによって信頼されている必要があります。  
  
-   サービス通信証明書で使用されるサブジェクト名は、フェデレーションサービスのプロパティのフェデレーションサービス名と一致している必要があります。  
  
## <a name="deployment-considerations-for-service-communication-certificates"></a>サービス通信証明書の展開に関する考慮事項  
すべてのフェデレーションサーバーが同じ証明書を使用するように、サービス通信証明書を構成します。 フェデレーション Web シングル @ no__t-0Sign @ no__t を \(SSO @ no__t design にデプロイする場合は、サービス通信証明書をパブリック CA によって発行することをお勧めします。 これらの証明書を要求してインストールするには、の IIS マネージャースナップ @ no__t を使用します。  
  
テストラボ環境では、フェデレーションサーバーで、セルフ @ no__t-0signed で署名されたサービス通信証明書を正常に使用できます。 ただし、運用環境では、パブリック CA からサービス通信証明書を取得することをお勧めします。 次に示すのは、ライブデプロイに対して、自己 @ no__t-0signed で署名されたサービス通信証明書を使用してはならない理由です。  
  
-   自己 @ no__t に署名された SSL 証明書を、リソースパートナー組織の各フェデレーションサーバーの信頼されたルートストアに追加する必要があります。 これだけでは、攻撃者がリソースフェデレーションサーバーを侵害することを防ぐことはできませんが、自己 @ no__t に署名された証明書を信頼すると、コンピューターの攻撃対象領域が増加し、証明書の署名者ではない場合、セキュリティ上の脆弱性につながる可能性があります。信用.  
  
-   不適切なユーザーエクスペリエンスが作成されます。 クライアントは、次のメッセージを表示するフェデレーションリソースにアクセスしようとすると、セキュリティ警告プロンプトを受け取ります。"セキュリティ証明書は、信頼を選択していない会社によって発行されました。" これは、自己 @ no__t に署名された証明書が信頼されていないため、想定される動作です。  
  
    > [!NOTE]  
    > 必要に応じて、グループポリシーを使用して、AD FS サイトへのアクセスを試みる各クライアントコンピューターの信頼されたルートストアに、手動で自己 @ no__t-0signed 証明書をプッシュダウンすることで、この状態を回避できます。  
  
-   Ca は、自己 @ no__t-1signed 入り証明書によって提供されない、秘密キーのアーカイブ、更新、失効など、追加の証明書 @ no__t に基づく機能を提供します。  
  

