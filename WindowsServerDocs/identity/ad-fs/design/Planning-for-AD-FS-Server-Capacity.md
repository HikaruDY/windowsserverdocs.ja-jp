---
ms.assetid: ef91f1d8-2991-4d90-b687-5fa189737c88
title: "AD FS サーバーの容量計画"
description: 
author: billmath
ms.author: billmath
manager: femila
ms.date: 05/31/2017
ms.topic: article
ms.prod: windows-server-threshold
ms.technology: identity-adfs
ms.openlocfilehash: 484dd08edef85b91e777f8963f175a6172c75430
ms.sourcegitcommit: 70c1b6cedad55b9c7d2068c9aa4891c6c533ee4c
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 07/03/2017
---
# <a name="planning-for-ad-fs-server-capacity"></a>AD FS サーバーの容量計画

>適用対象: Windows Server 2016、Windows Server 2012 R2、Windows Server 2012

  
> [!NOTE]  
> このトピックで提供されるコンテンツは、Windows Server 2012 を実行するサーバーで実行された実際のテストには反映されません。 このトピックは、必要なテストの実行後に更新されます。  
  
Active Directory フェデレーション サービスの計画容量 \(AD FS\) がフェデレーション サービスの使用量ピーク期間を予測し、計画のプロセスまたは scaling\ アップ負荷の要件を満たすもの、AD FS サーバーの展開します。  
  
このセクションでは、フェデレーション サーバーとフェデレーション サーバー プロキシの役割の両方の展開のガイドラインを示し、マイクロソフトの AD FS 製品チームによって実行されたラボのテストに基づきます。 このコンテンツの目的は、するためです。  
  
-   AD FS サーバーの数などの組織の特定 AD FS 展開に必要なハードウェアを正確に見積もる。  
  
-   正確にプロジェクトのサインイン要求、拡張、計画のピーク時使用量と、AD FS の展開がピーク時使用量を正しく処理できることを確認します。  
  
この容量計画に関する内容の読み取りを続行する前に、まず次の 2 つの表に示されている順序でタスクを完了することをお勧めします。 最初の表のために役立つ推奨されるタスクへのリンクがキャパシティ プランニングに関連するコンテキストを提供が提供されます。  
  
|推奨されるタスク|説明|リファレンス|  
|--------------------|---------------|-------------|  
|AD FS フェデレーション サーバーとフェデレーション サーバー プロキシを展開するための要件を理解します。|重要なハードウェアとソフトウェアの要件のフェデレーション サーバーとフェデレーション サーバー プロキシを展開するために必要なを確認します。|[付録 a: AD FS の要件を確認します。](Appendix-A--Reviewing-AD-FS-Requirements.md)|  
|組織で展開する AD FS 構成データベースの種類を選択します。|最初を展開する AD FS 構成データベース種類を決定する必要があるこのセクションでキャパシティ プランニングのデータを使用する前に、Windows Internal Database \(WID\) または構造化照会言語 \(SQL\) データベース。|[AD FS 構成データベースの役割](../../ad-fs/technical-reference/The-Role-of-the-AD-FS-Configuration-Database.md)です。<br /><br />[AD FS 展開トポロジに関する考慮事項](AD-FS-Deployment-Topology-Considerations.md)|  
|新しい AD FS 構成データベースを選択した場合に使用するトポロジ レイアウトの種類を決定します。|展開内で使用する AD FS 構成データベースのタイプを決定するはしたら、考慮すべきするは必要がある場所のフェデレーション サーバーとフェデレーション サーバー プロキシ、実稼働環境内でどの展開トポロジが最も要望に近いします。|[AD FS 展開トポロジを決定します。](Determine-Your-AD-FS-Deployment-Topology.md)|  
|キー AD FS 関連キャパシティ プランニング用語を理解します。|一般的なキャパシティ プランニング AD FS キャパシティ プランニングの説明全体で使用される用語の定義を確認します。|」セクションを参照して[AD FS キャパシティ プランニング用語](Planning-for-AD-FS-Server-Capacity.md#bk_terms)このトピックの「|  
  
前の表に、コンテンツを確認した後は、次の表に、前提条件となるタスクようになりました完了できます。  
  
|前提条件となるタスク|説明|リファレンス|  
|---------------------|---------------|-------------|  
|AD FS キャパシティ プランニング サイジング スプレッドシートをダウンロードします。|AD FS キャパシティ プランニング サイジング スプレッドシートは、AD FS フェデレーション サーバー ファーム展開に必要なフェデレーション サーバーの数を特定するのに役立ちます。 このワークシートを使用する方法に関する手順については、次のタスクの下に示したリンクします。|[AD FS キャパシティ プランニング スプレッドシート](http://adfsdocs.blob.core.windows.net/adfs/ADFSCapacityPlanning.xlsx)|  
|1 回で sign\ \(SSO\) アクセス ターゲット claims\ に対応したアプリケーションと、予想される使用量ピーク期間このアクセスに関連付けられているを必要とするユーザーの数に関するデータを収集します。|このユーザー データを収集するは、AD FS キャパシティ プランニング サイジング スプレッドシートのコンテキスト内で必要な入力値として使用されます。|[組織のフェデレーション サーバーの数を見積もり](Planning-for-Federation-Server-Capacity.md#bk_estimatefs)|  
|Windows Server 2016 の AD FS キャパシティ プランニング スプレッドシート|Windows Server 2016 の更新の計画ワークシート|[AD FS Windows Server 2016 の容量計画](http://adfsdocs.blob.core.windows.net/adfs/ADFSCapacity2016.xlsx)  
  
## <a name="bk_terms"></a>AD FS キャパシティ プランニングの用語  
次の表では、このキャパシティ プランニングの AD FS 設計ガイドのセクションで頻繁に使用される重要な用語について説明します。 AD FS の用語のより完全な一覧は、次を参照してください。[Understanding Key AD FS Concepts](../../ad-fs/technical-reference/Understanding-Key-AD-FS-Concepts.md)します。  
  
|用語|定義|  
|--------|--------------|  
|同時ユーザー数|一定の時間はピーク アクティビティ期間通常内で、サービスに要求を送信する必要があるユーザーの推定数。|  
|アクティブなユーザー|システムが必ずしも所定の時間中に、要求を送信する上でアクティブなユーザーのおおよその平均数です。|  
|定義済みユーザー数|通常、システム内のアカウントが定義済みユーザーの数に基づく理論上の最大ユーザー数。|  
|1 秒あたりの要求|クライアントから送信されるか、要求の数 \ (ときに、システム上の負荷を話して) またはサーバーによって処理される \ (サーバー throughput\ 話して) 場合、1 秒当たりします。 このメトリックは、サーバー プロセッサおよびメモリの容量計画に使用されます。|  
|ターゲット サーバーの応答性と使用率|許容されるサーバー パフォーマンスの範囲を規定する数値を成功します。 一般に、応答性を下回った場合、または使用率が、ターゲットを超えた場合、システムが過負荷であると見なされますより多くの容量が必要です。|  
|Windows 内部データベース \(WID\)|SQL Server の特定の AD FS 展開の代わりとして使用できる既定の AD FS 構成データベース。|  
  
## <a name="configuration-environment-used-during-ad-fs-testing"></a>AD FS テスト時に使用される構成環境  
このセクションでは、AD FS 製品チームによるテストの実施するために使用される構成環境について説明します。 チームは、パフォーマンスとフェデレーション サーバーのテストで拡張性のデータを収集するために次のコンピューターのハードウェア、ソフトウェア、およびネットワーク構成を使用します。  
  
-   デュアル クアッド コア 2.27 ギガヘルツ \(GHz\) \(8 cores\)  
  
-   16 GB の RAM  
  
-   Windows Server 2008 R2 Enterprise Edition  
  
-   ギガビット ネットワーク  
  
> [!NOTE]  
> 16 GB の RAM は、テスト中に、フェデレーション サーバーに対して使用された、ほとんどの AD FS 展開よりも小さくメモリ サイズ、4 GB の RAM のフェデレーション サーバーごとなどを使用できます。 RAM の 4 GB のほとんどの AD FS 実稼働環境に、この AD FS キャパシティ プランニングの各フェデレーション サーバーが約に使用する前提条件に基づいて、AD FS キャパシティ プランニング スプレッドシートで計算によって提供される結果と共にコンテンツが用意されている推奨事項です。  
  
製品チームは、テストは、フェデレーション サーバー プロキシのパフォーマンスと拡張性のデータを収集するために次の構成を使用します。  
  
-   デュアル クアッド コア 2.24 GHz \(4 cores\)  
  
-   4\ GB の RAM  
  
-   Windows Server 2008 R2 Enterprise Edition  
  
-   ギガビット ネットワーク  
  
> [!NOTE]  
> AD FS サーバーのキャパシティに関する推奨値は、特定の環境で使用されるハードウェアおよびネットワーク構成用に選択する仕様に応じて大きく、異なることができます。 参照としては、このコンテンツで示すサイジングのガイダンスについては、前述のコンピューター上の 80% の使用率の目標に基づいています。  
  
## <a name="measure-ad-fs-server-capacity"></a>メジャー AD FS サーバーの容量  
通常、サーバーのパフォーマンスと拡張性に影響するハードウェア コンポーネントは、CPU、メモリ、ディスク、およびネットワーク アダプターです。 さいわい、メモリとディスク領域に対するごくわずかな要求の各 AD FS のコンポーネントが必要です。 ネットワーク接続は、明確な要件です。 そのため、フェデレーション サーバーとフェデレーション サーバー プロキシに対して実行される負荷テストは、サーバー キャパシティを測定するための 2 つの主な領域に集中します。  
  
-   **ピーク時の 1 秒あたりの AD FS 要求:**フェデレーション サーバーで 1 秒あたりに処理されるサインイン要求の数。 この測定値を使用する特定のサーバーにログインできる同時ユーザーの数を判断できます。 この測定値は、パフォーマンスにこの測定の影響を理解するのに、CPU 消費の測定と組み合わせて使用できます。  
  
-   **CPU 使用量:**割合をパーセントでどの CPU 能力が評価されます。 この測定値を 1 秒あたりの受信サインイン要求の数に基づいて全体的な CPU 負荷が発生したかを決定できます。  
  
## <a name="continue-reading-more-about-ad-fs-capacity-planning"></a>AD FS キャパシティ プランニングに関する詳細を参照してください。  
前提条件となるタスクが完了している知識を身に関連する用語とハードウェア要件、展開に必要な AD FS サーバーの推奨数を特定するために次のキャパシティ プランニングのコンテンツを使用できます。  
  
-   [フェデレーション サーバーの容量計画](Planning-for-Federation-Server-Capacity.md)  
  
-   [フェデレーション サーバー プロキシの容量計画](Planning-for-Federation-Server-Proxy-Capacity.md)  
  
## <a name="see-also"></a>参照してください。
[Windows Server 2012 で AD FS 設計ガイドします。](AD-FS-Design-Guide-in-Windows-Server-2012.md)
