---
title: "ソフトウェア制限ポリシーの技術概要"
description: "Windows Server のセキュリティ"
ms.custom: na
ms.prod: windows-server-threshold
ms.reviewer: na
ms.suite: na
ms.technology: security-software-restriction-policies
ms.tgt_pltfrm: na
ms.topic: article
ms.assetid: dc7013b0-0efd-40fd-bd6d-75128adbd0b8
author: coreyp-at-msft
ms.author: coreyp
manager: dongill
ms.date: 10/12/2016
ms.openlocfilehash: d007d55ced9c6a18581eaedb4edb66db9eeccab9
ms.sourcegitcommit: db290fa07e9d50686667bfba3969e20377548504
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 12/12/2017
---
# <a name="software-restriction-policies-technical-overview"></a>ソフトウェア制限ポリシーの技術概要

>適用対象: Windows Server 2016、Windows Server 2012 R2、Windows Server 2012

ソフトウェアの制限のポリシーを説明する機能を使用する方法とタイミングどのような変更が過去のリリースで実装されています、作成し、Windows Server 2008 および Windows Vista 以降のソフトウェアの制限のポリシーを展開するための他のリソースへのリンクを提供します。

## <a name="introduction"></a>概要
ソフトウェアの制限のポリシーは、ソフトウェアを識別し、ローカル コンピューター上で実行するには、その機能を制御するグループ ポリシー ベースのメカニズムで管理者を提供します。 既知の競合に対して Microsoft Windows オペレーティング システム (Windows Server 2003 および Windows XP Professional で始まる) を実行しているコンピューターを保護し、悪意のあるウイルスやトロイの木馬プログラムなどのセキュリティの脅威からコンピューターを保護するのには、これらのポリシーを使用できます。 ソフトウェアの制限のポリシーを使用して、厳しく制限されているしたアプリケーションに限って実行を許可する、コンピューターの構成を作成することができます。 ソフトウェアの制限のポリシーは、Microsoft Active Directory とグループ ポリシーに統合されています。 スタンドアロン コンピューター上でソフトウェアの制限のポリシーを作成することもできます。

ソフトウェアの制限のポリシーは、信頼ポリシーは、スクリプトとその他のコードの実行を完全に信頼されていないことを制限する管理者によって設定する規則です。 ソフトウェアの制限のポリシーの拡張機能には、ローカル グループ ポリシー エディターは、ローカル コンピューターまたはドメイン全体で単一のユーザー インターフェイスを使用するアプリケーションの使用を制限するための設定を管理できますを提供します。

## <a name="procedures"></a>手順

-   [ソフトウェアの制限のポリシーを管理します。](administer-software-restriction-policies.md)

    -   [ソフトウェアの制限のポリシーの許可/拒否リストとアプリケーション インベントリを決定します。](determine-allow-deny-list-and-application-inventory-for-software-restriction-policies.md)

    -   [ソフトウェアの制限のポリシー規則を使用します。](work-with-software-restriction-policies-rules.md)

    -   [ソフトウェアの制限のポリシーをメール ウイルスからコンピューターを保護するために使用します。](use-software-restriction-policies-to-help-protect-your-computer-against-an-email-virus.md)

-   [ソフトウェアの制限のポリシーをトラブルシューティングします。](troubleshoot-software-restriction-policies.md)

## <a name="software-restriction-policy-usage-scenarios"></a>ソフトウェア制限ポリシーの使用シナリオ
電子メール、インスタント メッセージング、ピア ツー ピア アプリケーションを使用して、ビジネス ユーザーの共同作業します。 特にビジネス コンピューティング、インターネットを使用すると、これらの共同作業者が大きくなるとは、ワーム、ウイルスなど、悪意のあるユーザーまたは攻撃者の脅威などの悪意のあるコードからの脅威。

ユーザーは、ネイティブの Windows 実行可能ファイルからまで、さまざまな形式で悪意のあるコードを受け取る場合があります (.exe files)、スクリプト (.vbs ファイルなど) に (.doc ファイルなど)、ドキュメント内のマクロにします。 悪意のあるユーザーまたは攻撃者多くの場合をウイルスやワームが含まれているコードを実行するユーザーを取得するソーシャル エンジニア リング メソッドを使用します。 (ソーシャル エンジニア リングは、ユーザーを自分のパスワードまたは何らかのセキュリティ情報を騙して聞き出すの用語です)。このようなコードがアクティブな場合、ネットワーク上のサービス拒否攻撃を生成する、インターネットに機密情報やプライベート データを送信、コンピューターのセキュリティが、危険にさらさしたり、ハード ディスク ドライブの内容が破損できます。

IT 組織やユーザーは必要のあるソフトウェアが実行しても安全とではないを決定できる必要があります。 大規模な数と悪意のあるコードが実行できるフォームで、このことは難しい作業になります。

悪意のあるコードと不明なまたはサポートされていないソフトウェアの両方からネットワーク コンピューターを保護するため、組織は、全体的なセキュリティ戦略の一環としてソフトウェアの制限のポリシーを実装できます。

管理者は、次のタスクをソフトウェアの制限のポリシーを使用できます。

-   信頼されたコードを定義します。

-   スクリプト、実行可能ファイル、および ActiveX コントロールを制御する柔軟性のあるグループ ポリシーの設計します。

オペレーティング システムやソフトウェアの制限のポリシーに準拠しているアプリケーション (スクリプト アプリケーションなど) によって、ソフトウェアの制限のポリシーが適用されます。

具体的には、管理者は、次の目的でソフトウェアの制限のポリシーを使用できます。

-   クライアント コンピューターで実行できます (実行可能ファイル) のあるソフトウェアを指定します。

-   ユーザーが共有コンピューター上の特定のプログラムを実行していることを防ぐ

-   信頼された発行元をクライアント コンピューターに追加できるユーザーを指定します。

-   (ポリシーがすべてのユーザーに影響するかどうか、またはクライアント コンピューター上のユーザーのサブセットを指定)、ソフトウェアの制限のポリシーのスコープを設定します。

-   実行可能ファイルがローカル コンピューター、組織単位 (OU)、サイト、またはドメインで実行できないようにします。 悪意のあるユーザーと潜在的な問題を解決するソフトウェアの制限のポリシーを使用していないときの場合は適切になります。

## <a name="BKMK_Diffs_Changes"></a>相違点と機能の変更点
Windows Server 2012 の SRP と Windows 8 の機能の変更はありません。

**サポートされているバージョン**

ソフトウェア制限ポリシーはのみに構成されているし、少なくともを実行しているコンピューターに適用される Windows Server 2003、Windows Server 2012 など、少なくとも Windows XP、Windows 8 を含みます。

> [!NOTE]
> Windows Vista と Windows クライアント オペレーティング システムの先頭の特定のエディションには、ソフトウェアの制限のポリシーはありません。 ドメインでグループ ポリシーによって管理されていないコンピューターは、分散ポリシーを受け取りません可能性があります。

**ソフトウェアの制限のポリシーと AppLocker のアプリケーション制御機能の比較**

次の表は、ソフトウェア制限ポリシー (SRP) の機能と AppLocker の機能を比較します。

|アプリケーション制御機能|SRP|AppLocker|
|----------------|----|-------|
|スコープ|SRP ポリシーは、Windows XP および Windows Server 2003 で始まるすべての Windows オペレーティング システムに適用できます。|AppLocker ポリシーは、Windows Server 2008 R2、Windows Server 2012、Windows 7、および Windows 8 にのみ適用されます。|
|ポリシーの作成|SRP ポリシーがグループ ポリシーによって維持されるようにし、GPO の管理者のみが、SRP ポリシーを更新します。 ローカル コンピューター上の管理者は、ローカル GPO で定義されている SRP ポリシーを変更できます。|AppLocker ポリシーがグループ ポリシーによって維持されるようにし、GPO の管理者のみが、ポリシーを更新します。 ローカル コンピューター上の管理者は、ローカル GPO で定義されている、AppLocker ポリシーを変更できます。<br /><br />AppLocker では、ヘルプ用の Web ページにユーザーを誘導するエラー メッセージのカスタマイズが可能です。|
|ポリシーの保守|SRP ポリシーは、(ポリシーがローカルで作成される) 場合、ローカル セキュリティ ポリシー スナップインを使用して、グループ ポリシー管理コンソール (GPMC) で更新する必要があります。|AppLocker ポリシーは、ローカル セキュリティ ポリシー スナップイン (ポリシーがローカルで作成される) 場合、または、GPMC または Windows PowerShell の AppLocker コマンドレットを使用して更新することができます。|
|ポリシーの適用|SRP ポリシーは、グループ ポリシーを介して配布されます。|AppLocker ポリシーは、グループ ポリシーを介して配布されます。|
|実施モード|SRP works in the "deny list mode" where administrators can create rules for files that they do not want to allow in this Enterprise whereas the rest of the file are allowed to run by default.<br /><br />SRP can also be configured in the "allow list mode" such that the by default all files are blocked and administrators need to create allow rules for files that they want to allow.|AppLocker by default works in the "allow list mode" where only those files are allowed to run for which there is a matching allow rule.|
|ファイルの種類を制御することができます。|SRP では、次のファイルの種類を制御できます。<br /><br />-実行可能ファイル<br />-Dll<br />-スクリプト<br />Windows インストーラー<br /><br />SRP では、個別に各ファイルの種類を制御できません。 SRP のすべてのルールは、1 つの規則コレクションでです。|AppLocker では、次のファイルの種類を制御できます。<br /><br />-実行可能ファイル<br />-Dll<br />-スクリプト<br />Windows インストーラー<br />パッケージ アプリおよびインストーラー (Windows Server 2012 および Windows 8)<br /><br />AppLocker では、5 つのファイルの種類ごとに個別の規則のコレクションを保持します。|
|指定されたファイルの種類|SRP では、実行可能と見なされるファイルの種類の拡張の一覧をサポートします。 管理者は、見なす必要がある実行可能ファイルの拡張子を追加できます。|AppLocker では、このサポートされていません。 現在、AppLocker には、次のファイル拡張子がサポートしています。<br /><br />-実行可能ファイル (.exe、.com)<br />-Dll (.ocx、.dll)<br />-スクリプト (.vbs、.js、.ps1、.cmd、.bat)<br />Windows インストーラー (.msi、.mst、.msp)<br />パッケージ アプリ インストーラー (.appx)|
|規則の種類|SRP では、次の 4 つの種類のルールがサポートしています。<br /><br />ハッシュ<br />パス<br />署名<br />インターネット ゾーン|AppLocker には、次の 3 つの種類のルールがサポートしています。<br /><br />ハッシュ<br />パス<br />-発行元|
|ハッシュ値を編集|SRP では、カスタムのハッシュ値を入力することができます。|AppLocker では、ハッシュ値自体を計算します。 内部的に (Exe や Dll) のポータブル実行可能ファイル、Windows インストーラーおよび残りの部分の SHA1 フラットなファイル ハッシュ Authenticode の SHA1 ハッシュを使用します。|
|別のセキュリティ レベルのサポート|SRP では、管理者はアプリが実行できるアクセス許可を指定できます。 そのため、管理者は、このような規則を構成でき、制限されたアクセス許可を持つ管理者特権を持つことはありません、メモ帳は常に実行します。<br /><br />Windows Vista と以前の SRP では、複数のセキュリティ レベルがサポートされています。 Windows 7 ではそのリストが 2 つのレベルに制限されている: 許可されていないし、無制限 (基本的なユーザーを許可しない] に変換)。|AppLocker は、セキュリティ レベルをサポートしていません。|
|パッケージ アプリおよびパッケージ アプリのインストーラーを管理します。|できません。|.appx は、AppLocker を管理できますが有効なファイルの種類です。|
|ユーザーまたはユーザーのグループに規則を対象とします。|SRP の規則は、特定のコンピューター上のすべてのユーザーに適用されます。|AppLocker の規則は、特定のユーザーまたはユーザーのグループに対象とすることができます。|
|規則の例外のサポート|SRP は規則の例外をサポートしていません|AppLocker rules can have exceptions which allow administrators to create rules such as "Allow everything from Windows except for Regedit.exe".|
|監査モードのサポート|SRP では、監査モードをサポートしていません。 SRP ポリシーをテストする唯一の方法では、テスト環境を設定し、いくつかの実験を実行します。|AppLocker では、管理者が、ユーザー エクスペリエンスに影響を与えずに、実際の運用環境でのポリシーの効果をテストする監査モードをサポートします。 結果に満足したら、ポリシーの適用を開始できます。|
|エクスポートとインポート、ポリシーのサポート|SRP では、ポリシーのインポート/エクスポートをサポートしていません。|AppLocker のポリシーのインポートとエクスポートをサポートしています。 これは、サンプル コンピューターで AppLocker ポリシーを作成することができますテストしポリシーをエクスポートしますし、必要な GPO にインポートします。|
|規則の実施|内部的には、SRP の規則の実施がこれは安全性の低いユーザー モードでは発生します。|内部的には、ユーザー モードで使用を強制するよりも安全であるカーネル モードでの Exe と Dll の AppLocker 規則を適用します。|

## <a name="system-requirements"></a>システム要件
ソフトウェアの制限のポリシーはのみに構成されているし、以降を実行しているコンピューターに適用される Windows Server 2003、および少なくとも Windows XP します。 ソフトウェアの制限のポリシーが含まれているグループ ポリシー オブジェクトを配布するには、グループ ポリシーが必要です。

## <a name="software-restriction-policies-components-and-architecture"></a>ソフトウェア制限ポリシーのコンポーネントとアーキテクチャ
ソフトウェアの制限のポリシーは、オペレーティング システムおよびアプリケーション ソフトウェアの制限のポリシーに準拠してソフトウェア プログラムの実行時の実行を制限するためのメカニズムを提供します。

大まかに言う、ソフトウェアの制限のポリシーは、次のコンポーネントで構成されます。

-   ソフトウェアの制限のポリシー API です。 アプリケーション プログラミング インターフェイス (API) は、作成し、ソフトウェアの制限のポリシーを構成する規則の構成に使用されます。 さらに、ソフトウェア制限ポリシーのクエリ、処理、用の API とソフトウェア制限ポリシーを適用します。

-   ソフトウェア制限ポリシーの管理ツールです。 これから成る、**Software Restriction Policies**の拡張機能、**ローカル グループ ポリシー オブジェクト エディター**スナップインで、管理者が作成し、ソフトウェアの制限のポリシーの編集に使用します。

-   オペレーティング システム API のセットとアプリケーションをソフトウェアの制限のポリシーの実行時にソフトウェアの制限のポリシーの強制を提供する API を呼び出します。

-   Active Directory とグループ ポリシー。 ソフトウェアの制限のポリシーは、Active Directory からソフトウェア制限ポリシーを適切なクライアントおよびスコープと適切なターゲット コンピューターにこれらのポリシー適用のフィルタ リングして反映されるまで、グループ ポリシー インフラストラクチャに依存します。

-   Authenticode および WinVerify 信頼 API を符号付きの実行可能ファイルを処理するために使用します。

-   イベント ビューアー。 イベント ビューアのログには、ソフトウェア制限ポリシー ログ イベントで使用する関数。

-   結果のポリシー セット (RSoP) をクライアントに適用される有効なポリシーの診断に役立ちます。

For more information about SRP architecture, how SRP manages rules, processes and interactions, see [How Software Restriction Policies Work](https://technet.microsoft.com/library/cc786941(v=WS.10).aspx) in the Windows Server 2003 Technical Library.

## <a name="BKMK_Best_Practices"></a>ベスト プラクティス

### <a name="do-not-modify-the-default-domain-policy"></a>既定のドメイン ポリシーを変更しないでください。

-   既定のドメイン ポリシーを編集しないでください、カスタマイズされたドメイン ポリシーに問題が生じた場合は、既定のドメイン ポリシーを再適用するオプションが常にあります。

### <a name="create-a-separate-group-policy-object-for-software-restriction-policies"></a>ソフトウェアの制限のポリシーの別のグループ ポリシー オブジェクトを作成します。

-   独立したグループ ポリシー オブジェクト (GPO) のソフトウェアの制限のポリシーを作成する場合、他のドメイン ポリシーを無効にすることがなく、緊急時におけるソフトウェアの制限のポリシーを無効にできます。

### <a name="if-you-experience-problems-with-applied-policy-settings-restart-windows-in-safe-mode"></a>適用されているポリシー設定に問題が発生した場合は、Windows をセーフ モードで再起動します。

-   Windows をセーフ モードで起動すると、ソフトウェアの制限のポリシーは適用されません。 誤って、ソフトウェアの制限のポリシーを使用してワークステーションをロックする場合、セーフ モードでコンピューターを再起動、ローカル管理者としてログオンし、ポリシーを変更、実行**gpupdate**、コンピューターを再起動し、通常どおりにログオンします。

### <a name="use-caution-when-defining-a-default-setting-of-disallowed"></a>[許可しない] の既定の設定を定義するときは、注意を使用します。

-   既定の設定を定義するとき**許可しない**、明示的に許可されているソフトウェアを除くすべてのソフトウェアは禁止されています。 開きたいすべてのファイルには、ソフトウェアの制限規則のポリシーを開くことを許可するが必要です。

-   既定のセキュリティ レベル設定されている場合、システムからロック自体から管理者を保護する**許可しない**、4 つレジストリ パスの規則が自動的に作成します。 削除するか、これらのレジストリ パスの規則を変更することができます。ただし、これは推奨されません。

### <a name="for-best-security-use-access-control-lists-in-conjunction-with-software-restriction-policies"></a>最適なセキュリティのためには、ソフトウェアの制限のポリシーと組み合わせてアクセス制御リストを使用します。

-   ユーザーは、名前変更または許可されていないファイルを移動または制限されていないファイルを上書きすることによって、ソフトウェアの制限のポリシーを回避しようとする可能性があります。 その結果、これらのタスクを実行するために必要なアクセスを拒否するアクセス制御リスト (Acl) を使用することをお勧めします。

### <a name="test-new-policy-settings-thoroughly-in-test-environments-before-applying-the-policy-settings-to-your-domain"></a>新しいポリシー設定で十分にテスト テスト環境をドメインにあるポリシー設定を適用する前にします。

-   新しいポリシー設定が期待どおりに動作可能性があります。 テスト ネットワーク内のすべてのポリシー設定を展開するときに問題が発生する可能性が低くなります。

-   新しいポリシー設定をテストするために、組織のドメインから独立した、テストのドメインを設定することができます。 テスト用の GPO の作成とテストの組織単位にリンクすることによって、ポリシー設定をテストすることもできます。 テスト ユーザーと、ポリシー設定を完全にテストするときに、テスト用の GPO をドメインにリンクできます。

-   プログラムまたはファイルを設定しないで**許可しない**せず、効果がありますかをテストします。 ファイルを制限できます深刻な動作に影響する、コンピューターまたはネットワークのします。

-   期待どおりに実行しないポリシー設定は、入力された情報または入力ミスの可能性があります。 新しいポリシー設定を適用する前にテストと、予期しない動作を防ぐことができます。

### <a name="filter-user-policy-settings-based-on-membership-in-security-groups"></a>セキュリティ グループのメンバーシップに基づくユーザーのポリシー設定をフィルター処理します。

-   ユーザーまたはグループをオフにして適用するポリシー設定をしないを指定することができます、**グループ ポリシーの適用**と**読み取り**上にあるチェック ボックスは、**セキュリティ**、GPO のプロパティ] ダイアログ ボックスのタブ。

-   読み取りアクセス許可が拒否されたときに、ポリシー設定は、コンピューターによってはダウンロードされません。 その結果、帯域幅が小さくダウンロードに使用される、不要なポリシー設定により、ネットワークをより迅速に機能します。 読み取りアクセス許可を拒否する] を選択**拒否**用、**読み取り**上にあるチェック ボックス、**セキュリティ**、GPO のプロパティ] ダイアログ ボックスのタブ。

### <a name="do-not-link-to-a-gpo-in-another-domain-or-site"></a>別のドメインまたはサイト内の GPO にリンクされていません。

-   別のドメインまたはサイト内の GPO にリンクすると、パフォーマンスが低下することがあります。

## <a name="additional-resources"></a>その他のリソース

|コンテンツの種類|参照|
|--------|-------|
|**計画**|[ソフトウェア制限ポリシーのテクニカル リファレンス](https://technet.microsoft.com/library/cc728085(v=WS.10).aspx)|
|**操作**|[ソフトウェアの制限のポリシーを管理します。](administer-software-restriction-policies.md)|
|**トラブルシューティング**|[ソフトウェア制限ポリシーのトラブルシューティング (2003)](https://technet.microsoft.com/library/cc737011(v=WS.10).aspx)|
|**セキュリティ**|[脅威と対策ソフトウェアの制限のポリシー (2008)](https://technet.microsoft.com/library/dd349795(v=WS.10).aspx)<br /><br />[脅威と対策ソフトウェアの制限のポリシー (2008 R2)](https://technet.microsoft.com/library/hh125926(v=WS.10).aspx)|
|**ツールと設定**|[ソフトウェアの制限のポリシーのツールと設定 (2003)](https://technet.microsoft.com/library/cc782454(v=WS.10).aspx)|
|**コミュニティ リソース**|[ソフトウェアの制限のポリシーによるアプリケーションのロックダウン](https://technet.microsoft.com/magazine/2008.06.srp.aspx?pr=blog)|


