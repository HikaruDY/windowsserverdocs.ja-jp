---
ms.assetid: 350aa5a3-5938-4921-93dc-289660f26bad
title: "Windows Server のフェールオーバー クラスタ リングの新機能"
ms.prod: windows-server-threshold
ms.technology: storage-failover-clustering
ms.topic: get-started-article
manager: dongill
author: JasonGerend
ms.author: jgerend
ms.date: 10/11/2016
ms.openlocfilehash: a4330f62095e13f2f4736f15924ed31fb4893e7a
ms.sourcegitcommit: 583355400f6b0d880dc0ac6bc06f0efb50d674f7
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 10/17/2017
---
# <a name="whats-new-in-failover-clustering-in-windows-server-2016"></a>Windows Server 2016 のフェールオーバー クラスタ リングの新機能
> 適用対象: Windows Server (半期チャネル)、Windows Server 2016

このトピックでは、Windows Server 2016 のフェールオーバー クラスタ リングで追加または変更された機能について説明します。  

## <a name="BKMK_RollingUpgrade"></a>クラスター オペレーティング システムのローリング アップグレード  
オペレーティング システムのクラスター ローリング アップグレードと、フェールオーバー クラスタ リングの新機能により、管理者は、Hyper-V やスケール アウト ファイル サーバーのワークロードを停止することがなく、クラスター ノードのオペレーティング システムを Windows Server 2012 R2 から Windows Server 2016 にアップグレードします。 この機能を使用して、サービス レベル アグリーメント (SLA) に対してダウンタイム ペナルティを回避できます。  

**この変更はどのような値を追加しますか。**  

Windows Server 2012 R2 から Hyper-V またはスケール アウト ファイル サーバー クラスターを不要になった Windows Server 2016 にアップグレードします、ダウンタイムが必要です。 Windows Server 2016 を実行しているすべてのクラスターのノードまでに、Windows Server 2012 R2 のレベルで機能、クラスターが続行されます。 Windows PowerShell コマンドレットを使用して、クラスターの機能レベルを Windows Server 2016 にアップグレードする`Update-ClusterFunctionalLevel`します。  

> [!WARNING]  
> -   クラスターの機能レベルを更新した後は、Windows Server 2012 R2 クラスターの機能レベルに戻ることはできません。  
> -   されるまで、`Update-ClusterFunctionalLevel`コマンドレットの実行、プロセスは、元に戻せる状態、および Windows Server 2012 R2 ノードを追加することができますおよび Windows Server 2016 のノードを削除することができます。  

**動作の相違点**  

Hyper-V またはスケール アウト ファイル サーバーのフェールオーバー クラスターでは、ダウンタイムを発生させずに簡単にアップグレードできるようになりましたまたは Windows Server 2016 オペレーティング システムを実行しているノードと新しいクラスターを構築する必要があります。 Windows Server 2012 R2 へ移行するクラスターには、既存のクラスターをオフラインにして、各ノードに新しいオペレーティング システムの再インストールし、オンラインに戻す、クラスターの移行が含まれています。 古いプロセスが面倒と必要なダウンタイムします。 ただし、Windows Server 2016 で、クラスターは必要はありません、任意の時点でオフラインにします。  

フェーズでアップグレードに、クラスター オペレーティング システムは、クラスター内の各ノードのような。  
-   ノードが一時停止され、それを実行しているすべての仮想マシンのドレインします。  
-   仮想マシン (またはその他のクラスター ワークロード) は、cluster.The 仮想マシンは、クラスター内の別のノードに移行されます。  
-   既存のオペレーティング システムを削除し、ノード上の Windows Server 2016 オペレーティング システムのクリーン インストールを実行します。  
-   Windows Server 2016 オペレーティング システムを実行しているノードがクラスターに追加されます。  
-   この時点では、クラスターは混在モードで実行されていると言わ、クラスター ノードでは、Windows Server 2012 R2 または Windows Server 2016 のいずれかを実行しているためです。  
-   クラスターの機能レベルは Windows Server 2012 R2 で状態を維持します。 この機能のレベルで、オペレーティング システムの以前のバージョンとの互換性に影響する Windows Server 2016 の新機能は使用できません。  
-   最終的には、すべてのノードは、Windows Server 2016 にアップグレードされます。  
-   クラスターの機能レベルが Windows PowerShell コマンドレットを使用して Windows Server 2016 に変更し、`Update-ClusterFunctionalLevel`します。 この時点では、Windows Server 2016 の機能の利用を実行できます。  

詳細については、次を参照してください。[クラスター オペレーティング システムのローリング アップグレード](cluster-operating-system-rolling-upgrade.md)します。  

## <a name="BKMK_SR"></a>記憶域レプリカ  
記憶域レプリカは、記憶域にとらわれないを実現する新機能、サーバーまたはクラスターの災害復旧を拡大できるだけでなく、サイト間でフェールオーバー クラスターの間でブロック レベルの同期レプリケーションです。 同期レプリケーションでは、ファイル システム レベルでデータの損失を確実にクラッシュ整合のボリュームを持つ物理サイト内のデータのミラーリングします。 非同期のレプリケーションではデータ損失の可能性を持つ大都市圏の範囲を超えてサイトを拡張できます。  

**この変更はどのような値を追加しますか。**  

記憶域レプリカでは、次の操作を行うことができます。  

-   提供単一ベンダー障害回復ソリューションのミッション クリティカルなワークロードの計画および計画外の停止します。  

-   実証済みの信頼性、スケーラビリティ、パフォーマンスと SMB3 トランスポートを使用します。  

-   大都市圏の距離に Windows フェールオーバー クラスターを拡大します。  

-   記憶域とクラスタ リング、Hyper-V、記憶域レプリカ、記憶域スペース、クラスター、スケール アウト ファイル サーバー、SMB3、データ重複除去、REFS/NTFS などのエンド ツー エンドの Microsoft ソフトウェアを使用します。  

-   次のように、コストと複雑さを軽減に役立ちます。  

    -   ハードウェアに依存せず、DAS、SAN などの特定の記憶域構成の要件はありません。  

    -   商用記憶域やネットワーク テクノロジを使用します。  

    -   個々 のノードとクラスターをフェールオーバー クラスター マネージャーのグラフィカル管理の機能のしやすさ  

    -   Windows PowerShell を使って、包括的な大規模なスクリプト オプションが含まれます。  

-   ダウンタイムを短縮し、信頼性と Windows に備わっている生産性の向上に役立ちます。  

-   サポート性、パフォーマンス メトリック、および診断機能を提供します。  

詳細については、次を参照してください。、[Windows Server 2016 で記憶域レプリカ](../storage/storage-replica/storage-replica-overview.md)します。  


## <a name="BKMK_CloudWitness"></a>クラウド監視  
クラウド監視は、フェールオーバー クラスターのクォーラム監視が判別ポイントとして Microsoft Azure を活用して Windows Server 2016 での新しい型です。 クォーラム監視と同様に、クラウド監視は、投票を取得し、クォーラム計算に参加できます。 クラウド監視は、クラスター クォーラム ウィザード、構成を使用して、クォーラム監視として構成できます。  

**この変更はどのような値を追加しますか。**  

クラウド監視を使用して、フェールオーバー クラスターとしてクォーラム監視は、次の利点を提供します。  

-   Microsoft Azure を活用し、3 番目の独立したデータ センターの必要性を排除します。  

-   標準的な公開されている Microsoft Azure Blob Storage パブリック クラウドでホストされているバーチャル マシンのメンテナンスの余分なオーバーヘッドを排除するを使用します。  

-   複数のクラスター (クラスターごとに 1 つの blob のファイル、blob ファイル名として使用されるクラスターの一意の id) と同じ Microsoft Azure ストレージ アカウントを使用できます。  

-   ストレージ アカウント (blob ファイルは、クラスター ノードの状態が変更されたときに 1 回だけを更新、blob ファイルあたり書き込まれた非常に小さいデータ) するには、非常に低い進行中のコストを提供します。  

詳細については、次を参照してください。[クラウド監視を、フェールオーバー クラスターを展開](deploy-cloud-witness.md)します。  

**動作の相違点**  

この機能は、Windows Server 2016 の新機能です。  

## <a name="BKMK_VMs"></a>仮想マシンの回復性  
**回復性の compute** Windows Server 2016 には、次のように、計算クラスターでクラスター内の通信の問題を減らすコンピューティング回復性向上の仮想マシンにはが含まれています。 

-   **仮想マシンで使用できる回復性オプション:**一時的な障害時にバーチャル マシンの動作を定義する仮想マシンの回復性オプションを構成できます。  

    -   **回復性レベル:**一時的な障害の処理方法を定義できます。  

    -   **回復性の期間:**独立して実行するすべての仮想マシンを許可する期間を定義するのに役立ちます。  

-   **異常なノードの検疫:**異常なノードが検疫され、クラスターに参加することが許可されません。 これは、その他のノードと、全体的なクラスターを及ぼす悪影響をひらひらとノードを防ぎます。  

詳細については仮想マシン コンピューティング回復性ワークフローとノード検疫の設定は、ノードを分離または検疫に配置する方法を制御する、次を参照してください。[Windows Server 2016 で計算回復性の仮想マシン](http://blogs.msdn.com/b/clustering/archive/2015/06/03/10619308.aspx)します。  

**記憶域の回復性**で Windows Server 2016 では、仮想マシンは一時的な記憶域の障害に対する回復力のあるします。 強化された仮想マシンの回復性は、記憶域の中断が発生した場合のテナント仮想マシン セッションの状態を保持することができます。 これは、記憶域インフラストラクチャの問題への仮想マシンの intelligent とクイック応答によって実現されます。  

切断されると、仮想マシン記憶域を基になることが、一時停止し、記憶域を回復するを待ちます。 、一時停止中に仮想マシンで実行されているアプリケーションのコンテキストを保持します。 その記憶域を仮想マシンの接続が復元されたら、仮想マシンが実行状態に戻ります。 その結果、回復で、テナントのコンピューターのセッション状態が保持されます。  

Windows Server 2016 では、仮想マシンの記憶域の回復性は対応しており、ゲスト クラスター用に最適化されたすぎるです。  

## <a name="BKMK_Diagnostics"></a>フェールオーバー クラスタ リングの診断の向上  
フェールオーバー クラスターでの問題を診断するには、Windows Server 2016 には、次が含まれています。  

-   いくつかの機能強化により、(タイム ゾーンの情報や DiagnosticVerbose ログ) などクラスター ログ ファイルには、フェールオーバー クラスタ リングの問題をトラブルシューティングする簡単です。 詳細については、次を参照してください。[Windows Server 2016 フェールオーバー クラスターのトラブルシューティングの機能強化 - クラスター ログ](http://blogs.msdn.com/b/clustering/archive/2015/05/15/10614930.aspx)します。  

-   ダンプの種類を新しい**アクティブなメモリ ダンプ**、したがって、memory.dmp より小さいやすくを保存またはコピーして、仮想マシンに割り当てられているほとんどのメモリ ページが除外されます。  詳細については、次を参照してください。[Windows Server 2016 フェールオーバー クラスターのトラブルシューティングの機能強化 - Active ダンプ](http://blogs.msdn.com/b/clustering/archive/2015/05/18/10615526.aspx)します。  

## <a name="BKMK_SiteAware"></a>サイト認識フェールオーバー クラスター  
Windows Server 2016 には、物理的な場所 (サイト) に基づくストレッチ クラスター内のグループのノードを有効にするサイト認識フェールオーバー クラスターが含まれています。 クラスターがサイトを認識は、フェールオーバーの動作、配置ポリシー、ノード、およびクォーラムの動作の間でのハートビートなど、クラスター ライフ サイクルの主な操作を強化します。 詳細については、次を参照してください。[Windows Server 2016 でのサイト認識フェールオーバー クラスター](http://blogs.msdn.com/b/clustering/archive/2015/08/19/10636304.aspx)します。  

## <a name="BKMK_multidomainclusters"></a>ワークグループとマルチ ドメイン クラスター  
およびでは Windows Server 2012 R2 以前のバージョン、クラスターはのみ、同じドメインに参加しているメンバー ノード間で作成されます。   Windows Server 2016 ではこれら障壁と Active Directory の依存関係のないフェールオーバー クラスターを作成する機能が導入されています。 次の構成でフェールオーバー クラスターを作成できます。  

-   **単一ドメイン クラスター。** 同じドメインに参加しているすべてのノードとクラスター。  

-   **マルチ ドメイン クラスター。** 別のドメインのメンバーになっているノードを持つクラスター。  

-   **ワークグループ クラスター。** これはメンバー サーバー ノードを持つクラスター/ワークグループ (ドメインに参加していない)。  

詳細については、次を参照してください[Windows Server 2016 のワークグループとマルチ ドメイン クラスター。](http://blogs.msdn.com/b/clustering/archive/2015/08/17/10635825.aspx)  
## <a name="BKMK_VMLoadBalancing"></a>仮想マシンの負荷分散  
バーチャル マシン負荷分散は、フェールオーバー クラスターでは、シームレスな負荷分散仮想マシンのクラスター内のノード全体を容易にする新しい機能です。 "過剰コミット"ノードは、仮想マシン メモリとノード上の CPU 使用率に基づく識別されます。 バーチャル マシンが (ライブ移行) を移動し、利用可能な帯域幅 (該当する場合) を持つノードに"過剰コミット"のノードから。 負荷分散の強度を調整することで、クラスターの最適なパフォーマンスと使用率を確認します。  負荷分散は、Windows Sever 2016 Technical Preview では既定で有効です。 ただし、負荷分散が無効になっている SCVMM 動的最適化が有効にするとします。  

## <a name="BKMK_VMStartOrder"></a>仮想マシンのスタート画面の順序  
仮想マシンの起動順序がクラスターの新機能で、フェールオーバー クラスタ リングでのバーチャル マシンの開始順序オーケストレーション (およびすべてのグループ) が導入されています。 仮想マシンが、階層にグループ化するようになりましたことができ、別の階層間でスタート画面の順序の依存関係を作成することができます。 これにより、(ドメイン コントローラーまたはユーティリティ仮想マシンなど) の最も重要な仮想マシンが最初開始されています。 までの依存関係を持っている仮想マシンを起動することも、仮想マシンは起動されません。  

## <a name="BKMK_SMBMultiChannel"></a>簡素化された SMB マルチ チャネルと複数 NIC のクラスター ネットワーク  
フェールオーバー クラスターのネットワークが不要になったサブネットごとに 1 つの NIC に制限/ネットワークします。 簡素化された SMB マルチ チャネルと複数 NIC のクラスター ネットワーク、ネットワークの構成が [自動およびサブネット上のすべての NIC がクラスターとワークロードのトラフィックに使用することができます。 この機能強化を使用することにより、Hyper-V、SQL Server フェールオーバー クラスタ インスタンス、およびその他の SMB のワークロードのネットワークのスループットを最大化できます。  

詳細については、次を参照してください。[簡素化された SMB マルチ チャネルと複数 NIC のクラスター ネットワーク](smb-multichannel.md)します。

## <a name="see-also"></a>参照してください。  
* [記憶域](../storage/storage.md)  
* [Windows Server 2016 の記憶域の新機能](../storage/whats-new-in-storage.md)  
