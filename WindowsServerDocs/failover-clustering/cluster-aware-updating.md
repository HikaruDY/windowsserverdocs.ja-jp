---
title: "クラスター対応更新の概要"
ms.topic: article
ms.prod: windows-server-threshold
ms.manager: dongill
author: JasonGerend
ms.author: jgerend
ms.technology: storage-failover-clustering
ms.date: 3/23/2017
description: "クラスター対応更新 (CAU) は、Windows Server を実行しているクラスターでソフトウェア更新プログラムのインストールを自動化します。"
ms.assetid: 3c2993b4-aa81-452b-a5c3-3724ad95d892
ms.openlocfilehash: 68336741accabd6e4cb0da5dbd708be707f68df6
ms.sourcegitcommit: 583355400f6b0d880dc0ac6bc06f0efb50d674f7
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 10/17/2017
---
# <a name="cluster-aware-updating-overview"></a>クラスター対応更新の概要

> 適用対象: Windows Server (半期チャネル)、Windows Server 2016、Windows Server 2012 R2、Windows Server 2012

このトピックでは、対応 Cluster\ 更新 \(CAU\)、可用性を維持しながら、クラスター化されたサーバー上のプロセスを更新、ソフトウェアを自動化する機能の概要を示します。

> [!NOTE]
> 更新するときに[記憶域スペース ダイレクト](../storage/storage-spaces/storage-spaces-direct-overview.md)クラスターでは、使用をお勧めクラスター対応更新します。
  
## <a name="BKMK_OVER"></a>機能の説明  
内のサーバーを更新することができます、自動化する機能は、クラスター対応更新、[フェイル オーバー クラスター](failover-clustering-overview.md)可用性更新プロセス中にほとんどかまったく伴わずにします。 更新実行中、クラスター対応更新透過的に次のタスクを実行します。  

1. メンテナンス モードに切り替えるには、クラスターの各ノードで配置します。
2. クラスター化された役割をノードに移動します。
3. 更新プログラムと、依存する更新プログラムをインストールします。
4. 必要な場合は、再起動を実行します。
5. メンテナンス モードを解除] ノードが表示されます。
6. ノードのクラスター化された役割を復元します。
7. [次へ] ノードの更新に移動します。

クラスター内の多くのクラスター化された役割、自動更新プロセスは、計画フェールオーバーをトリガーします。 接続されているクライアントの一時的なサービスの中断が発生することができます。 ただし、継続的に利用可能なワークロード、たとえば、Hyper\-v とライブ マイグレーション、ファイル サーバーと SMB 透過フェールオーバー、時クラスター対応更新をコーディネートできます、サービスの可用性に影響を及ぼさずにクラスター更新します。    
  
## <a name="practical-applications"></a>実際の適用  
  
-   CAU は、クラスター化されたサービスのサービスの停止が少なく、手動による回避策を更新する必要が減りますなり、管理者の更新プロセスの信頼性の高いエンド ツー エンドのクラスターをします。 CAU 機能を継続的に使用可能なファイル サーバーなど、継続的に利用可能なクラスター ワークロードと組み合わせて使用するときに \ (SMB 透過 Failover\ 使ったファイル サーバー ワークロード) や Hyper\-v、クラスターのクライアントに対するサービスの可用性にまったく影響を及ぼさずに更新プログラムを実行することができます。  
  
-   CAU には、エンタープライズ全体での統一された IT プロセスの導入が容易になります。 更新実行プロファイルするさまざまなクラスのフェールオーバー クラスター用に作成でき、クラスターが異なる lines\ of\-業務や管理者によって管理されている場合でも、IT 組織の隅々 まで CAU 展開が、一貫した更新プログラムを適用することを確認するためにファイル共有で一元的に管理できます。  
  
-   CAU は、他の IT 管理プロセスとクラスターの更新を調整するため毎日、毎週、または毎月定期的に更新実行をスケジュールできます。  
  
-   CAU は、cluster\ 対応的に、クラスター ソフトウェア インベントリを更新する拡張性に優れたアーキテクチャを提供します。 これは、ソフトウェアの更新の Windows Update や Microsoft Update に公開されないか、たとえば、Microsoft から入手できない、Microsoft 以外のデバイス ドライバーの更新のインストールを調整するための発行元で使用できます。  
  
-   CAU 自己更新モードでは、「ボックス内のクラスター」アプライアンス \ (通常、1 つ chassis\ にパッケージ化されて、クラスター化された物理マシンのセット) を自動的に更新します。 通常、このようなアプライアンスは、クラスターを管理する最小限のローカル IT サポートでブランチ オフィスに展開されます。 自己更新モードでは、これらの展開シナリオで大きな価値を提供します。  
  
## <a name="important-functionality"></a>重要な機能  
クラスター対応更新の重要な機能の説明を次に示します。  
  
-   ユーザー インターフェイス \(UI\) -、クラスター対応更新期間と、一連のコマンドレットを使用して、プレビュー、適用、監視、および、更新プログラムに関するレポートできます。  
  
-   Cluster\ 更新操作、エンド ツー エンドの自動化 \ (、更新 Run\) では、1 つまたは複数の更新コーディネーター コンピューターによってコーディネートされます。  
  
-   Microsoft の重要な更新プログラムを適用するには、既存の Windows Update エージェント \(WUA\) と Windows Server での Windows Server Update Services \(WSUS\) インフラストラクチャと統合される既定のプラグインを  
  
-   1 秒にプラグインを使用できる Microsoft の修正プログラムを適用して、Microsoft 以外の更新プログラムを適用するカスタマイズできます  
  
-   更新実行プロファイルをノードごとに、更新プログラムを再試行する最大回数など、更新実行オプションの設定を構成します。 更新実行プロファイルを使用すると、更新実行の間で同じ設定を迅速に再利用し、その他のフェールオーバー クラスターと更新プログラムの設定を簡単に共有できます。  
  
-   カスタム ソフトウェア インストーラー、BIOS 更新ツールなど、クラスター全体でその他の node\ 更新ツールを調整し、ネットワーク アダプターやホスト バス アダプター \(HBA\) 更新ツールの新しいプラグインの開発をサポートする拡張性に優れたアーキテクチャ。  
  
クラスター対応更新、完全なクラスター更新の 2 つのモードで操作をコーディネートできます。  
  
-   **自己更新モード**更新するのには、フェールオーバー クラスター上のワークロードとしてこのモードで CAU のクラスター化された役割が構成されているし、関連する更新スケジュールを定義します。 クラスターが自己更新既定またはカスタムの更新実行プロファイルを使用して、スケジュールされた時刻。 更新実行中に、CAU のクラスター化された役割を現在所有しているノードで CAU 更新コーディネーター プロセスを開始し、プロセスでは、各クラスター ノードで、更新プログラムを順番に実行します。 現在のクラスター ノードを更新するには、CAU のクラスター化された役割にフェールオーバーする別のクラスター ノードとそのノード上の新しい更新コーディネーター プロセスが、更新実行の制御を想定しています。 自己更新モードで CAU は、完全に自動化されたエンド ツー エンドの更新プロセスを使用して、フェールオーバー クラスターを更新できます。 管理者こともできますトリガー オンデマンドこのモードでの更新または場合、remote\ 更新方式使用だけが必要です。 自己更新モードで管理者が取得できます Updating Run に関する概要情報の進行状況を実行して、クラスターに接続する、**Get\ CauRun** Windows PowerShell コマンドレット。  
  
-   **Remote\ 更新モード**CAU ツールでこのモードの場合、Update Coordinator と呼ばれる、リモート コンピューターが構成されています。 更新コーディネーターは、更新実行中に更新されるクラスターのメンバーではありません。 リモートのコンピューターから、管理者はトリガー、オンデマンドの更新実行既定またはカスタムの更新実行プロファイルを使用してされます。 Remote\ 更新モードでは、クラスターの Server Core インストールで実行されていると、更新実行中に、ため時の進行状況を監視するために役立ちます。  
  
## <a name="hardware-and-software-requirements"></a>ハードウェアおよびソフトウェア要件  

CAU は、Server Core インストールも含め、Windows Server のすべてのエディションで使用できます。 詳細な要件については、次を参照してください。[クラスター対応更新の要件とベスト プラクティス](cluster-aware-updating-requirements.md)します。

### <a name="installing-cluster-aware-updating"></a>クラスター対応更新のインストール
CAU を使用して、Windows Server フェールオーバー クラスタ リング機能をインストールし、フェールオーバー クラスターを作成します。 CAU の機能をサポートするコンポーネントは、各クラスター ノードに自動的にインストールします。

フェールオーバー クラスタ リング機能をインストールするには、次のツールを使用することができます。
- サーバー マネージャーで役割と機能のウィザードを追加します。
- [Install-windowsfeature](https://technet.microsoft.com/itpro/powershell/windows/server-manager/install-windowsfeature) Windows PowerShell コマンドレット
- 展開イメージのサービスと管理 (DISM) コマンド ライン ツール

詳細については、次を参照してください。[インストールまたはアンインストール役割、役割サービス、または機能](https://technet.microsoft.com/library/hh831809(v=ws.11).aspx)します。

また、フェールオーバー クラスタ リング ツールをするリモート サーバー管理ツールの一部であるし、サーバー マネージャーでフェールオーバー クラスタ リング機能をインストールするときに、既定でインストールをインストールする必要があります。 フェールオーバー クラスタ リング ツールには、クラスター対応更新のユーザー インターフェイスおよび PowerShell コマンドレットが含まれます。 

別の CAU 更新モードをサポートするために次のように、フェールオーバー クラスタ リング ツールをインストールする必要があります。

- CAU を自己更新モードを使うには、各クラスター ノードにフェールオーバー クラスタ リング ツールをインストールします。   
  
- Remote\ 更新モードを有効にするには、フェールオーバー クラスターへのネットワーク接続のあるコンピューターにフェールオーバー クラスタ リング ツールをインストールします。  
  
> [!NOTE]  
> -   新しいバージョンの Windows Server 上のクラスター対応更新を管理する Windows Server 2012 にフェールオーバー クラスタ リング ツールを使うことはできません。 
> -   Remote\ 更新モード限定で CAU を使用するには、クラスター ノードにフェールオーバー クラスタ リング ツールのインストールは必要ありません。 ただし、特定の CAU 機能は利用できません。 詳細については、次を参照してください。[要件とベスト プラクティス Cluster\ 対応更新の](cluster-aware-updating-requirements.md)します。  
> -   CAU 自己更新モードでのみを使用している場合を除きを CAU ツールがインストールされているし、更新をコーディネートするコンピューターは、フェールオーバー クラスターのメンバーであることはできません。  
  
### <a name="enabling-self-updating-mode"></a>自己更新モードを有効にします。
自己更新モードを有効にするには、フェールオーバー クラスターにクラスター対応更新のクラスター化された役割を追加する必要があります。 これを行うには、次の方法のいずれかの手順に従います。
- サーバー マネージャーで、選択**ツール** > **Cluster-aware Updating**、クラスター対応更新] ウィンドウで、次のように選択します。**自己更新オプションを構成するクラスター**します。 
- PowerShell セッションでは、実行、[Add-cauclusterrole](https://technet.microsoft.com/itpro/powershell/windows/cluster-aware-updating/add-cauclusterrole)コマンドレット。  
  
CAU をアンインストールし、サーバー マネージャーを使用して、フェールオーバー クラスタ リング機能やフェールオーバー クラスタ リング ツールをアンインストールする、[Uninstall-windowsfeature](https://technet.microsoft.com/itpro/powershell/windows/server-manager/uninstall-windowsfeature)コマンドレット、または DISM コマンド ライン ツールです。  
  
### <a name="additional-requirements-and-best-practices"></a>その他の要件とベスト プラクティス  

CAU は正常にして、CAU を使用するフェールオーバー クラスター環境の構成の詳細なガイダンスについては、クラスター ノードを更新できることを確認するには、CAU ベスト プラクティス アナライザーを実行することができます。  
  
詳細な要件と、CAU と CAU ベスト プラクティス アナライザーの実行に関する情報を使用するためのベスト プラクティスは、次を参照してください。[要件とベスト プラクティス Cluster\ 対応更新の](cluster-aware-updating-requirements.md)します。  
  
### <a name="starting-cluster-aware-updating"></a>クラスター対応更新の開始  
  
##### <a name="to-start-cluster-aware-updating-from-server-manager"></a>サーバー マネージャーからをクラスター対応更新を開始するには  
  
1.  サーバー マネージャーを起動します。  
  
2.  次のいずれかの操作を行います。  
  
    -   **ツール**] メニューのをクリックして**Cluster\ 対応更新**します。  
  
    -   1 つまたは複数のクラスター ノードまたはクラスター上のサーバー マネージャーへが追加された場合、**すべてのサーバー**ページで、ノードの名前を右クリック \ (または、cluster\ の名前)、] をクリックし、**更新クラスター**します。  
  
## <a name="see-also"></a>参照してください。  
次のリンクは、クラスター対応更新の使用に関する詳細を提供します。  
  
-   [要件と Cluster\ 対応更新のベスト プラクティス](cluster-aware-updating.md)  
  
-   [Cluster\ 対応更新: よく寄せられる質問](cluster-aware-updating-faq.md)  
  
-   [高度なオプションと cau 更新実行プロファイル](cluster-aware-updating-options.md)  
  
-   [CAU プラグインのプラグインのしくみ](cluster-aware-updating-plug-ins.md)  
  
-   [Windows PowerShell で Cluster\ 対応更新のコマンドレット](https://go.microsoft.com/fwlink/p/?LinkId=237675)  
  
-   [Cluster\ 対応更新プラグインのリファレンス](https://msdn.microsoft.com/library/hh418084.aspx)  
  

