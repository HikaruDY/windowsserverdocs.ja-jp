---
title: クラスター対応更新の概要
ms.topic: article
ms.prod: windows-server-threshold
ms.manager: dongill
author: JasonGerend
ms.author: jgerend
ms.technology: storage-failover-clustering
ms.date: 08/06/2018
description: クラスター対応更新 (CAU) は、Windows Server を実行するクラスターでのソフトウェア更新プログラムのインストールを自動化します。
ms.assetid: 3c2993b4-aa81-452b-a5c3-3724ad95d892
ms.openlocfilehash: 77ccfe7dc9a769d602ff069d5f1d8e77522aa001
ms.sourcegitcommit: 0d0b32c8986ba7db9536e0b8648d4ddf9b03e452
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/17/2019
ms.locfileid: "59827423"
---
# <a name="cluster-aware-updating-overview"></a>クラスター対応更新の概要

> 適用対象:Windows Server (半期チャネル)、Windows Server 2016、Windows Server 2012 R2、Windows Server 2012

このトピックではクラスターの概要が\-対応更新\(CAU\)ソフトウェアの更新処理を自動化する機能は、可用性を維持しながらサーバーをクラスター化します。

> [!NOTE]
> 更新するときに[記憶域スペース ダイレクト](../storage/storage-spaces/storage-spaces-direct-overview.md)クラスターでは、クラスター対応更新を使用してお勧めします。
  
## <a name="BKMK_OVER"></a>機能の説明  
内のサーバーを更新することができます、自動化された機能は、クラスター対応更新を[フェイル オーバー クラスター](failover-clustering-overview.md)更新プロセス中に可用性の損失をほとんどまたはまったくないのです。 更新実行中では、次のタスクの実行クラスター対応更新透過的にします。  

1. ノードのメンテナンス モードには、クラスターの各ノードを配置します。
2. ノードをクラスター化された役割を移動します。
3. 更新プログラムおよびすべての依存の更新プログラムをインストールします。
4. 必要な場合は、再起動を実行します。
5. メンテナンス モードを終了ノードが表示されます。
6. ノードのクラスター化された役割を復元します。
7. 次のノードの更新に移動します。

多くのクラスター役割がクラスターにある場合、自動更新プロセスにより計画フェールオーバーがトリガーされます。 これにより、接続されたクライアントに対するサービスが一時的に中断されることがあります。 ただし、ハイパースレッディングなどの継続的に使用可能なワークロードの場合は\-V ライブ移行やファイル サーバーと SMB 透過フェールオーバー、クラスター対応更新では、サービスの可用性に影響を及ぼさずにクラスターの更新プログラムを調整できます。    
  
## <a name="practical-applications"></a>実際の適用例  
  
-   CAU のクラスター化されたサービスのサービスの停止を軽減、不要な手動の回避策の更新が削減され、最後は、\-に\-エンドのクラスターの管理者より信頼性の高いプロセスを更新します。 CAU 機能を継続的に使用可能なファイル サーバーなどの継続的に使用可能なクラスターのワークロードと組み合わせて使用するときに\(と SMB 透過フェールオーバー、ファイル サーバー ワークロード\)またはハイパースレッディング\-V クラスタークライアントのサービスの可用性に影響を与えるには、更新プログラムを実行できます。  
  
-   CAU によって、全社的に統一された IT プロセスを導入しやすくなります。 更新実行プロファイルのフェールオーバー クラスターの別のクラスを作成でき、クラスターが別々 の行で管理されている場合でも、IT 組織全体で CAU 展開が、一貫した更新プログラムを適用することを確認するファイル共有で一元的に管理\-の\-業務分野や管理者。  
  
-   CAU では、更新実行のスケジュールを設定できます。毎日、毎週、毎月など、定期的に実行することで、他の IT 管理プロセスとの間でクラスターの更新を調整することができます。  
  
-   CAU は、クラスターでクラスターのソフトウェア インベントリを更新する拡張可能なアーキテクチャを提供します。\-方法に注意してください。 これは、Windows Update または Microsoft Update に公開されない、またはマイクロソフトなどの更新プログラムではないソフトウェア更新プログラムのインストールを調整する発行元によって使用できます非\-Microsoft デバイス ドライバー。  
  
-   CAU 自己\-モードの更新により、「ボックス内のクラスター」アプライアンス\(通常 1 つのシャーシにパッケージ化、クラスター化された物理マシンのセット\)自体を更新します。 通常、このようなアプライアンスは、現場での IT のサポートが限られているブランチ オフィスで、クラスターを管理することを目的に展開されます。 Self\-更新モード、これらの展開シナリオで大きな価値を提供しています。  
  
## <a name="important-functionality"></a>重要な機能  
クラスター対応更新の重要な機能の説明を次に示します。  
  
-   ユーザー インターフェイス\(UI\) -クラスター対応更新 ウィンドウで - とプレビュー、適用、監視を使用して、更新を報告するコマンドレットのセット  
  
-   終了\-に\-、クラスターの自動化の終了\-更新処理\(Updating Run\)、1 つまたは複数の更新コーディネーター コンピューターによって調整されました。  
  
-   既定のプラグイン\-と統合されます既存の Windows Update エージェント\(WUA\)および Windows Server Update Services \(WSUS\)重要な Microsoft を適用する Windows Server でのインフラストラクチャ。更新プログラム  
  
-   2 番目のプラグ\-で Microsoft 修正プログラムを適用するために使用して非適用をカスタマイズできます\-Microsoft 更新プログラム  
  
-   更新実行プロファイル。更新実行オプション (1 ノードあたりの再試行回数の上限など) 設定を構成するときに使います。 複数の更新実行で同じ設定を再利用でき、更新設定を他のフェールオーバー クラスターと簡単に共有することができます。  
  
-   新しいプラグインをサポートする拡張可能なアーキテクチャ\-他のノードを調整するための開発で\-BIOS 更新ツール、およびネットワーク アダプターやホスト バス アダプターカスタムソフトウェアインストーラーなど、クラスター全体にわたってツールを更新しています\(HBA\)ツールを更新します。  
  
クラスター対応更新と、完全なクラスターを 2 つのモードで操作を更新を調整できます。  
  
-   **Self\-更新モード**を更新するのには、フェールオーバー クラスター上のワークロードとしてこのモードで CAU のクラスター化された役割が構成されているし、関連する更新スケジュールを定義します。 予定の時刻になると、クラスターが既定またはカスタムの更新実行プロファイルを使って自己更新します。 更新実行中、その時点で CAU のクラスター化された役割を所有しているノード上の CAU 更新コーディネーター プロセスが起動し、それぞれのクラスター ノードに対する更新処理を順番に実行します。 現在のクラスター ノードを更新するために、CAU のクラスター化された役割は別のクラスター ノードにフェールオーバーされ、そのノード上の新しい更新コーディネーター プロセスが更新実行の制御を引き継ぎます。 Self\-モードを更新するには、CAU は完全に自動化されたを使用して、フェールオーバー クラスターを更新、終了\-に\-更新プロセスを終了します。 管理者の更新をトリガーできますも\-このモードで要求または使用するだけで、リモート\-必要な場合は、アプローチを更新します。 Self\-モードを更新するには、管理者が取得できます、更新の実行に関する概要情報進行中のクラスターに接続して、実行、**取得\-CauRun** Windows PowerShell コマンドレット。  
  
-   **リモート\-更新モード**CAU ツールでこのモードでは、更新コーディネーターと呼ばれる、リモート コンピューターが構成されています。 更新コーディネーターは、更新実行中に更新されるクラスターのメンバーではありません。 管理者は、リモートのコンピューターからのトリガーで\-既定またはカスタムの更新実行プロファイルを使用して更新実行を要求します。 リモート\-更新モードは、リアルタイムの監視に役立つ\-更新実行中には、Server Core インストールで実行されているクラスターに進行状況を時間します。  
  
## <a name="hardware-and-software-requirements"></a>ハードウェアとソフトウェアの要件  

CAU は、Server Core インストールも含め、Windows Server のすべてのエディションで使用できます。 要件の詳細については、次を参照してください。[クラスター対応更新の要件とベスト プラクティス](cluster-aware-updating-requirements.md)します。

### <a name="installing-cluster-aware-updating"></a>クラスター対応更新のインストール
CAU を使用するには、Windows server フェールオーバー クラスタ リング機能をインストールし、フェールオーバー クラスターを作成します。 CAU 機能に必要なコンポーネントは、各クラスター ノードに自動的にインストールされます。

フェールオーバー クラスタリング機能は、次のツールを使ってインストールできます。
- 役割と機能の追加ウィザード (サーバー マネージャー)
- [Install-windowsfeature](https://docs.microsoft.com/powershell/module/servermanager/Install-WindowsFeature?view=winserver2012r2-ps&viewFallbackFrom=win10-ps) Windows PowerShell コマンドレット
- 展開イメージのサービスと管理 (DISM) のコマンド ライン ツール

詳細については、次を参照してください。[フェールオーバー クラスタ リング機能をインストール](create-failover-cluster.md#install-the-failover-clustering-feature)します。

フェールオーバー クラスタ リング ツール、これは、リモート サーバー管理ツールの一部が既定でインストールされているサーバー マネージャーで、フェールオーバー クラスタ リング機能をインストールするときにインストールすることも必要があります。 フェールオーバー クラスタ リング ツールには、クラスター対応更新のユーザー インターフェイスと PowerShell コマンドレットが含まれます。 

サポートする CAU 更新モードに応じて、フェールオーバー クラスタ リング ツールを次の方法でインストールする必要があります。

- 自身で CAU を使用する\-更新モードでは、各クラスター ノードでフェールオーバー クラスタ リング ツールをインストールします。   
  
- リモートを有効にする\-フェールオーバー クラスターへのネットワーク接続をあるコンピューター上でフェールオーバー クラスタ リング ツールをインストール モードを更新します。  
  
> [!NOTE]  
> -   Windows Server 2012 でフェールオーバー クラスタ リング ツールを使用して、新しいバージョンの Windows Server 上のクラスター対応更新を管理することはできません。 
> -   リモートのみで CAU を使用する\-モードを更新するには、クラスター ノードでフェールオーバー クラスタ リング ツールのインストールは必要ありません。 ただし、特定の CAU の機能は使用できなくなります。 詳細については、次を参照してください。[要件とクラスターのベスト プラクティス\-対応更新](cluster-aware-updating-requirements.md)します。  
> -   自身でのみ、CAU を使用している場合を除き、\-モードを更新するには、コンピューターを CAU ツールのインストールし、更新プログラムを調整するは、フェールオーバー クラスターのメンバーをすることはできません。  
  
### <a name="enabling-self-updating-mode"></a>自己更新モードを有効にします。
自己更新モードを有効にするには、フェールオーバー クラスターにクラスター対応更新のクラスター化された役割を追加する必要があります。 これを行うには、次のメソッドのいずれかを使用します。
- サーバー マネージャーで、選択**ツール** > **Cluster-aware Updating**、し、クラスター対応更新 ウィンドウで、次のように選択します**構成のクラスターが自己更新オプション。**. 
- PowerShell セッションで実行、 [Add-cauclusterrole](https://docs.microsoft.com/powershell/module/clusterawareupdating/Add-CauClusterRole?view=win10-ps)コマンドレット。  
  
CAU をアンインストールするには、サーバー マネージャーを使用してフェールオーバー クラスタ リング機能やフェールオーバー クラスタ リング ツールをアンインストール、 [Uninstall-windowsfeature](https://docs.microsoft.com/powershell/module/servermanager/Uninstall-WindowsFeature?view=win10-ps)コマンドレット、または DISM コマンド\-コマンドライン ツールです。  
  
### <a name="additional-requirements-and-best-practices"></a>その他の要件とベスト プラクティス  

CAU によりクラスター ノードが正常に更新できることを確認するには、また、CAU を使用するようにフェールオーバー クラスター環境を構成するための追加のガイダンスを参照するには、CAU ベスト プラクティス アナライザーを実行できます。  
  
詳細な要件と、CAU と CAU ベスト プラクティス アナライザーの実行に関する情報を使用するためのベスト プラクティスは、次を参照してください。[要件とクラスターのベスト プラクティス\-対応更新](cluster-aware-updating-requirements.md)します。  
  
### <a name="starting-cluster-aware-updating"></a>クラスター対応更新の開始  
  
##### <a name="to-start-cluster-aware-updating-from-server-manager"></a>サーバー マネージャーをクラスター対応更新を開始するには  
  
1.  サーバー マネージャーを起動します。  
  
2.  次のいずれかの操作を行います。  
  
    -   **ツール** メニューのをクリックして**クラスター\-対応更新**します。  
  
    -   1 つまたは複数のクラスター ノードまたはクラスター上のサーバー マネージャーが追加された場合、**すべてのサーバー**ページの右\-ノードの名前をクリックして\(またはクラスターの名前\)、 をクリックし、 **クラスター更新**します。  
  
## <a name="see-also"></a>関連項目  
次のリンクは、クラスター対応更新の使用に関する詳細を提供します。  
  
-   [要件とクラスターのベスト プラクティス\-対応更新](cluster-aware-updating.md)  
  
-   [クラスター\-対応更新します。よく寄せられる質問](cluster-aware-updating-faq.md)  
  
-   [高度なオプションと cau 更新実行プロファイル](cluster-aware-updating-options.md)  
  
-   [CAU のプラグイン\-ins 作業](cluster-aware-updating-plug-ins.md)  
  
-   [クラスター\-対応の Windows PowerShell コマンドレットの更新](https://docs.microsoft.com/powershell/module/clusterawareupdating/?view=win10-ps&viewFallbackFrom=winserverr2-ps)  
  
-   [クラスター\-対応更新プラグイン\-リファレンス](https://docs.microsoft.com/previous-versions/windows/desktop/mscs/cluster-aware-update-plug-in-interfaces-and-classes)  
  

